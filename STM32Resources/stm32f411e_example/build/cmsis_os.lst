ARM GAS  /tmp/cc5c7TuJ.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"cmsis_os.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.makeFreeRtosPriority,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	makeFreeRtosPriority:
  25              	.LFB30:
  26              		.file 1 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c"
   1:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* ----------------------------------------------------------------------
   2:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * $Date:        5. February 2013
   3:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * $Revision:    V1.02
   4:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
   5:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Project:      CMSIS-RTOS API
   6:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Title:        cmsis_os.c
   7:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
   8:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 0.02
   9:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Initial Proposal Phase
  10:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 0.03
  11:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osKernelStart added, optional feature: main started as thread
  12:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osSemaphores have standard behavior
  13:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osTimerCreate does not start the timer, added osTimerStart
  14:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osThreadPass is renamed to osThreadYield
  15:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 1.01
  16:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Support for C++ interface
  17:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *     - const attribute removed from the osXxxxDef_t typedef's
  18:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *     - const attribute added to the osXxxxDef macros
  19:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osTimerDelete, osMutexDelete, osSemaphoreDelete
  20:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osKernelInitialize
  21:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 1.02
  22:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Control functions for short timeouts in microsecond resolution:
  23:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osKernelSysTick, osKernelSysTickFrequency, osKernelSysTickMicroSec
  24:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Removed: osSignalGet 
  25:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    
  26:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  
  27:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *----------------------------------------------------------------------------
  28:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
  29:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Portions Copyright © 2016 STMicroelectronics International N.V. All rights reserved.
  30:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Portions Copyright (c) 2013 ARM LIMITED
  31:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * All rights reserved.
  32:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Redistribution and use in source and binary forms, with or without
ARM GAS  /tmp/cc5c7TuJ.s 			page 2


  33:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * modification, are permitted provided that the following conditions are met:
  34:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Redistributions of source code must retain the above copyright
  35:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    notice, this list of conditions and the following disclaimer.
  36:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Redistributions in binary form must reproduce the above copyright
  37:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    notice, this list of conditions and the following disclaimer in the
  38:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    documentation and/or other materials provided with the distribution.
  39:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Neither the name of ARM  nor the names of its contributors may be used
  40:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    to endorse or promote products derived from this software without
  41:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    specific prior written permission.
  42:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
  43:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  44:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  45:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  46:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  47:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  48:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  49:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  50:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  51:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  52:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  53:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * POSSIBILITY OF SUCH DAMAGE.
  54:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *---------------------------------------------------------------------------*/
  55:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  56:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  /**
  57:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ******************************************************************************
  58:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @file    cmsis_os.c
  59:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @author  MCD Application Team
  60:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @date    13-July-2017
  61:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @brief   CMSIS-RTOS API implementation for FreeRTOS V9.0.0
  62:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ******************************************************************************
  63:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @attention
  64:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  65:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * Redistribution and use in source and binary forms, with or without 
  66:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * modification, are permitted, provided that the following conditions are met:
  67:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  68:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 1. Redistribution of source code must retain the above copyright notice, 
  69:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this list of conditions and the following disclaimer.
  70:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  71:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this list of conditions and the following disclaimer in the documentation
  72:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    and/or other materials provided with the distribution.
  73:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 3. Neither the name of STMicroelectronics nor the names of other 
  74:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    contributors to this software may be used to endorse or promote products 
  75:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    derived from this software without specific written permission.
  76:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 4. This software, including modifications and/or derivative works of this 
  77:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    software, must execute solely and exclusively on microcontroller or
  78:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  79:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 5. Redistribution and use of this software other than as permitted under 
  80:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this license is void and will automatically terminate your rights under 
  81:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this license. 
  82:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  83:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS" 
  84:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT 
  85:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
  86:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  87:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT 
  88:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  89:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
ARM GAS  /tmp/cc5c7TuJ.s 			page 3


  90:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, 
  91:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF 
  92:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING 
  93:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  94:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  95:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  96:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ******************************************************************************
  97:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   */ 
  98:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  99:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #include <string.h>
 100:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #include "cmsis_os.h"
 101:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 102:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
 103:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARM Compiler 4/5
 104:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
 105:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if   defined ( __CC_ARM )
 106:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 107:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __ASM            __asm                                      
 108:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __INLINE         __inline                                     
 109:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __STATIC_INLINE  static __inline
 110:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 111:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include "cmsis_armcc.h"
 112:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 113:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
 114:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * GNU Compiler
 115:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
 116:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif defined ( __GNUC__ )
 117:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 118:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __ASM            __asm                                      /*!< asm keyword for GNU Comp
 119:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __INLINE         inline                                     /*!< inline keyword for GNU C
 120:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __STATIC_INLINE  static inline
 121:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 122:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include "cmsis_gcc.h"
 123:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 124:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 125:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
 126:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * IAR Compiler
 127:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
 128:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif defined ( __ICCARM__ )
 129:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 130:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __ASM
 131:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __ASM                     __asm
 132:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
 133:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __INLINE
 134:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __INLINE                  inline
 135:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
 136:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __STATIC_INLINE
 137:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __STATIC_INLINE           static inline
 138:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
 139:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 140:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include <cmsis_iar.h>
 141:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 142:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 143:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** extern void xPortSysTickHandler(void);
 144:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 145:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Convert from CMSIS type osPriority to FreeRTOS priority number */
 146:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static unsigned portBASE_TYPE makeFreeRtosPriority (osPriority priority)
ARM GAS  /tmp/cc5c7TuJ.s 			page 4


 147:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
  27              		.loc 1 147 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 16
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32 0000 80B4     		push	{r7}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 7, -4
  36 0002 85B0     		sub	sp, sp, #20
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 0346     		mov	r3, r0
  43 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 148:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   unsigned portBASE_TYPE fpriority = tskIDLE_PRIORITY;
  44              		.loc 1 148 0
  45 000a 0023     		movs	r3, #0
  46 000c FB60     		str	r3, [r7, #12]
 149:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 150:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (priority != osPriorityError) {
  47              		.loc 1 150 0
  48 000e B7F90630 		ldrsh	r3, [r7, #6]
  49 0012 842B     		cmp	r3, #132
  50 0014 05D0     		beq	.L2
 151:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     fpriority += (priority - osPriorityIdle);
  51              		.loc 1 151 0
  52 0016 B7F90620 		ldrsh	r2, [r7, #6]
  53 001a FB68     		ldr	r3, [r7, #12]
  54 001c 1344     		add	r3, r3, r2
  55 001e 0333     		adds	r3, r3, #3
  56 0020 FB60     		str	r3, [r7, #12]
  57              	.L2:
 152:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 153:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 154:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return fpriority;
  58              		.loc 1 154 0
  59 0022 FB68     		ldr	r3, [r7, #12]
 155:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
  60              		.loc 1 155 0
  61 0024 1846     		mov	r0, r3
  62 0026 1437     		adds	r7, r7, #20
  63              	.LCFI3:
  64              		.cfi_def_cfa_offset 4
  65 0028 BD46     		mov	sp, r7
  66              	.LCFI4:
  67              		.cfi_def_cfa_register 13
  68              		@ sp needed
  69 002a 5DF8047B 		ldr	r7, [sp], #4
  70              	.LCFI5:
  71              		.cfi_restore 7
  72              		.cfi_def_cfa_offset 0
  73 002e 7047     		bx	lr
  74              		.cfi_endproc
ARM GAS  /tmp/cc5c7TuJ.s 			page 5


  75              	.LFE30:
  77              		.section	.text.makeCmsisPriority,"ax",%progbits
  78              		.align	1
  79              		.syntax unified
  80              		.thumb
  81              		.thumb_func
  82              		.fpu fpv4-sp-d16
  84              	makeCmsisPriority:
  85              	.LFB31:
 156:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 157:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_uxTaskPriorityGet == 1)
 158:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Convert from FreeRTOS priority number to CMSIS type osPriority */
 159:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static osPriority makeCmsisPriority (unsigned portBASE_TYPE fpriority)
 160:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
  86              		.loc 1 160 0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 16
  89              		@ frame_needed = 1, uses_anonymous_args = 0
  90              		@ link register save eliminated.
  91 0000 80B4     		push	{r7}
  92              	.LCFI6:
  93              		.cfi_def_cfa_offset 4
  94              		.cfi_offset 7, -4
  95 0002 85B0     		sub	sp, sp, #20
  96              	.LCFI7:
  97              		.cfi_def_cfa_offset 24
  98 0004 00AF     		add	r7, sp, #0
  99              	.LCFI8:
 100              		.cfi_def_cfa_register 7
 101 0006 7860     		str	r0, [r7, #4]
 161:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPriority priority = osPriorityError;
 102              		.loc 1 161 0
 103 0008 8423     		movs	r3, #132
 104 000a FB81     		strh	r3, [r7, #14]	@ movhi
 162:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 163:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((fpriority - tskIDLE_PRIORITY) <= (osPriorityRealtime - osPriorityIdle)) {
 105              		.loc 1 163 0
 106 000c 7B68     		ldr	r3, [r7, #4]
 107 000e 062B     		cmp	r3, #6
 108 0010 04D8     		bhi	.L5
 164:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     priority = (osPriority)((int)osPriorityIdle + (int)(fpriority - tskIDLE_PRIORITY));
 109              		.loc 1 164 0
 110 0012 7B68     		ldr	r3, [r7, #4]
 111 0014 9BB2     		uxth	r3, r3
 112 0016 033B     		subs	r3, r3, #3
 113 0018 9BB2     		uxth	r3, r3
 114 001a FB81     		strh	r3, [r7, #14]	@ movhi
 115              	.L5:
 165:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 166:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 167:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return priority;
 116              		.loc 1 167 0
 117 001c B7F90E30 		ldrsh	r3, [r7, #14]
 168:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 118              		.loc 1 168 0
 119 0020 1846     		mov	r0, r3
 120 0022 1437     		adds	r7, r7, #20
ARM GAS  /tmp/cc5c7TuJ.s 			page 6


 121              	.LCFI9:
 122              		.cfi_def_cfa_offset 4
 123 0024 BD46     		mov	sp, r7
 124              	.LCFI10:
 125              		.cfi_def_cfa_register 13
 126              		@ sp needed
 127 0026 5DF8047B 		ldr	r7, [sp], #4
 128              	.LCFI11:
 129              		.cfi_restore 7
 130              		.cfi_def_cfa_offset 0
 131 002a 7047     		bx	lr
 132              		.cfi_endproc
 133              	.LFE31:
 135              		.section	.text.inHandlerMode,"ax",%progbits
 136              		.align	1
 137              		.syntax unified
 138              		.thumb
 139              		.thumb_func
 140              		.fpu fpv4-sp-d16
 142              	inHandlerMode:
 143              	.LFB32:
 169:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 170:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 171:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 172:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Determine whether we are in thread mode or handler mode. */
 173:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static int inHandlerMode (void)
 174:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 144              		.loc 1 174 0
 145              		.cfi_startproc
 146              		@ args = 0, pretend = 0, frame = 8
 147              		@ frame_needed = 1, uses_anonymous_args = 0
 148              		@ link register save eliminated.
 149 0000 80B4     		push	{r7}
 150              	.LCFI12:
 151              		.cfi_def_cfa_offset 4
 152              		.cfi_offset 7, -4
 153 0002 83B0     		sub	sp, sp, #12
 154              	.LCFI13:
 155              		.cfi_def_cfa_offset 16
 156 0004 00AF     		add	r7, sp, #0
 157              	.LCFI14:
 158              		.cfi_def_cfa_register 7
 159              	.LBB8:
 160              	.LBB9:
 161              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS Cortex-M Core Function/Instruction Header File
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V4.30
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     20. October 2015
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Copyright (c) 2009 - 2015 ARM LIMITED
   8:Drivers/CMSIS/Include/cmsis_gcc.h **** 
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****    All rights reserved.
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****    Redistribution and use in source and binary forms, with or without
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****    modification, are permitted provided that the following conditions are met:
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Redistributions of source code must retain the above copyright
ARM GAS  /tmp/cc5c7TuJ.s 			page 7


  13:Drivers/CMSIS/Include/cmsis_gcc.h ****      notice, this list of conditions and the following disclaimer.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Redistributions in binary form must reproduce the above copyright
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****      notice, this list of conditions and the following disclaimer in the
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****      documentation and/or other materials provided with the distribution.
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Neither the name of ARM nor the names of its contributors may be used
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****      to endorse or promote products derived from this software without
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****      specific prior written permission.
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****    *
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  24:Drivers/CMSIS/Include/cmsis_gcc.h ****    ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  25:Drivers/CMSIS/Include/cmsis_gcc.h ****    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  26:Drivers/CMSIS/Include/cmsis_gcc.h ****    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  27:Drivers/CMSIS/Include/cmsis_gcc.h ****    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Drivers/CMSIS/Include/cmsis_gcc.h ****    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Drivers/CMSIS/Include/cmsis_gcc.h ****    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  30:Drivers/CMSIS/Include/cmsis_gcc.h ****    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  31:Drivers/CMSIS/Include/cmsis_gcc.h ****    POSSIBILITY OF SUCH DAMAGE.
  32:Drivers/CMSIS/Include/cmsis_gcc.h ****    ---------------------------------------------------------------------------*/
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  36:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** #if defined ( __GNUC__ )
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  41:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  44:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  47:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
  49:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
  51:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  53:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  54:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
  55:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
  57:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __enable_irq(void)
  59:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  60:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  62:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
  66:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
  67:Drivers/CMSIS/Include/cmsis_gcc.h ****   Can only be executed in Privileged modes.
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __disable_irq(void)
ARM GAS  /tmp/cc5c7TuJ.s 			page 8


  70:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
  72:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  73:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  74:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  75:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
  77:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
  78:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  80:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_CONTROL(void)
  81:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
  83:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
  85:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  87:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  88:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  89:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
  93:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_CONTROL(uint32_t control)
  95:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
  97:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  98:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  99:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 100:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 101:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 102:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 105:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_IPSR(void)
 106:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 108:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 109:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 162              		.loc 2 109 0
 163              		.syntax unified
 164              	@ 109 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 165 0006 EFF30583 		MRS r3, ipsr
 166              	@ 0 "" 2
 167              		.thumb
 168              		.syntax unified
 169 000a 7B60     		str	r3, [r7, #4]
 110:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 170              		.loc 2 110 0
 171 000c 7B68     		ldr	r3, [r7, #4]
 172              	.LBE9:
 173              	.LBE8:
 175:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return __get_IPSR() != 0;
 174              		.loc 1 175 0
 175 000e 002B     		cmp	r3, #0
 176 0010 14BF     		ite	ne
ARM GAS  /tmp/cc5c7TuJ.s 			page 9


 177 0012 0123     		movne	r3, #1
 178 0014 0023     		moveq	r3, #0
 179 0016 DBB2     		uxtb	r3, r3
 176:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 180              		.loc 1 176 0
 181 0018 1846     		mov	r0, r3
 182 001a 0C37     		adds	r7, r7, #12
 183              	.LCFI15:
 184              		.cfi_def_cfa_offset 4
 185 001c BD46     		mov	sp, r7
 186              	.LCFI16:
 187              		.cfi_def_cfa_register 13
 188              		@ sp needed
 189 001e 5DF8047B 		ldr	r7, [sp], #4
 190              	.LCFI17:
 191              		.cfi_restore 7
 192              		.cfi_def_cfa_offset 0
 193 0022 7047     		bx	lr
 194              		.cfi_endproc
 195              	.LFE32:
 197              		.section	.text.osKernelStart,"ax",%progbits
 198              		.align	1
 199              		.global	osKernelStart
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 203              		.fpu fpv4-sp-d16
 205              	osKernelStart:
 206              	.LFB33:
 177:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 178:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Kernel Control Functions *****************************/
 179:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 180:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Initialize the RTOS Kernel for creating objects.
 181:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
 182:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelInitialize shall be consistent in every CMSIS-RTOS.
 183:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 184:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osKernelInitialize (void);
 185:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 186:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 187:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Start the RTOS Kernel with executing the specified thread.
 188:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_def    thread definition referenced with \ref osThread.
 189:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      pointer that is passed to the thread function as start argument.
 190:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function
 191:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelStart shall be consistent in every CMSIS-RTOS.
 192:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 193:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osKernelStart (void)
 194:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 207              		.loc 1 194 0
 208              		.cfi_startproc
 209              		@ args = 0, pretend = 0, frame = 0
 210              		@ frame_needed = 1, uses_anonymous_args = 0
 211 0000 80B5     		push	{r7, lr}
 212              	.LCFI18:
 213              		.cfi_def_cfa_offset 8
 214              		.cfi_offset 7, -8
 215              		.cfi_offset 14, -4
 216 0002 00AF     		add	r7, sp, #0
ARM GAS  /tmp/cc5c7TuJ.s 			page 10


 217              	.LCFI19:
 218              		.cfi_def_cfa_register 7
 195:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskStartScheduler();
 219              		.loc 1 195 0
 220 0004 FFF7FEFF 		bl	vTaskStartScheduler
 196:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 197:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 221              		.loc 1 197 0
 222 0008 0023     		movs	r3, #0
 198:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 223              		.loc 1 198 0
 224 000a 1846     		mov	r0, r3
 225 000c 80BD     		pop	{r7, pc}
 226              		.cfi_endproc
 227              	.LFE33:
 229              		.section	.text.osKernelRunning,"ax",%progbits
 230              		.align	1
 231              		.global	osKernelRunning
 232              		.syntax unified
 233              		.thumb
 234              		.thumb_func
 235              		.fpu fpv4-sp-d16
 237              	osKernelRunning:
 238              	.LFB34:
 199:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 200:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 201:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Check if the RTOS kernel is already started
 202:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  None
 203:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval (0) RTOS is not started
 204:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *         (1) RTOS is started
 205:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *         (-1) if this feature is disabled in FreeRTOSConfig.h 
 206:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note  MUST REMAIN UNCHANGED: \b osKernelRunning shall be consistent in every CMSIS-RTOS.
 207:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 208:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osKernelRunning(void)
 209:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 239              		.loc 1 209 0
 240              		.cfi_startproc
 241              		@ args = 0, pretend = 0, frame = 0
 242              		@ frame_needed = 1, uses_anonymous_args = 0
 243 0000 80B5     		push	{r7, lr}
 244              	.LCFI20:
 245              		.cfi_def_cfa_offset 8
 246              		.cfi_offset 7, -8
 247              		.cfi_offset 14, -4
 248 0002 00AF     		add	r7, sp, #0
 249              	.LCFI21:
 250              		.cfi_def_cfa_register 7
 210:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( INCLUDE_xTaskGetSchedulerState == 1 ) || ( configUSE_TIMERS == 1 ) )
 211:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskGetSchedulerState() == taskSCHEDULER_NOT_STARTED)
 251              		.loc 1 211 0
 252 0004 FFF7FEFF 		bl	xTaskGetSchedulerState
 253 0008 0346     		mov	r3, r0
 254 000a 012B     		cmp	r3, #1
 255 000c 01D1     		bne	.L13
 212:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0;
 256              		.loc 1 212 0
 257 000e 0023     		movs	r3, #0
ARM GAS  /tmp/cc5c7TuJ.s 			page 11


 258 0010 00E0     		b	.L14
 259              	.L13:
 213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 214:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 1;
 260              		.loc 1 214 0
 261 0012 0123     		movs	r3, #1
 262              	.L14:
 215:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 216:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return (-1);
 217:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif	
 218:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 263              		.loc 1 218 0
 264 0014 1846     		mov	r0, r3
 265 0016 80BD     		pop	{r7, pc}
 266              		.cfi_endproc
 267              	.LFE34:
 269              		.section	.text.osKernelSysTick,"ax",%progbits
 270              		.align	1
 271              		.global	osKernelSysTick
 272              		.syntax unified
 273              		.thumb
 274              		.thumb_func
 275              		.fpu fpv4-sp-d16
 277              	osKernelSysTick:
 278              	.LFB35:
 219:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 220:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_SysTick)  &&  (osFeature_SysTick != 0))     // System Timer available
 221:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 222:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the value of the Kernel SysTick timer
 223:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  None
 224:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval None
 225:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelSysTick shall be consistent in every CMSIS-RTOS.
 226:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 227:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osKernelSysTick(void)
 228:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 279              		.loc 1 228 0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 0
 282              		@ frame_needed = 1, uses_anonymous_args = 0
 283 0000 80B5     		push	{r7, lr}
 284              	.LCFI22:
 285              		.cfi_def_cfa_offset 8
 286              		.cfi_offset 7, -8
 287              		.cfi_offset 14, -4
 288 0002 00AF     		add	r7, sp, #0
 289              	.LCFI23:
 290              		.cfi_def_cfa_register 7
 229:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 291              		.loc 1 229 0
 292 0004 FFF7FEFF 		bl	inHandlerMode
 293 0008 0346     		mov	r3, r0
 294 000a 002B     		cmp	r3, #0
 295 000c 03D0     		beq	.L16
 230:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTaskGetTickCountFromISR();
 296              		.loc 1 230 0
 297 000e FFF7FEFF 		bl	xTaskGetTickCountFromISR
 298 0012 0346     		mov	r3, r0
ARM GAS  /tmp/cc5c7TuJ.s 			page 12


 299 0014 02E0     		b	.L17
 300              	.L16:
 231:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 232:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 233:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTaskGetTickCount();
 301              		.loc 1 233 0
 302 0016 FFF7FEFF 		bl	xTaskGetTickCount
 303 001a 0346     		mov	r3, r0
 304              	.L17:
 234:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 235:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 305              		.loc 1 235 0
 306 001c 1846     		mov	r0, r3
 307 001e 80BD     		pop	{r7, pc}
 308              		.cfi_endproc
 309              	.LFE35:
 311              		.section	.text.osThreadCreate,"ax",%progbits
 312              		.align	1
 313              		.global	osThreadCreate
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 317              		.fpu fpv4-sp-d16
 319              	osThreadCreate:
 320              	.LFB36:
 236:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    // System Timer available
 237:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Thread Management *****************************/
 238:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 239:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create a thread and add it to Active Threads and set it to state READY.
 240:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_def    thread definition referenced with \ref osThread.
 241:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      pointer that is passed to the thread function as start argument.
 242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval thread ID for reference by other functions or NULL in case of error.
 243:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadCreate shall be consistent in every CMSIS-RTOS.
 244:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 245:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadId osThreadCreate (const osThreadDef_t *thread_def, void *argument)
 246:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 321              		.loc 1 246 0
 322              		.cfi_startproc
 323              		@ args = 0, pretend = 0, frame = 16
 324              		@ frame_needed = 1, uses_anonymous_args = 0
 325 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 326              	.LCFI24:
 327              		.cfi_def_cfa_offset 20
 328              		.cfi_offset 4, -20
 329              		.cfi_offset 5, -16
 330              		.cfi_offset 6, -12
 331              		.cfi_offset 7, -8
 332              		.cfi_offset 14, -4
 333 0002 87B0     		sub	sp, sp, #28
 334              	.LCFI25:
 335              		.cfi_def_cfa_offset 48
 336 0004 02AF     		add	r7, sp, #8
 337              	.LCFI26:
 338              		.cfi_def_cfa 7, 40
 339 0006 7860     		str	r0, [r7, #4]
 340 0008 3960     		str	r1, [r7]
 247:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TaskHandle_t handle;
ARM GAS  /tmp/cc5c7TuJ.s 			page 13


 248:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 249:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) &&  ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 250:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if((thread_def->buffer != NULL) && (thread_def->controlblock != NULL)) {
 251:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     handle = xTaskCreateStatic((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->na
 252:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 253:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->buffer, thread_def->controlblock);
 254:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 255:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 256:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTaskCreate((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->name,
 257:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 258:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               &handle) != pdPASS)  {
 259:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 260:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     } 
 261:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 262:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif( configSUPPORT_STATIC_ALLOCATION == 1 )
 263:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 264:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     handle = xTaskCreateStatic((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->na
 265:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 266:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->buffer, thread_def->controlblock);
 267:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskCreate((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->name,
 341              		.loc 1 268 0
 342 000a 7B68     		ldr	r3, [r7, #4]
 343 000c 5C68     		ldr	r4, [r3, #4]
 344 000e 7B68     		ldr	r3, [r7, #4]
 345 0010 1D68     		ldr	r5, [r3]
 269:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 346              		.loc 1 269 0
 347 0012 7B68     		ldr	r3, [r7, #4]
 348 0014 1B69     		ldr	r3, [r3, #16]
 268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 349              		.loc 1 268 0
 350 0016 9EB2     		uxth	r6, r3
 351 0018 7B68     		ldr	r3, [r7, #4]
 352 001a B3F90830 		ldrsh	r3, [r3, #8]
 353 001e 1846     		mov	r0, r3
 354 0020 FFF7FEFF 		bl	makeFreeRtosPriority
 355 0024 0246     		mov	r2, r0
 356 0026 07F10C03 		add	r3, r7, #12
 357 002a 0193     		str	r3, [sp, #4]
 358 002c 0092     		str	r2, [sp]
 359 002e 3B68     		ldr	r3, [r7]
 360 0030 3246     		mov	r2, r6
 361 0032 2946     		mov	r1, r5
 362 0034 2046     		mov	r0, r4
 363 0036 FFF7FEFF 		bl	xTaskCreate
 364 003a 0346     		mov	r3, r0
 365 003c 012B     		cmp	r3, #1
 366 003e 01D0     		beq	.L19
 270:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    &handle) != pdPASS)  {
 271:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 367              		.loc 1 271 0
 368 0040 0023     		movs	r3, #0
 369 0042 00E0     		b	.L21
 370              	.L19:
 272:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }     
 273:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
ARM GAS  /tmp/cc5c7TuJ.s 			page 14


 274:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 275:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return handle;
 371              		.loc 1 275 0
 372 0044 FB68     		ldr	r3, [r7, #12]
 373              	.L21:
 276:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 374              		.loc 1 276 0 discriminator 1
 375 0046 1846     		mov	r0, r3
 376 0048 1437     		adds	r7, r7, #20
 377              	.LCFI27:
 378              		.cfi_def_cfa_offset 20
 379 004a BD46     		mov	sp, r7
 380              	.LCFI28:
 381              		.cfi_def_cfa_register 13
 382              		@ sp needed
 383 004c F0BD     		pop	{r4, r5, r6, r7, pc}
 384              		.cfi_endproc
 385              	.LFE36:
 387              		.section	.text.osThreadGetId,"ax",%progbits
 388              		.align	1
 389              		.global	osThreadGetId
 390              		.syntax unified
 391              		.thumb
 392              		.thumb_func
 393              		.fpu fpv4-sp-d16
 395              	osThreadGetId:
 396              	.LFB37:
 277:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 278:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 279:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Return the thread ID of the current running thread.
 280:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval thread ID for reference by other functions or NULL in case of error.
 281:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadGetId shall be consistent in every CMSIS-RTOS.
 282:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 283:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadId osThreadGetId (void)
 284:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 397              		.loc 1 284 0
 398              		.cfi_startproc
 399              		@ args = 0, pretend = 0, frame = 0
 400              		@ frame_needed = 1, uses_anonymous_args = 0
 401 0000 80B5     		push	{r7, lr}
 402              	.LCFI29:
 403              		.cfi_def_cfa_offset 8
 404              		.cfi_offset 7, -8
 405              		.cfi_offset 14, -4
 406 0002 00AF     		add	r7, sp, #0
 407              	.LCFI30:
 408              		.cfi_def_cfa_register 7
 285:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( INCLUDE_xTaskGetCurrentTaskHandle == 1 ) || ( configUSE_MUTEXES == 1 ) )
 286:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTaskGetCurrentTaskHandle();
 409              		.loc 1 286 0
 410 0004 FFF7FEFF 		bl	xTaskGetCurrentTaskHandle
 411 0008 0346     		mov	r3, r0
 287:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return NULL;
 289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 290:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 412              		.loc 1 290 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 15


 413 000a 1846     		mov	r0, r3
 414 000c 80BD     		pop	{r7, pc}
 415              		.cfi_endproc
 416              	.LFE37:
 418              		.section	.text.osThreadTerminate,"ax",%progbits
 419              		.align	1
 420              		.global	osThreadTerminate
 421              		.syntax unified
 422              		.thumb
 423              		.thumb_func
 424              		.fpu fpv4-sp-d16
 426              	osThreadTerminate:
 427              	.LFB38:
 291:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 292:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 293:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Terminate execution of a thread and remove it from Active Threads.
 294:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 295:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 296:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadTerminate shall be consistent in every CMSIS-RTOS.
 297:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 298:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadTerminate (osThreadId thread_id)
 299:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 428              		.loc 1 299 0
 429              		.cfi_startproc
 430              		@ args = 0, pretend = 0, frame = 8
 431              		@ frame_needed = 1, uses_anonymous_args = 0
 432 0000 80B5     		push	{r7, lr}
 433              	.LCFI31:
 434              		.cfi_def_cfa_offset 8
 435              		.cfi_offset 7, -8
 436              		.cfi_offset 14, -4
 437 0002 82B0     		sub	sp, sp, #8
 438              	.LCFI32:
 439              		.cfi_def_cfa_offset 16
 440 0004 00AF     		add	r7, sp, #0
 441              	.LCFI33:
 442              		.cfi_def_cfa_register 7
 443 0006 7860     		str	r0, [r7, #4]
 300:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskDelete == 1)
 301:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelete(thread_id);
 444              		.loc 1 301 0
 445 0008 7868     		ldr	r0, [r7, #4]
 446 000a FFF7FEFF 		bl	vTaskDelete
 302:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 447              		.loc 1 302 0
 448 000e 0023     		movs	r3, #0
 303:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 304:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorOS;
 305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 306:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 449              		.loc 1 306 0
 450 0010 1846     		mov	r0, r3
 451 0012 0837     		adds	r7, r7, #8
 452              	.LCFI34:
 453              		.cfi_def_cfa_offset 8
 454 0014 BD46     		mov	sp, r7
 455              	.LCFI35:
ARM GAS  /tmp/cc5c7TuJ.s 			page 16


 456              		.cfi_def_cfa_register 13
 457              		@ sp needed
 458 0016 80BD     		pop	{r7, pc}
 459              		.cfi_endproc
 460              	.LFE38:
 462              		.section	.text.osThreadYield,"ax",%progbits
 463              		.align	1
 464              		.global	osThreadYield
 465              		.syntax unified
 466              		.thumb
 467              		.thumb_func
 468              		.fpu fpv4-sp-d16
 470              	osThreadYield:
 471              	.LFB39:
 307:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 308:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 309:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Pass control to next thread that is in state \b READY.
 310:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
 311:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadYield shall be consistent in every CMSIS-RTOS.
 312:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 313:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadYield (void)
 314:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 472              		.loc 1 314 0
 473              		.cfi_startproc
 474              		@ args = 0, pretend = 0, frame = 0
 475              		@ frame_needed = 1, uses_anonymous_args = 0
 476              		@ link register save eliminated.
 477 0000 80B4     		push	{r7}
 478              	.LCFI36:
 479              		.cfi_def_cfa_offset 4
 480              		.cfi_offset 7, -4
 481 0002 00AF     		add	r7, sp, #0
 482              	.LCFI37:
 483              		.cfi_def_cfa_register 7
 315:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskYIELD();
 484              		.loc 1 315 0
 485 0004 064B     		ldr	r3, .L28
 486 0006 4FF08052 		mov	r2, #268435456
 487 000a 1A60     		str	r2, [r3]
 488              		.syntax unified
 489              	@ 315 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 490 000c BFF34F8F 		dsb
 491              	@ 0 "" 2
 492              	@ 315 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 493 0010 BFF36F8F 		isb
 494              	@ 0 "" 2
 316:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 317:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 495              		.loc 1 317 0
 496              		.thumb
 497              		.syntax unified
 498 0014 0023     		movs	r3, #0
 318:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 499              		.loc 1 318 0
 500 0016 1846     		mov	r0, r3
 501 0018 BD46     		mov	sp, r7
 502              	.LCFI38:
ARM GAS  /tmp/cc5c7TuJ.s 			page 17


 503              		.cfi_def_cfa_register 13
 504              		@ sp needed
 505 001a 5DF8047B 		ldr	r7, [sp], #4
 506              	.LCFI39:
 507              		.cfi_restore 7
 508              		.cfi_def_cfa_offset 0
 509 001e 7047     		bx	lr
 510              	.L29:
 511              		.align	2
 512              	.L28:
 513 0020 04ED00E0 		.word	-536810236
 514              		.cfi_endproc
 515              	.LFE39:
 517              		.section	.text.osThreadSetPriority,"ax",%progbits
 518              		.align	1
 519              		.global	osThreadSetPriority
 520              		.syntax unified
 521              		.thumb
 522              		.thumb_func
 523              		.fpu fpv4-sp-d16
 525              	osThreadSetPriority:
 526              	.LFB40:
 319:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 320:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 321:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Change priority of an active thread.
 322:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 323:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   priority      new priority value for the thread function.
 324:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 325:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadSetPriority shall be consistent in every CMSIS-RTOS.
 326:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 327:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSetPriority (osThreadId thread_id, osPriority priority)
 328:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 527              		.loc 1 328 0
 528              		.cfi_startproc
 529              		@ args = 0, pretend = 0, frame = 8
 530              		@ frame_needed = 1, uses_anonymous_args = 0
 531 0000 80B5     		push	{r7, lr}
 532              	.LCFI40:
 533              		.cfi_def_cfa_offset 8
 534              		.cfi_offset 7, -8
 535              		.cfi_offset 14, -4
 536 0002 82B0     		sub	sp, sp, #8
 537              	.LCFI41:
 538              		.cfi_def_cfa_offset 16
 539 0004 00AF     		add	r7, sp, #0
 540              	.LCFI42:
 541              		.cfi_def_cfa_register 7
 542 0006 7860     		str	r0, [r7, #4]
 543 0008 0B46     		mov	r3, r1
 544 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 329:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskPrioritySet == 1)
 330:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskPrioritySet(thread_id, makeFreeRtosPriority(priority));
 545              		.loc 1 330 0
 546 000c B7F90230 		ldrsh	r3, [r7, #2]
 547 0010 1846     		mov	r0, r3
 548 0012 FFF7FEFF 		bl	makeFreeRtosPriority
 549 0016 0346     		mov	r3, r0
ARM GAS  /tmp/cc5c7TuJ.s 			page 18


 550 0018 1946     		mov	r1, r3
 551 001a 7868     		ldr	r0, [r7, #4]
 552 001c FFF7FEFF 		bl	vTaskPrioritySet
 331:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 553              		.loc 1 331 0
 554 0020 0023     		movs	r3, #0
 332:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 333:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorOS;
 334:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 335:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 555              		.loc 1 335 0
 556 0022 1846     		mov	r0, r3
 557 0024 0837     		adds	r7, r7, #8
 558              	.LCFI43:
 559              		.cfi_def_cfa_offset 8
 560 0026 BD46     		mov	sp, r7
 561              	.LCFI44:
 562              		.cfi_def_cfa_register 13
 563              		@ sp needed
 564 0028 80BD     		pop	{r7, pc}
 565              		.cfi_endproc
 566              	.LFE40:
 568              		.section	.text.osThreadGetPriority,"ax",%progbits
 569              		.align	1
 570              		.global	osThreadGetPriority
 571              		.syntax unified
 572              		.thumb
 573              		.thumb_func
 574              		.fpu fpv4-sp-d16
 576              	osThreadGetPriority:
 577              	.LFB41:
 336:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 337:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 338:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Get current priority of an active thread.
 339:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 340:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  current priority value of the thread function.
 341:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadGetPriority shall be consistent in every CMSIS-RTOS.
 342:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 343:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osPriority osThreadGetPriority (osThreadId thread_id)
 344:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 578              		.loc 1 344 0
 579              		.cfi_startproc
 580              		@ args = 0, pretend = 0, frame = 8
 581              		@ frame_needed = 1, uses_anonymous_args = 0
 582 0000 80B5     		push	{r7, lr}
 583              	.LCFI45:
 584              		.cfi_def_cfa_offset 8
 585              		.cfi_offset 7, -8
 586              		.cfi_offset 14, -4
 587 0002 82B0     		sub	sp, sp, #8
 588              	.LCFI46:
 589              		.cfi_def_cfa_offset 16
 590 0004 00AF     		add	r7, sp, #0
 591              	.LCFI47:
 592              		.cfi_def_cfa_register 7
 593 0006 7860     		str	r0, [r7, #4]
 345:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_uxTaskPriorityGet == 1)
ARM GAS  /tmp/cc5c7TuJ.s 			page 19


 346:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 594              		.loc 1 346 0
 595 0008 FFF7FEFF 		bl	inHandlerMode
 596 000c 0346     		mov	r3, r0
 597 000e 002B     		cmp	r3, #0
 598 0010 08D0     		beq	.L33
 347:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 348:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return makeCmsisPriority(uxTaskPriorityGetFromISR(thread_id));  
 599              		.loc 1 348 0
 600 0012 7868     		ldr	r0, [r7, #4]
 601 0014 FFF7FEFF 		bl	uxTaskPriorityGetFromISR
 602 0018 0346     		mov	r3, r0
 603 001a 1846     		mov	r0, r3
 604 001c FFF7FEFF 		bl	makeCmsisPriority
 605 0020 0346     		mov	r3, r0
 606 0022 07E0     		b	.L34
 607              	.L33:
 349:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 350:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 351:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {  
 352:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return makeCmsisPriority(uxTaskPriorityGet(thread_id));
 608              		.loc 1 352 0
 609 0024 7868     		ldr	r0, [r7, #4]
 610 0026 FFF7FEFF 		bl	uxTaskPriorityGet
 611 002a 0346     		mov	r3, r0
 612 002c 1846     		mov	r0, r3
 613 002e FFF7FEFF 		bl	makeCmsisPriority
 614 0032 0346     		mov	r3, r0
 615              	.L34:
 353:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 354:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 355:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osPriorityError;
 356:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 357:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 616              		.loc 1 357 0
 617 0034 1846     		mov	r0, r3
 618 0036 0837     		adds	r7, r7, #8
 619              	.LCFI48:
 620              		.cfi_def_cfa_offset 8
 621 0038 BD46     		mov	sp, r7
 622              	.LCFI49:
 623              		.cfi_def_cfa_register 13
 624              		@ sp needed
 625 003a 80BD     		pop	{r7, pc}
 626              		.cfi_endproc
 627              	.LFE41:
 629              		.section	.text.osDelay,"ax",%progbits
 630              		.align	1
 631              		.global	osDelay
 632              		.syntax unified
 633              		.thumb
 634              		.thumb_func
 635              		.fpu fpv4-sp-d16
 637              	osDelay:
 638              	.LFB42:
 358:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 359:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Generic Wait Functions *******************************/
ARM GAS  /tmp/cc5c7TuJ.s 			page 20


 360:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 361:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Wait for Timeout (Time Delay)
 362:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec      time delay value
 363:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 364:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 365:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osDelay (uint32_t millisec)
 366:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 639              		.loc 1 366 0
 640              		.cfi_startproc
 641              		@ args = 0, pretend = 0, frame = 16
 642              		@ frame_needed = 1, uses_anonymous_args = 0
 643 0000 80B5     		push	{r7, lr}
 644              	.LCFI50:
 645              		.cfi_def_cfa_offset 8
 646              		.cfi_offset 7, -8
 647              		.cfi_offset 14, -4
 648 0002 84B0     		sub	sp, sp, #16
 649              	.LCFI51:
 650              		.cfi_def_cfa_offset 24
 651 0004 00AF     		add	r7, sp, #0
 652              	.LCFI52:
 653              		.cfi_def_cfa_register 7
 654 0006 7860     		str	r0, [r7, #4]
 367:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_vTaskDelay
 368:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = millisec / portTICK_PERIOD_MS;
 655              		.loc 1 368 0
 656 0008 7B68     		ldr	r3, [r7, #4]
 657 000a FB60     		str	r3, [r7, #12]
 369:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 370:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelay(ticks ? ticks : 1);          /* Minimum delay = 1 tick */
 658              		.loc 1 370 0
 659 000c FB68     		ldr	r3, [r7, #12]
 660 000e 002B     		cmp	r3, #0
 661 0010 01D0     		beq	.L36
 662              		.loc 1 370 0 is_stmt 0 discriminator 1
 663 0012 FB68     		ldr	r3, [r7, #12]
 664 0014 00E0     		b	.L37
 665              	.L36:
 666              		.loc 1 370 0 discriminator 2
 667 0016 0123     		movs	r3, #1
 668              	.L37:
 669              		.loc 1 370 0 discriminator 4
 670 0018 1846     		mov	r0, r3
 671 001a FFF7FEFF 		bl	vTaskDelay
 371:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 372:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 672              		.loc 1 372 0 is_stmt 1 discriminator 4
 673 001e 0023     		movs	r3, #0
 373:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 374:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
 375:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 376:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
 377:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 378:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 674              		.loc 1 378 0 discriminator 4
 675 0020 1846     		mov	r0, r3
 676 0022 1037     		adds	r7, r7, #16
ARM GAS  /tmp/cc5c7TuJ.s 			page 21


 677              	.LCFI53:
 678              		.cfi_def_cfa_offset 8
 679 0024 BD46     		mov	sp, r7
 680              	.LCFI54:
 681              		.cfi_def_cfa_register 13
 682              		@ sp needed
 683 0026 80BD     		pop	{r7, pc}
 684              		.cfi_endproc
 685              	.LFE42:
 687              		.section	.text.osTimerCreate,"ax",%progbits
 688              		.align	1
 689              		.global	osTimerCreate
 690              		.syntax unified
 691              		.thumb
 692              		.thumb_func
 693              		.fpu fpv4-sp-d16
 695              	osTimerCreate:
 696              	.LFB43:
 379:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 380:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Wait)  &&  (osFeature_Wait != 0)) /* Generic Wait available */
 381:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 382:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Wait for Signal, Message, Mail, or Timeout
 383:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec  timeout value or 0 in case of no time-out
 384:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  event that contains signal, message, or mail information or error code.
 385:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osWait shall be consistent in every CMSIS-RTOS.
 386:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 387:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osWait (uint32_t millisec);
 388:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 389:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* Generic Wait available */
 390:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 391:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /***********************  Timer Management Functions ***************************/
 392:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 393:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create a timer.
 394:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_def     timer object referenced with \ref osTimer.
 395:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  type          osTimerOnce for one-shot or osTimerPeriodic for periodic behavior.
 396:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      argument to the timer call back function.
 397:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  timer ID for reference by other functions or NULL in case of error.
 398:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerCreate shall be consistent in every CMSIS-RTOS.
 399:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 400:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osTimerId osTimerCreate (const osTimerDef_t *timer_def, os_timer_type type, void *argument)
 401:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 697              		.loc 1 401 0
 698              		.cfi_startproc
 699              		@ args = 0, pretend = 0, frame = 16
 700              		@ frame_needed = 1, uses_anonymous_args = 0
 701              		@ link register save eliminated.
 702 0000 80B4     		push	{r7}
 703              	.LCFI55:
 704              		.cfi_def_cfa_offset 4
 705              		.cfi_offset 7, -4
 706 0002 85B0     		sub	sp, sp, #20
 707              	.LCFI56:
 708              		.cfi_def_cfa_offset 24
 709 0004 00AF     		add	r7, sp, #0
 710              	.LCFI57:
 711              		.cfi_def_cfa_register 7
 712 0006 F860     		str	r0, [r7, #12]
ARM GAS  /tmp/cc5c7TuJ.s 			page 22


 713 0008 0B46     		mov	r3, r1
 714 000a 7A60     		str	r2, [r7, #4]
 715 000c FB72     		strb	r3, [r7, #11]
 402:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)
 403:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 404:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) ) 
 405:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(timer_def->controlblock != NULL) {
 406:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTimerCreateStatic((const char *)"",
 407:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 408:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 409:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 410:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer,
 411:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (StaticTimer_t *)timer_def->controlblock);
 412:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 413:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 414:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTimerCreate((const char *)"",
 415:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 416:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 417:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 418:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer);
 419:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  }
 420:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif( configSUPPORT_STATIC_ALLOCATION == 1 )
 421:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTimerCreateStatic((const char *)"",
 422:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 423:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 424:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 425:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer,
 426:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (StaticTimer_t *)timer_def->controlblock);  
 427:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 428:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTimerCreate((const char *)"",
 429:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 430:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 431:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 432:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer);
 433:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 434:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 435:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 436:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return NULL;
 716              		.loc 1 436 0
 717 000e 0023     		movs	r3, #0
 437:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 438:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 718              		.loc 1 438 0
 719 0010 1846     		mov	r0, r3
 720 0012 1437     		adds	r7, r7, #20
 721              	.LCFI58:
 722              		.cfi_def_cfa_offset 4
 723 0014 BD46     		mov	sp, r7
 724              	.LCFI59:
 725              		.cfi_def_cfa_register 13
 726              		@ sp needed
 727 0016 5DF8047B 		ldr	r7, [sp], #4
 728              	.LCFI60:
 729              		.cfi_restore 7
 730              		.cfi_def_cfa_offset 0
 731 001a 7047     		bx	lr
 732              		.cfi_endproc
ARM GAS  /tmp/cc5c7TuJ.s 			page 23


 733              	.LFE43:
 735              		.section	.text.osTimerStart,"ax",%progbits
 736              		.align	1
 737              		.global	osTimerStart
 738              		.syntax unified
 739              		.thumb
 740              		.thumb_func
 741              		.fpu fpv4-sp-d16
 743              	osTimerStart:
 744              	.LFB44:
 439:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 440:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 441:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Start or restart a timer.
 442:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate.
 443:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      time delay value of the timer.
 444:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function
 445:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerStart shall be consistent in every CMSIS-RTOS.
 446:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 447:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerStart (osTimerId timer_id, uint32_t millisec)
 448:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 745              		.loc 1 448 0
 746              		.cfi_startproc
 747              		@ args = 0, pretend = 0, frame = 16
 748              		@ frame_needed = 1, uses_anonymous_args = 0
 749              		@ link register save eliminated.
 750 0000 80B4     		push	{r7}
 751              	.LCFI61:
 752              		.cfi_def_cfa_offset 4
 753              		.cfi_offset 7, -4
 754 0002 85B0     		sub	sp, sp, #20
 755              	.LCFI62:
 756              		.cfi_def_cfa_offset 24
 757 0004 00AF     		add	r7, sp, #0
 758              	.LCFI63:
 759              		.cfi_def_cfa_register 7
 760 0006 7860     		str	r0, [r7, #4]
 761 0008 3960     		str	r1, [r7]
 449:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 762              		.loc 1 449 0
 763 000a 0023     		movs	r3, #0
 764 000c FB60     		str	r3, [r7, #12]
 450:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)  
 451:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 452:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = millisec / portTICK_PERIOD_MS;
 453:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 454:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (ticks == 0)
 455:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = 1;
 456:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 457:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) 
 458:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 459:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerChangePeriodFromISR(timer_id, ticks, &taskWoken) != pdPASS)
 460:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 461:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 462:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 463:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else
 464:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 465:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       portEND_SWITCHING_ISR(taskWoken);     
ARM GAS  /tmp/cc5c7TuJ.s 			page 24


 466:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 467:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 468:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else 
 469:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 470:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerChangePeriod(timer_id, ticks, 0) != pdPASS)
 471:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 472:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 473:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 474:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 475:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 765              		.loc 1 475 0
 766 000e FF23     		movs	r3, #255
 767 0010 FB60     		str	r3, [r7, #12]
 476:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 477:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 768              		.loc 1 477 0
 769 0012 FB68     		ldr	r3, [r7, #12]
 478:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 770              		.loc 1 478 0
 771 0014 1846     		mov	r0, r3
 772 0016 1437     		adds	r7, r7, #20
 773              	.LCFI64:
 774              		.cfi_def_cfa_offset 4
 775 0018 BD46     		mov	sp, r7
 776              	.LCFI65:
 777              		.cfi_def_cfa_register 13
 778              		@ sp needed
 779 001a 5DF8047B 		ldr	r7, [sp], #4
 780              	.LCFI66:
 781              		.cfi_restore 7
 782              		.cfi_def_cfa_offset 0
 783 001e 7047     		bx	lr
 784              		.cfi_endproc
 785              	.LFE44:
 787              		.section	.text.osTimerStop,"ax",%progbits
 788              		.align	1
 789              		.global	osTimerStop
 790              		.syntax unified
 791              		.thumb
 792              		.thumb_func
 793              		.fpu fpv4-sp-d16
 795              	osTimerStop:
 796              	.LFB45:
 479:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 480:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 481:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Stop a timer.
 482:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate
 483:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 484:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerStop shall be consistent in every CMSIS-RTOS.
 485:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 486:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerStop (osTimerId timer_id)
 487:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 797              		.loc 1 487 0
 798              		.cfi_startproc
 799              		@ args = 0, pretend = 0, frame = 16
 800              		@ frame_needed = 1, uses_anonymous_args = 0
 801              		@ link register save eliminated.
ARM GAS  /tmp/cc5c7TuJ.s 			page 25


 802 0000 80B4     		push	{r7}
 803              	.LCFI67:
 804              		.cfi_def_cfa_offset 4
 805              		.cfi_offset 7, -4
 806 0002 85B0     		sub	sp, sp, #20
 807              	.LCFI68:
 808              		.cfi_def_cfa_offset 24
 809 0004 00AF     		add	r7, sp, #0
 810              	.LCFI69:
 811              		.cfi_def_cfa_register 7
 812 0006 7860     		str	r0, [r7, #4]
 488:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 813              		.loc 1 488 0
 814 0008 0023     		movs	r3, #0
 815 000a FB60     		str	r3, [r7, #12]
 489:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)  
 490:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 491:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 492:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 493:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerStopFromISR(timer_id, &taskWoken) != pdPASS) {
 494:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 495:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 496:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 497:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 498:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 499:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerStop(timer_id, 0) != pdPASS) {
 500:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 501:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 502:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 503:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 504:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 816              		.loc 1 504 0
 817 000c FF23     		movs	r3, #255
 818 000e FB60     		str	r3, [r7, #12]
 505:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif 
 506:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 819              		.loc 1 506 0
 820 0010 FB68     		ldr	r3, [r7, #12]
 507:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 821              		.loc 1 507 0
 822 0012 1846     		mov	r0, r3
 823 0014 1437     		adds	r7, r7, #20
 824              	.LCFI70:
 825              		.cfi_def_cfa_offset 4
 826 0016 BD46     		mov	sp, r7
 827              	.LCFI71:
 828              		.cfi_def_cfa_register 13
 829              		@ sp needed
 830 0018 5DF8047B 		ldr	r7, [sp], #4
 831              	.LCFI72:
 832              		.cfi_restore 7
 833              		.cfi_def_cfa_offset 0
 834 001c 7047     		bx	lr
 835              		.cfi_endproc
 836              	.LFE45:
 838              		.section	.text.osTimerDelete,"ax",%progbits
 839              		.align	1
ARM GAS  /tmp/cc5c7TuJ.s 			page 26


 840              		.global	osTimerDelete
 841              		.syntax unified
 842              		.thumb
 843              		.thumb_func
 844              		.fpu fpv4-sp-d16
 846              	osTimerDelete:
 847              	.LFB46:
 508:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 509:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 510:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Delete a timer.
 511:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate
 512:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 513:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerDelete shall be consistent in every CMSIS-RTOS.
 514:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 515:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerDelete (osTimerId timer_id)
 516:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 848              		.loc 1 516 0
 849              		.cfi_startproc
 850              		@ args = 0, pretend = 0, frame = 16
 851              		@ frame_needed = 1, uses_anonymous_args = 0
 852              		@ link register save eliminated.
 853 0000 80B4     		push	{r7}
 854              	.LCFI73:
 855              		.cfi_def_cfa_offset 4
 856              		.cfi_offset 7, -4
 857 0002 85B0     		sub	sp, sp, #20
 858              	.LCFI74:
 859              		.cfi_def_cfa_offset 24
 860 0004 00AF     		add	r7, sp, #0
 861              	.LCFI75:
 862              		.cfi_def_cfa_register 7
 863 0006 7860     		str	r0, [r7, #4]
 517:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus result = osOK;
 864              		.loc 1 517 0
 865 0008 0023     		movs	r3, #0
 866 000a FB60     		str	r3, [r7, #12]
 518:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 519:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)
 520:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 521:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****    if (inHandlerMode()) {
 522:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      return osErrorISR;
 523:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 524:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else { 
 525:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if ((xTimerDelete(timer_id, osWaitForever )) != pdPASS) {
 526:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 527:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 528:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
 529:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 530:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 531:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 867              		.loc 1 531 0
 868 000c FF23     		movs	r3, #255
 869 000e FB60     		str	r3, [r7, #12]
 532:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif 
 533:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 534:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 870              		.loc 1 534 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 27


 871 0010 FB68     		ldr	r3, [r7, #12]
 535:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 872              		.loc 1 535 0
 873 0012 1846     		mov	r0, r3
 874 0014 1437     		adds	r7, r7, #20
 875              	.LCFI76:
 876              		.cfi_def_cfa_offset 4
 877 0016 BD46     		mov	sp, r7
 878              	.LCFI77:
 879              		.cfi_def_cfa_register 13
 880              		@ sp needed
 881 0018 5DF8047B 		ldr	r7, [sp], #4
 882              	.LCFI78:
 883              		.cfi_restore 7
 884              		.cfi_def_cfa_offset 0
 885 001c 7047     		bx	lr
 886              		.cfi_endproc
 887              	.LFE46:
 889              		.section	.text.osSignalSet,"ax",%progbits
 890              		.align	1
 891              		.global	osSignalSet
 892              		.syntax unified
 893              		.thumb
 894              		.thumb_func
 895              		.fpu fpv4-sp-d16
 897              	osSignalSet:
 898              	.LFB47:
 536:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 537:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /***************************  Signal Management ********************************/
 538:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 539:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Set the specified Signal Flags of an active thread.
 540:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 541:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals       specifies the signal flags of the thread that should be set.
 542:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval previous signal flags of the specified thread or 0x80000000 in case of incorrect paramete
 543:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalSet shall be consistent in every CMSIS-RTOS.
 544:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 545:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSignalSet (osThreadId thread_id, int32_t signal)
 546:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 899              		.loc 1 546 0
 900              		.cfi_startproc
 901              		@ args = 0, pretend = 0, frame = 16
 902              		@ frame_needed = 1, uses_anonymous_args = 0
 903 0000 80B5     		push	{r7, lr}
 904              	.LCFI79:
 905              		.cfi_def_cfa_offset 8
 906              		.cfi_offset 7, -8
 907              		.cfi_offset 14, -4
 908 0002 86B0     		sub	sp, sp, #24
 909              	.LCFI80:
 910              		.cfi_def_cfa_offset 32
 911 0004 02AF     		add	r7, sp, #8
 912              	.LCFI81:
 913              		.cfi_def_cfa 7, 24
 914 0006 7860     		str	r0, [r7, #4]
 915 0008 3960     		str	r1, [r7]
 547:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )	
 548:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   BaseType_t xHigherPriorityTaskWoken = pdFALSE;
ARM GAS  /tmp/cc5c7TuJ.s 			page 28


 916              		.loc 1 548 0
 917 000a 0023     		movs	r3, #0
 918 000c FB60     		str	r3, [r7, #12]
 549:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t ulPreviousNotificationValue = 0;
 919              		.loc 1 549 0
 920 000e 0023     		movs	r3, #0
 921 0010 BB60     		str	r3, [r7, #8]
 550:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 551:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 922              		.loc 1 551 0
 923 0012 FFF7FEFF 		bl	inHandlerMode
 924 0016 0346     		mov	r3, r0
 925 0018 002B     		cmp	r3, #0
 926 001a 1CD0     		beq	.L48
 552:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 553:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if(xTaskGenericNotifyFromISR( thread_id , (uint32_t)signal, eSetBits, &ulPreviousNotificationVa
 927              		.loc 1 553 0
 928 001c 3968     		ldr	r1, [r7]
 929 001e 07F10802 		add	r2, r7, #8
 930 0022 07F10C03 		add	r3, r7, #12
 931 0026 0093     		str	r3, [sp]
 932 0028 1346     		mov	r3, r2
 933 002a 0122     		movs	r2, #1
 934 002c 7868     		ldr	r0, [r7, #4]
 935 002e FFF7FEFF 		bl	xTaskGenericNotifyFromISR
 936 0032 0346     		mov	r3, r0
 937 0034 012B     		cmp	r3, #1
 938 0036 02D0     		beq	.L49
 554:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return 0x80000000;
 939              		.loc 1 554 0
 940 0038 4FF00043 		mov	r3, #-2147483648
 941 003c 19E0     		b	.L53
 942              	.L49:
 555:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 556:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portYIELD_FROM_ISR( xHigherPriorityTaskWoken );
 943              		.loc 1 556 0
 944 003e FB68     		ldr	r3, [r7, #12]
 945 0040 002B     		cmp	r3, #0
 946 0042 15D0     		beq	.L52
 947              		.loc 1 556 0 is_stmt 0 discriminator 1
 948 0044 0D4B     		ldr	r3, .L54
 949 0046 4FF08052 		mov	r2, #268435456
 950 004a 1A60     		str	r2, [r3]
 951              		.syntax unified
 952              	@ 556 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 953 004c BFF34F8F 		dsb
 954              	@ 0 "" 2
 955              	@ 556 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 956 0050 BFF36F8F 		isb
 957              	@ 0 "" 2
 958              		.thumb
 959              		.syntax unified
 960 0054 0CE0     		b	.L52
 961              	.L48:
 557:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 558:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if(xTaskGenericNotify( thread_id , (uint32_t)signal, eSetBits, &ulPreviousNotificationValue)
 962              		.loc 1 558 0 is_stmt 1
ARM GAS  /tmp/cc5c7TuJ.s 			page 29


 963 0056 3968     		ldr	r1, [r7]
 964 0058 07F10803 		add	r3, r7, #8
 965 005c 0122     		movs	r2, #1
 966 005e 7868     		ldr	r0, [r7, #4]
 967 0060 FFF7FEFF 		bl	xTaskGenericNotify
 968 0064 0346     		mov	r3, r0
 969 0066 012B     		cmp	r3, #1
 970 0068 02D0     		beq	.L52
 559:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0x80000000;
 971              		.loc 1 559 0
 972 006a 4FF00043 		mov	r3, #-2147483648
 973 006e 00E0     		b	.L53
 974              	.L52:
 560:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 561:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return ulPreviousNotificationValue;
 975              		.loc 1 561 0
 976 0070 BB68     		ldr	r3, [r7, #8]
 977              	.L53:
 562:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 563:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
 564:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) signal;
 565:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 566:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return 0x80000000; /* Task Notification not supported */ 	
 567:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 568:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 978              		.loc 1 568 0 discriminator 1
 979 0072 1846     		mov	r0, r3
 980 0074 1037     		adds	r7, r7, #16
 981              	.LCFI82:
 982              		.cfi_def_cfa_offset 8
 983 0076 BD46     		mov	sp, r7
 984              	.LCFI83:
 985              		.cfi_def_cfa_register 13
 986              		@ sp needed
 987 0078 80BD     		pop	{r7, pc}
 988              	.L55:
 989 007a 00BF     		.align	2
 990              	.L54:
 991 007c 04ED00E0 		.word	-536810236
 992              		.cfi_endproc
 993              	.LFE47:
 995              		.section	.text.osSignalWait,"ax",%progbits
 996              		.align	1
 997              		.global	osSignalWait
 998              		.syntax unified
 999              		.thumb
 1000              		.thumb_func
 1001              		.fpu fpv4-sp-d16
 1003              	osSignalWait:
 1004              	.LFB48:
 569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 570:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Clear the specified Signal Flags of an active thread.
 572:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id  thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 573:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals    specifies the signal flags of the thread that shall be cleared.
 574:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  previous signal flags of the specified thread or 0x80000000 in case of incorrect paramet
 575:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalClear shall be consistent in every CMSIS-RTOS.
ARM GAS  /tmp/cc5c7TuJ.s 			page 30


 576:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 577:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSignalClear (osThreadId thread_id, int32_t signal);
 578:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 579:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 580:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Wait for one or more Signal Flags to become signaled for the current \b RUNNING thread.
 581:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals   wait until all specified signal flags set or 0 for any single signal flag.
 582:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
 583:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  event flag information or error code.
 584:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalWait shall be consistent in every CMSIS-RTOS.
 585:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 586:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osSignalWait (int32_t signals, uint32_t millisec)
 587:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1005              		.loc 1 587 0
 1006              		.cfi_startproc
 1007              		@ args = 0, pretend = 0, frame = 32
 1008              		@ frame_needed = 1, uses_anonymous_args = 0
 1009 0000 90B5     		push	{r4, r7, lr}
 1010              	.LCFI84:
 1011              		.cfi_def_cfa_offset 12
 1012              		.cfi_offset 4, -12
 1013              		.cfi_offset 7, -8
 1014              		.cfi_offset 14, -4
 1015 0002 89B0     		sub	sp, sp, #36
 1016              	.LCFI85:
 1017              		.cfi_def_cfa_offset 48
 1018 0004 00AF     		add	r7, sp, #0
 1019              	.LCFI86:
 1020              		.cfi_def_cfa_register 7
 1021 0006 F860     		str	r0, [r7, #12]
 1022 0008 B960     		str	r1, [r7, #8]
 1023 000a 7A60     		str	r2, [r7, #4]
 588:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent ret;
 589:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 590:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
 591:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	
 592:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 593:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 594:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ret.value.signals = 0;  
 1024              		.loc 1 594 0
 1025 000c 0023     		movs	r3, #0
 1026 000e 7B61     		str	r3, [r7, #20]
 595:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 1027              		.loc 1 595 0
 1028 0010 0023     		movs	r3, #0
 1029 0012 FB61     		str	r3, [r7, #28]
 596:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1030              		.loc 1 596 0
 1031 0014 7B68     		ldr	r3, [r7, #4]
 1032 0016 B3F1FF3F 		cmp	r3, #-1
 1033 001a 03D1     		bne	.L57
 597:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 1034              		.loc 1 597 0
 1035 001c 4FF0FF33 		mov	r3, #-1
 1036 0020 FB61     		str	r3, [r7, #28]
 1037 0022 09E0     		b	.L58
 1038              	.L57:
 598:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
ARM GAS  /tmp/cc5c7TuJ.s 			page 31


 599:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 1039              		.loc 1 599 0
 1040 0024 7B68     		ldr	r3, [r7, #4]
 1041 0026 002B     		cmp	r3, #0
 1042 0028 06D0     		beq	.L58
 600:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 1043              		.loc 1 600 0
 1044 002a 7B68     		ldr	r3, [r7, #4]
 1045 002c FB61     		str	r3, [r7, #28]
 601:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 1046              		.loc 1 601 0
 1047 002e FB69     		ldr	r3, [r7, #28]
 1048 0030 002B     		cmp	r3, #0
 1049 0032 01D1     		bne	.L58
 602:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 1050              		.loc 1 602 0
 1051 0034 0123     		movs	r3, #1
 1052 0036 FB61     		str	r3, [r7, #28]
 1053              	.L58:
 603:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 604:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 605:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 606:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 1054              		.loc 1 606 0
 1055 0038 FFF7FEFF 		bl	inHandlerMode
 1056 003c 0346     		mov	r3, r0
 1057 003e 002B     		cmp	r3, #0
 1058 0040 02D0     		beq	.L59
 607:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 608:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ret.status = osErrorISR;  /*Not allowed in ISR*/
 1059              		.loc 1 608 0
 1060 0042 8223     		movs	r3, #130
 1061 0044 3B61     		str	r3, [r7, #16]
 1062 0046 1BE0     		b	.L60
 1063              	.L59:
 609:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 610:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 611:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 612:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if(xTaskNotifyWait( 0,(uint32_t) signals, (uint32_t *)&ret.value.signals, ticks) != pdTRUE)
 1064              		.loc 1 612 0
 1065 0048 B968     		ldr	r1, [r7, #8]
 1066 004a 07F11003 		add	r3, r7, #16
 1067 004e 1A1D     		adds	r2, r3, #4
 1068 0050 FB69     		ldr	r3, [r7, #28]
 1069 0052 0020     		movs	r0, #0
 1070 0054 FFF7FEFF 		bl	xTaskNotifyWait
 1071 0058 0346     		mov	r3, r0
 1072 005a 012B     		cmp	r3, #1
 1073 005c 08D0     		beq	.L61
 613:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 614:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       if(ticks == 0)  ret.status = osOK;
 1074              		.loc 1 614 0
 1075 005e FB69     		ldr	r3, [r7, #28]
 1076 0060 002B     		cmp	r3, #0
 1077 0062 02D1     		bne	.L62
 1078              		.loc 1 614 0 is_stmt 0 discriminator 1
 1079 0064 0023     		movs	r3, #0
ARM GAS  /tmp/cc5c7TuJ.s 			page 32


 1080 0066 3B61     		str	r3, [r7, #16]
 1081 0068 0AE0     		b	.L60
 1082              	.L62:
 615:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else  ret.status = osEventTimeout;
 1083              		.loc 1 615 0 is_stmt 1
 1084 006a 4023     		movs	r3, #64
 1085 006c 3B61     		str	r3, [r7, #16]
 1086 006e 07E0     		b	.L60
 1087              	.L61:
 616:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 617:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else if(ret.value.signals < 0)
 1088              		.loc 1 617 0
 1089 0070 7B69     		ldr	r3, [r7, #20]
 1090 0072 002B     		cmp	r3, #0
 1091 0074 02DA     		bge	.L64
 618:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 619:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ret.status =  osErrorValue;     
 1092              		.loc 1 619 0
 1093 0076 8623     		movs	r3, #134
 1094 0078 3B61     		str	r3, [r7, #16]
 1095 007a 01E0     		b	.L60
 1096              	.L64:
 620:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 621:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else  ret.status =  osEventSignal;
 1097              		.loc 1 621 0
 1098 007c 0823     		movs	r3, #8
 1099 007e 3B61     		str	r3, [r7, #16]
 1100              	.L60:
 622:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 623:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 624:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) signals;
 625:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
 626:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	
 627:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ret.status =  osErrorOS;	/* Task Notification not supported */
 628:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 629:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 630:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return ret;
 1101              		.loc 1 630 0
 1102 0080 FB68     		ldr	r3, [r7, #12]
 1103 0082 1C46     		mov	r4, r3
 1104 0084 07F11003 		add	r3, r7, #16
 1105 0088 93E80700 		ldm	r3, {r0, r1, r2}
 1106 008c 84E80700 		stm	r4, {r0, r1, r2}
 631:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1107              		.loc 1 631 0
 1108 0090 F868     		ldr	r0, [r7, #12]
 1109 0092 2437     		adds	r7, r7, #36
 1110              	.LCFI87:
 1111              		.cfi_def_cfa_offset 12
 1112 0094 BD46     		mov	sp, r7
 1113              	.LCFI88:
 1114              		.cfi_def_cfa_register 13
 1115              		@ sp needed
 1116 0096 90BD     		pop	{r4, r7, pc}
 1117              		.cfi_endproc
 1118              	.LFE48:
 1120              		.section	.text.osMutexCreate,"ax",%progbits
ARM GAS  /tmp/cc5c7TuJ.s 			page 33


 1121              		.align	1
 1122              		.global	osMutexCreate
 1123              		.syntax unified
 1124              		.thumb
 1125              		.thumb_func
 1126              		.fpu fpv4-sp-d16
 1128              	osMutexCreate:
 1129              	.LFB49:
 632:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 633:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /****************************  Mutex Management ********************************/
 634:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 635:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create and Initialize a Mutex object
 636:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mutex_def     mutex definition referenced with \ref osMutex.
 637:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  mutex ID for reference by other functions or NULL in case of error.
 638:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexCreate shall be consistent in every CMSIS-RTOS.
 639:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 640:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMutexId osMutexCreate (const osMutexDef_t *mutex_def)
 641:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1130              		.loc 1 641 0
 1131              		.cfi_startproc
 1132              		@ args = 0, pretend = 0, frame = 8
 1133              		@ frame_needed = 1, uses_anonymous_args = 0
 1134 0000 80B5     		push	{r7, lr}
 1135              	.LCFI89:
 1136              		.cfi_def_cfa_offset 8
 1137              		.cfi_offset 7, -8
 1138              		.cfi_offset 14, -4
 1139 0002 82B0     		sub	sp, sp, #8
 1140              	.LCFI90:
 1141              		.cfi_def_cfa_offset 16
 1142 0004 00AF     		add	r7, sp, #0
 1143              	.LCFI91:
 1144              		.cfi_def_cfa_register 7
 1145 0006 7860     		str	r0, [r7, #4]
 642:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( configUSE_MUTEXES == 1)
 643:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 644:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 645:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 646:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_def->controlblock != NULL) {
 647:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutexStatic( mutex_def->controlblock );
 648:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      }
 649:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 650:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutex(); 
 651:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 652:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
 653:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateMutexStatic( mutex_def->controlblock );
 654:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  
 655:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutex(); 
 1146              		.loc 1 655 0
 1147 0008 0120     		movs	r0, #1
 1148 000a FFF7FEFF 		bl	xQueueCreateMutex
 1149 000e 0346     		mov	r3, r0
 656:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 657:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 658:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
 659:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 660:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
ARM GAS  /tmp/cc5c7TuJ.s 			page 34


 1150              		.loc 1 660 0
 1151 0010 1846     		mov	r0, r3
 1152 0012 0837     		adds	r7, r7, #8
 1153              	.LCFI92:
 1154              		.cfi_def_cfa_offset 8
 1155 0014 BD46     		mov	sp, r7
 1156              	.LCFI93:
 1157              		.cfi_def_cfa_register 13
 1158              		@ sp needed
 1159 0016 80BD     		pop	{r7, pc}
 1160              		.cfi_endproc
 1161              	.LFE49:
 1163              		.section	.text.osMutexWait,"ax",%progbits
 1164              		.align	1
 1165              		.global	osMutexWait
 1166              		.syntax unified
 1167              		.thumb
 1168              		.thumb_func
 1169              		.fpu fpv4-sp-d16
 1171              	osMutexWait:
 1172              	.LFB50:
 661:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 662:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 663:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Wait until a Mutex becomes available
 664:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id      mutex ID obtained by \ref osMutexCreate.
 665:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec      timeout value or 0 in case of no time-out.
 666:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 667:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexWait shall be consistent in every CMSIS-RTOS.
 668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 669:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexWait (osMutexId mutex_id, uint32_t millisec)
 670:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1173              		.loc 1 670 0
 1174              		.cfi_startproc
 1175              		@ args = 0, pretend = 0, frame = 16
 1176              		@ frame_needed = 1, uses_anonymous_args = 0
 1177 0000 80B5     		push	{r7, lr}
 1178              	.LCFI94:
 1179              		.cfi_def_cfa_offset 8
 1180              		.cfi_offset 7, -8
 1181              		.cfi_offset 14, -4
 1182 0002 84B0     		sub	sp, sp, #16
 1183              	.LCFI95:
 1184              		.cfi_def_cfa_offset 24
 1185 0004 00AF     		add	r7, sp, #0
 1186              	.LCFI96:
 1187              		.cfi_def_cfa_register 7
 1188 0006 7860     		str	r0, [r7, #4]
 1189 0008 3960     		str	r1, [r7]
 671:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 672:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;  
 1190              		.loc 1 672 0
 1191 000a 0023     		movs	r3, #0
 1192 000c BB60     		str	r3, [r7, #8]
 673:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 674:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_id == NULL) {
 1193              		.loc 1 675 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 35


 1194 000e 7B68     		ldr	r3, [r7, #4]
 1195 0010 002B     		cmp	r3, #0
 1196 0012 01D1     		bne	.L69
 676:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 1197              		.loc 1 676 0
 1198 0014 8023     		movs	r3, #128
 1199 0016 3CE0     		b	.L77
 1200              	.L69:
 677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 678:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 679:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 1201              		.loc 1 679 0
 1202 0018 0023     		movs	r3, #0
 1203 001a FB60     		str	r3, [r7, #12]
 680:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1204              		.loc 1 680 0
 1205 001c 3B68     		ldr	r3, [r7]
 1206 001e B3F1FF3F 		cmp	r3, #-1
 1207 0022 03D1     		bne	.L71
 681:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 1208              		.loc 1 681 0
 1209 0024 4FF0FF33 		mov	r3, #-1
 1210 0028 FB60     		str	r3, [r7, #12]
 1211 002a 09E0     		b	.L72
 1212              	.L71:
 682:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 683:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 1213              		.loc 1 683 0
 1214 002c 3B68     		ldr	r3, [r7]
 1215 002e 002B     		cmp	r3, #0
 1216 0030 06D0     		beq	.L72
 684:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 1217              		.loc 1 684 0
 1218 0032 3B68     		ldr	r3, [r7]
 1219 0034 FB60     		str	r3, [r7, #12]
 685:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 1220              		.loc 1 685 0
 1221 0036 FB68     		ldr	r3, [r7, #12]
 1222 0038 002B     		cmp	r3, #0
 1223 003a 01D1     		bne	.L72
 686:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 1224              		.loc 1 686 0
 1225 003c 0123     		movs	r3, #1
 1226 003e FB60     		str	r3, [r7, #12]
 1227              	.L72:
 687:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 688:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 689:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 690:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1228              		.loc 1 690 0
 1229 0040 FFF7FEFF 		bl	inHandlerMode
 1230 0044 0346     		mov	r3, r0
 1231 0046 002B     		cmp	r3, #0
 1232 0048 17D0     		beq	.L73
 691:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreTakeFromISR(mutex_id, &taskWoken) != pdTRUE) {
 1233              		.loc 1 691 0
 1234 004a 07F10803 		add	r3, r7, #8
ARM GAS  /tmp/cc5c7TuJ.s 			page 36


 1235 004e 1A46     		mov	r2, r3
 1236 0050 0021     		movs	r1, #0
 1237 0052 7868     		ldr	r0, [r7, #4]
 1238 0054 FFF7FEFF 		bl	xQueueReceiveFromISR
 1239 0058 0346     		mov	r3, r0
 1240 005a 012B     		cmp	r3, #1
 1241 005c 01D0     		beq	.L74
 692:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1242              		.loc 1 692 0
 1243 005e FF23     		movs	r3, #255
 1244 0060 17E0     		b	.L77
 1245              	.L74:
 693:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 694:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	portEND_SWITCHING_ISR(taskWoken);
 1246              		.loc 1 694 0
 1247 0062 BB68     		ldr	r3, [r7, #8]
 1248 0064 002B     		cmp	r3, #0
 1249 0066 13D0     		beq	.L76
 1250              		.loc 1 694 0 is_stmt 0 discriminator 1
 1251 0068 0C4B     		ldr	r3, .L78
 1252 006a 4FF08052 		mov	r2, #268435456
 1253 006e 1A60     		str	r2, [r3]
 1254              		.syntax unified
 1255              	@ 694 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1256 0070 BFF34F8F 		dsb
 1257              	@ 0 "" 2
 1258              	@ 694 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1259 0074 BFF36F8F 		isb
 1260              	@ 0 "" 2
 1261              		.thumb
 1262              		.syntax unified
 1263 0078 0AE0     		b	.L76
 1264              	.L73:
 695:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
 696:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreTake(mutex_id, ticks) != pdTRUE) {
 1265              		.loc 1 696 0 is_stmt 1
 1266 007a 0023     		movs	r3, #0
 1267 007c FA68     		ldr	r2, [r7, #12]
 1268 007e 0021     		movs	r1, #0
 1269 0080 7868     		ldr	r0, [r7, #4]
 1270 0082 FFF7FEFF 		bl	xQueueGenericReceive
 1271 0086 0346     		mov	r3, r0
 1272 0088 012B     		cmp	r3, #1
 1273 008a 01D0     		beq	.L76
 697:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 1274              		.loc 1 697 0
 1275 008c FF23     		movs	r3, #255
 1276 008e 00E0     		b	.L77
 1277              	.L76:
 698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 699:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 700:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1278              		.loc 1 700 0
 1279 0090 0023     		movs	r3, #0
 1280              	.L77:
 701:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1281              		.loc 1 701 0 discriminator 1
ARM GAS  /tmp/cc5c7TuJ.s 			page 37


 1282 0092 1846     		mov	r0, r3
 1283 0094 1037     		adds	r7, r7, #16
 1284              	.LCFI97:
 1285              		.cfi_def_cfa_offset 8
 1286 0096 BD46     		mov	sp, r7
 1287              	.LCFI98:
 1288              		.cfi_def_cfa_register 13
 1289              		@ sp needed
 1290 0098 80BD     		pop	{r7, pc}
 1291              	.L79:
 1292 009a 00BF     		.align	2
 1293              	.L78:
 1294 009c 04ED00E0 		.word	-536810236
 1295              		.cfi_endproc
 1296              	.LFE50:
 1298              		.section	.text.osMutexRelease,"ax",%progbits
 1299              		.align	1
 1300              		.global	osMutexRelease
 1301              		.syntax unified
 1302              		.thumb
 1303              		.thumb_func
 1304              		.fpu fpv4-sp-d16
 1306              	osMutexRelease:
 1307              	.LFB51:
 702:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 703:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 704:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Release a Mutex that was obtained by \ref osMutexWait
 705:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id      mutex ID obtained by \ref osMutexCreate.
 706:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 707:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexRelease shall be consistent in every CMSIS-RTOS.
 708:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 709:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexRelease (osMutexId mutex_id)
 710:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1308              		.loc 1 710 0
 1309              		.cfi_startproc
 1310              		@ args = 0, pretend = 0, frame = 16
 1311              		@ frame_needed = 1, uses_anonymous_args = 0
 1312 0000 80B5     		push	{r7, lr}
 1313              	.LCFI99:
 1314              		.cfi_def_cfa_offset 8
 1315              		.cfi_offset 7, -8
 1316              		.cfi_offset 14, -4
 1317 0002 84B0     		sub	sp, sp, #16
 1318              	.LCFI100:
 1319              		.cfi_def_cfa_offset 24
 1320 0004 00AF     		add	r7, sp, #0
 1321              	.LCFI101:
 1322              		.cfi_def_cfa_register 7
 1323 0006 7860     		str	r0, [r7, #4]
 711:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 1324              		.loc 1 711 0
 1325 0008 0023     		movs	r3, #0
 1326 000a FB60     		str	r3, [r7, #12]
 712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1327              		.loc 1 712 0
 1328 000c 0023     		movs	r3, #0
 1329 000e BB60     		str	r3, [r7, #8]
ARM GAS  /tmp/cc5c7TuJ.s 			page 38


 713:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 714:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1330              		.loc 1 714 0
 1331 0010 FFF7FEFF 		bl	inHandlerMode
 1332 0014 0346     		mov	r3, r0
 1333 0016 002B     		cmp	r3, #0
 1334 0018 16D0     		beq	.L81
 715:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGiveFromISR(mutex_id, &taskWoken) != pdTRUE) {
 1335              		.loc 1 715 0
 1336 001a 07F10803 		add	r3, r7, #8
 1337 001e 1946     		mov	r1, r3
 1338 0020 7868     		ldr	r0, [r7, #4]
 1339 0022 FFF7FEFF 		bl	xQueueGiveFromISR
 1340 0026 0346     		mov	r3, r0
 1341 0028 012B     		cmp	r3, #1
 1342 002a 01D0     		beq	.L82
 716:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1343              		.loc 1 716 0
 1344 002c FF23     		movs	r3, #255
 1345 002e 17E0     		b	.L86
 1346              	.L82:
 717:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 718:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 1347              		.loc 1 718 0
 1348 0030 BB68     		ldr	r3, [r7, #8]
 1349 0032 002B     		cmp	r3, #0
 1350 0034 13D0     		beq	.L85
 1351              		.loc 1 718 0 is_stmt 0 discriminator 1
 1352 0036 0C4B     		ldr	r3, .L87
 1353 0038 4FF08052 		mov	r2, #268435456
 1354 003c 1A60     		str	r2, [r3]
 1355              		.syntax unified
 1356              	@ 718 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1357 003e BFF34F8F 		dsb
 1358              	@ 0 "" 2
 1359              	@ 718 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1360 0042 BFF36F8F 		isb
 1361              	@ 0 "" 2
 1362              		.thumb
 1363              		.syntax unified
 1364 0046 0AE0     		b	.L85
 1365              	.L81:
 719:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 720:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreGive(mutex_id) != pdTRUE) 
 1366              		.loc 1 720 0 is_stmt 1
 1367 0048 0023     		movs	r3, #0
 1368 004a 0022     		movs	r2, #0
 1369 004c 0021     		movs	r1, #0
 1370 004e 7868     		ldr	r0, [r7, #4]
 1371 0050 FFF7FEFF 		bl	xQueueGenericSend
 1372 0054 0346     		mov	r3, r0
 1373 0056 012B     		cmp	r3, #1
 1374 0058 01D0     		beq	.L85
 721:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 722:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osErrorOS;
 1375              		.loc 1 722 0
 1376 005a FF23     		movs	r3, #255
ARM GAS  /tmp/cc5c7TuJ.s 			page 39


 1377 005c FB60     		str	r3, [r7, #12]
 1378              	.L85:
 723:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 724:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 1379              		.loc 1 724 0
 1380 005e FB68     		ldr	r3, [r7, #12]
 1381              	.L86:
 725:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1382              		.loc 1 725 0 discriminator 1
 1383 0060 1846     		mov	r0, r3
 1384 0062 1037     		adds	r7, r7, #16
 1385              	.LCFI102:
 1386              		.cfi_def_cfa_offset 8
 1387 0064 BD46     		mov	sp, r7
 1388              	.LCFI103:
 1389              		.cfi_def_cfa_register 13
 1390              		@ sp needed
 1391 0066 80BD     		pop	{r7, pc}
 1392              	.L88:
 1393              		.align	2
 1394              	.L87:
 1395 0068 04ED00E0 		.word	-536810236
 1396              		.cfi_endproc
 1397              	.LFE51:
 1399              		.section	.text.osMutexDelete,"ax",%progbits
 1400              		.align	1
 1401              		.global	osMutexDelete
 1402              		.syntax unified
 1403              		.thumb
 1404              		.thumb_func
 1405              		.fpu fpv4-sp-d16
 1407              	osMutexDelete:
 1408              	.LFB52:
 726:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 727:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 728:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Mutex
 729:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id  mutex ID obtained by \ref osMutexCreate.
 730:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 731:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexDelete shall be consistent in every CMSIS-RTOS.
 732:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 733:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexDelete (osMutexId mutex_id)
 734:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1409              		.loc 1 734 0
 1410              		.cfi_startproc
 1411              		@ args = 0, pretend = 0, frame = 8
 1412              		@ frame_needed = 1, uses_anonymous_args = 0
 1413 0000 80B5     		push	{r7, lr}
 1414              	.LCFI104:
 1415              		.cfi_def_cfa_offset 8
 1416              		.cfi_offset 7, -8
 1417              		.cfi_offset 14, -4
 1418 0002 82B0     		sub	sp, sp, #8
 1419              	.LCFI105:
 1420              		.cfi_def_cfa_offset 16
 1421 0004 00AF     		add	r7, sp, #0
 1422              	.LCFI106:
 1423              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cc5c7TuJ.s 			page 40


 1424 0006 7860     		str	r0, [r7, #4]
 735:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1425              		.loc 1 735 0
 1426 0008 FFF7FEFF 		bl	inHandlerMode
 1427 000c 0346     		mov	r3, r0
 1428 000e 002B     		cmp	r3, #0
 1429 0010 01D0     		beq	.L90
 736:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 1430              		.loc 1 736 0
 1431 0012 8223     		movs	r3, #130
 1432 0014 03E0     		b	.L91
 1433              	.L90:
 737:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 738:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 739:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vQueueDelete(mutex_id);
 1434              		.loc 1 739 0
 1435 0016 7868     		ldr	r0, [r7, #4]
 1436 0018 FFF7FEFF 		bl	vQueueDelete
 740:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 741:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1437              		.loc 1 741 0
 1438 001c 0023     		movs	r3, #0
 1439              	.L91:
 742:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1440              		.loc 1 742 0
 1441 001e 1846     		mov	r0, r3
 1442 0020 0837     		adds	r7, r7, #8
 1443              	.LCFI107:
 1444              		.cfi_def_cfa_offset 8
 1445 0022 BD46     		mov	sp, r7
 1446              	.LCFI108:
 1447              		.cfi_def_cfa_register 13
 1448              		@ sp needed
 1449 0024 80BD     		pop	{r7, pc}
 1450              		.cfi_endproc
 1451              	.LFE52:
 1453              		.section	.text.osSemaphoreCreate,"ax",%progbits
 1454              		.align	1
 1455              		.global	osSemaphoreCreate
 1456              		.syntax unified
 1457              		.thumb
 1458              		.thumb_func
 1459              		.fpu fpv4-sp-d16
 1461              	osSemaphoreCreate:
 1462              	.LFB53:
 743:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 744:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /********************  Semaphore Management Functions **************************/
 745:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 746:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Semaphore)  &&  (osFeature_Semaphore != 0))
 747:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 748:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 749:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a Semaphore object used for managing resources
 750:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param semaphore_def semaphore definition referenced with \ref osSemaphore.
 751:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param count         number of available resources.
 752:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  semaphore ID for reference by other functions or NULL in case of error.
 753:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreCreate shall be consistent in every CMSIS-RTOS.
 754:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
ARM GAS  /tmp/cc5c7TuJ.s 			page 41


 755:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osSemaphoreId osSemaphoreCreate (const osSemaphoreDef_t *semaphore_def, int32_t count)
 756:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** { 
 1463              		.loc 1 756 0
 1464              		.cfi_startproc
 1465              		@ args = 0, pretend = 0, frame = 16
 1466              		@ frame_needed = 1, uses_anonymous_args = 0
 1467 0000 80B5     		push	{r7, lr}
 1468              	.LCFI109:
 1469              		.cfi_def_cfa_offset 8
 1470              		.cfi_offset 7, -8
 1471              		.cfi_offset 14, -4
 1472 0002 84B0     		sub	sp, sp, #16
 1473              	.LCFI110:
 1474              		.cfi_def_cfa_offset 24
 1475 0004 00AF     		add	r7, sp, #0
 1476              	.LCFI111:
 1477              		.cfi_def_cfa_register 7
 1478 0006 7860     		str	r0, [r7, #4]
 1479 0008 3960     		str	r1, [r7]
 757:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 758:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 759:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osSemaphoreId sema;
 760:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 761:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (semaphore_def->controlblock != NULL){
 762:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (count == 1) {
 763:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateBinaryStatic( semaphore_def->controlblock );
 764:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 765:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 766:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )
 767:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCountingStatic( count, count, semaphore_def->controlblock );
 768:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 769:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 770:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 771:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 772:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 773:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 774:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (count == 1) {
 775:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       vSemaphoreCreateBinary(sema);
 776:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return sema;
 777:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 778:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 779:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )	
 780:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCounting(count, count);
 781:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 782:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 783:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    
 784:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 785:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 786:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 ) // configSUPPORT_DYNAMIC_ALLOCATION == 0
 787:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(count == 1) {
 788:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateBinaryStatic( semaphore_def->controlblock );
 789:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 790:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 791:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 792:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )
 793:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCountingStatic( count, count, semaphore_def->controlblock );
 794:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
ARM GAS  /tmp/cc5c7TuJ.s 			page 42


 795:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 796:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    
 797:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 798:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  // configSUPPORT_STATIC_ALLOCATION == 0  && configSUPPORT_DYNAMIC_ALLOCATION == 1
 799:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osSemaphoreId sema;
 800:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 801:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (count == 1) {
 1480              		.loc 1 801 0
 1481 000a 3B68     		ldr	r3, [r7]
 1482 000c 012B     		cmp	r3, #1
 1483 000e 10D1     		bne	.L93
 802:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vSemaphoreCreateBinary(sema);
 1484              		.loc 1 802 0
 1485 0010 0322     		movs	r2, #3
 1486 0012 0021     		movs	r1, #0
 1487 0014 0120     		movs	r0, #1
 1488 0016 FFF7FEFF 		bl	xQueueGenericCreate
 1489 001a F860     		str	r0, [r7, #12]
 1490 001c FB68     		ldr	r3, [r7, #12]
 1491 001e 002B     		cmp	r3, #0
 1492 0020 05D0     		beq	.L94
 1493              		.loc 1 802 0 is_stmt 0 discriminator 1
 1494 0022 0023     		movs	r3, #0
 1495 0024 0022     		movs	r2, #0
 1496 0026 0021     		movs	r1, #0
 1497 0028 F868     		ldr	r0, [r7, #12]
 1498 002a FFF7FEFF 		bl	xQueueGenericSend
 1499              	.L94:
 803:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return sema;
 1500              		.loc 1 803 0 is_stmt 1
 1501 002e FB68     		ldr	r3, [r7, #12]
 1502 0030 00E0     		b	.L95
 1503              	.L93:
 804:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 805:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 806:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )	
 807:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateCounting(count, count);
 808:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 809:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 1504              		.loc 1 809 0
 1505 0032 0023     		movs	r3, #0
 1506              	.L95:
 810:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 811:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 812:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 813:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1507              		.loc 1 813 0
 1508 0034 1846     		mov	r0, r3
 1509 0036 1037     		adds	r7, r7, #16
 1510              	.LCFI112:
 1511              		.cfi_def_cfa_offset 8
 1512 0038 BD46     		mov	sp, r7
 1513              	.LCFI113:
 1514              		.cfi_def_cfa_register 13
 1515              		@ sp needed
 1516 003a 80BD     		pop	{r7, pc}
 1517              		.cfi_endproc
ARM GAS  /tmp/cc5c7TuJ.s 			page 43


 1518              	.LFE53:
 1520              		.section	.text.osSemaphoreWait,"ax",%progbits
 1521              		.align	1
 1522              		.global	osSemaphoreWait
 1523              		.syntax unified
 1524              		.thumb
 1525              		.thumb_func
 1526              		.fpu fpv4-sp-d16
 1528              	osSemaphoreWait:
 1529              	.LFB54:
 814:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 815:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 816:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Wait until a Semaphore token becomes available
 817:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 818:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
 819:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  number of available tokens, or -1 in case of incorrect parameters.
 820:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreWait shall be consistent in every CMSIS-RTOS.
 821:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 822:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSemaphoreWait (osSemaphoreId semaphore_id, uint32_t millisec)
 823:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1530              		.loc 1 823 0
 1531              		.cfi_startproc
 1532              		@ args = 0, pretend = 0, frame = 16
 1533              		@ frame_needed = 1, uses_anonymous_args = 0
 1534 0000 80B5     		push	{r7, lr}
 1535              	.LCFI114:
 1536              		.cfi_def_cfa_offset 8
 1537              		.cfi_offset 7, -8
 1538              		.cfi_offset 14, -4
 1539 0002 84B0     		sub	sp, sp, #16
 1540              	.LCFI115:
 1541              		.cfi_def_cfa_offset 24
 1542 0004 00AF     		add	r7, sp, #0
 1543              	.LCFI116:
 1544              		.cfi_def_cfa_register 7
 1545 0006 7860     		str	r0, [r7, #4]
 1546 0008 3960     		str	r1, [r7]
 824:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 825:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;  
 1547              		.loc 1 825 0
 1548 000a 0023     		movs	r3, #0
 1549 000c BB60     		str	r3, [r7, #8]
 826:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 827:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 828:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (semaphore_id == NULL) {
 1550              		.loc 1 828 0
 1551 000e 7B68     		ldr	r3, [r7, #4]
 1552 0010 002B     		cmp	r3, #0
 1553 0012 01D1     		bne	.L97
 829:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 1554              		.loc 1 829 0
 1555 0014 8023     		movs	r3, #128
 1556 0016 3CE0     		b	.L105
 1557              	.L97:
 830:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 831:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 832:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
ARM GAS  /tmp/cc5c7TuJ.s 			page 44


 1558              		.loc 1 832 0
 1559 0018 0023     		movs	r3, #0
 1560 001a FB60     		str	r3, [r7, #12]
 833:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1561              		.loc 1 833 0
 1562 001c 3B68     		ldr	r3, [r7]
 1563 001e B3F1FF3F 		cmp	r3, #-1
 1564 0022 03D1     		bne	.L99
 834:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 1565              		.loc 1 834 0
 1566 0024 4FF0FF33 		mov	r3, #-1
 1567 0028 FB60     		str	r3, [r7, #12]
 1568 002a 09E0     		b	.L100
 1569              	.L99:
 835:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 836:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 1570              		.loc 1 836 0
 1571 002c 3B68     		ldr	r3, [r7]
 1572 002e 002B     		cmp	r3, #0
 1573 0030 06D0     		beq	.L100
 837:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 1574              		.loc 1 837 0
 1575 0032 3B68     		ldr	r3, [r7]
 1576 0034 FB60     		str	r3, [r7, #12]
 838:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 1577              		.loc 1 838 0
 1578 0036 FB68     		ldr	r3, [r7, #12]
 1579 0038 002B     		cmp	r3, #0
 1580 003a 01D1     		bne	.L100
 839:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 1581              		.loc 1 839 0
 1582 003c 0123     		movs	r3, #1
 1583 003e FB60     		str	r3, [r7, #12]
 1584              	.L100:
 840:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 841:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 842:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 843:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1585              		.loc 1 843 0
 1586 0040 FFF7FEFF 		bl	inHandlerMode
 1587 0044 0346     		mov	r3, r0
 1588 0046 002B     		cmp	r3, #0
 1589 0048 17D0     		beq	.L101
 844:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreTakeFromISR(semaphore_id, &taskWoken) != pdTRUE) {
 1590              		.loc 1 844 0
 1591 004a 07F10803 		add	r3, r7, #8
 1592 004e 1A46     		mov	r2, r3
 1593 0050 0021     		movs	r1, #0
 1594 0052 7868     		ldr	r0, [r7, #4]
 1595 0054 FFF7FEFF 		bl	xQueueReceiveFromISR
 1596 0058 0346     		mov	r3, r0
 1597 005a 012B     		cmp	r3, #1
 1598 005c 01D0     		beq	.L102
 845:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1599              		.loc 1 845 0
 1600 005e FF23     		movs	r3, #255
 1601 0060 17E0     		b	.L105
ARM GAS  /tmp/cc5c7TuJ.s 			page 45


 1602              	.L102:
 846:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 847:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	portEND_SWITCHING_ISR(taskWoken);
 1603              		.loc 1 847 0
 1604 0062 BB68     		ldr	r3, [r7, #8]
 1605 0064 002B     		cmp	r3, #0
 1606 0066 13D0     		beq	.L104
 1607              		.loc 1 847 0 is_stmt 0 discriminator 1
 1608 0068 0C4B     		ldr	r3, .L106
 1609 006a 4FF08052 		mov	r2, #268435456
 1610 006e 1A60     		str	r2, [r3]
 1611              		.syntax unified
 1612              	@ 847 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1613 0070 BFF34F8F 		dsb
 1614              	@ 0 "" 2
 1615              	@ 847 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1616 0074 BFF36F8F 		isb
 1617              	@ 0 "" 2
 1618              		.thumb
 1619              		.syntax unified
 1620 0078 0AE0     		b	.L104
 1621              	.L101:
 848:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 849:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreTake(semaphore_id, ticks) != pdTRUE) {
 1622              		.loc 1 849 0 is_stmt 1
 1623 007a 0023     		movs	r3, #0
 1624 007c FA68     		ldr	r2, [r7, #12]
 1625 007e 0021     		movs	r1, #0
 1626 0080 7868     		ldr	r0, [r7, #4]
 1627 0082 FFF7FEFF 		bl	xQueueGenericReceive
 1628 0086 0346     		mov	r3, r0
 1629 0088 012B     		cmp	r3, #1
 1630 008a 01D0     		beq	.L104
 850:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 1631              		.loc 1 850 0
 1632 008c FF23     		movs	r3, #255
 1633 008e 00E0     		b	.L105
 1634              	.L104:
 851:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 852:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 853:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1635              		.loc 1 853 0
 1636 0090 0023     		movs	r3, #0
 1637              	.L105:
 854:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1638              		.loc 1 854 0 discriminator 1
 1639 0092 1846     		mov	r0, r3
 1640 0094 1037     		adds	r7, r7, #16
 1641              	.LCFI117:
 1642              		.cfi_def_cfa_offset 8
 1643 0096 BD46     		mov	sp, r7
 1644              	.LCFI118:
 1645              		.cfi_def_cfa_register 13
 1646              		@ sp needed
 1647 0098 80BD     		pop	{r7, pc}
 1648              	.L107:
 1649 009a 00BF     		.align	2
ARM GAS  /tmp/cc5c7TuJ.s 			page 46


 1650              	.L106:
 1651 009c 04ED00E0 		.word	-536810236
 1652              		.cfi_endproc
 1653              	.LFE54:
 1655              		.section	.text.osSemaphoreRelease,"ax",%progbits
 1656              		.align	1
 1657              		.global	osSemaphoreRelease
 1658              		.syntax unified
 1659              		.thumb
 1660              		.thumb_func
 1661              		.fpu fpv4-sp-d16
 1663              	osSemaphoreRelease:
 1664              	.LFB55:
 855:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 856:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 857:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Release a Semaphore token
 858:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 859:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 860:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreRelease shall be consistent in every CMSIS-RTOS.
 861:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 862:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osSemaphoreRelease (osSemaphoreId semaphore_id)
 863:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1665              		.loc 1 863 0
 1666              		.cfi_startproc
 1667              		@ args = 0, pretend = 0, frame = 16
 1668              		@ frame_needed = 1, uses_anonymous_args = 0
 1669 0000 80B5     		push	{r7, lr}
 1670              	.LCFI119:
 1671              		.cfi_def_cfa_offset 8
 1672              		.cfi_offset 7, -8
 1673              		.cfi_offset 14, -4
 1674 0002 84B0     		sub	sp, sp, #16
 1675              	.LCFI120:
 1676              		.cfi_def_cfa_offset 24
 1677 0004 00AF     		add	r7, sp, #0
 1678              	.LCFI121:
 1679              		.cfi_def_cfa_register 7
 1680 0006 7860     		str	r0, [r7, #4]
 864:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 1681              		.loc 1 864 0
 1682 0008 0023     		movs	r3, #0
 1683 000a FB60     		str	r3, [r7, #12]
 865:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1684              		.loc 1 865 0
 1685 000c 0023     		movs	r3, #0
 1686 000e BB60     		str	r3, [r7, #8]
 866:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 867:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 868:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1687              		.loc 1 868 0
 1688 0010 FFF7FEFF 		bl	inHandlerMode
 1689 0014 0346     		mov	r3, r0
 1690 0016 002B     		cmp	r3, #0
 1691 0018 16D0     		beq	.L109
 869:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGiveFromISR(semaphore_id, &taskWoken) != pdTRUE) {
 1692              		.loc 1 869 0
 1693 001a 07F10803 		add	r3, r7, #8
ARM GAS  /tmp/cc5c7TuJ.s 			page 47


 1694 001e 1946     		mov	r1, r3
 1695 0020 7868     		ldr	r0, [r7, #4]
 1696 0022 FFF7FEFF 		bl	xQueueGiveFromISR
 1697 0026 0346     		mov	r3, r0
 1698 0028 012B     		cmp	r3, #1
 1699 002a 01D0     		beq	.L110
 870:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1700              		.loc 1 870 0
 1701 002c FF23     		movs	r3, #255
 1702 002e 17E0     		b	.L114
 1703              	.L110:
 871:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 872:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 1704              		.loc 1 872 0
 1705 0030 BB68     		ldr	r3, [r7, #8]
 1706 0032 002B     		cmp	r3, #0
 1707 0034 13D0     		beq	.L113
 1708              		.loc 1 872 0 is_stmt 0 discriminator 1
 1709 0036 0C4B     		ldr	r3, .L115
 1710 0038 4FF08052 		mov	r2, #268435456
 1711 003c 1A60     		str	r2, [r3]
 1712              		.syntax unified
 1713              	@ 872 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1714 003e BFF34F8F 		dsb
 1715              	@ 0 "" 2
 1716              	@ 872 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1717 0042 BFF36F8F 		isb
 1718              	@ 0 "" 2
 1719              		.thumb
 1720              		.syntax unified
 1721 0046 0AE0     		b	.L113
 1722              	.L109:
 873:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 874:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 875:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGive(semaphore_id) != pdTRUE) {
 1723              		.loc 1 875 0 is_stmt 1
 1724 0048 0023     		movs	r3, #0
 1725 004a 0022     		movs	r2, #0
 1726 004c 0021     		movs	r1, #0
 1727 004e 7868     		ldr	r0, [r7, #4]
 1728 0050 FFF7FEFF 		bl	xQueueGenericSend
 1729 0054 0346     		mov	r3, r0
 1730 0056 012B     		cmp	r3, #1
 1731 0058 01D0     		beq	.L113
 876:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 1732              		.loc 1 876 0
 1733 005a FF23     		movs	r3, #255
 1734 005c FB60     		str	r3, [r7, #12]
 1735              	.L113:
 877:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 878:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 879:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 880:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 1736              		.loc 1 880 0
 1737 005e FB68     		ldr	r3, [r7, #12]
 1738              	.L114:
 881:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
ARM GAS  /tmp/cc5c7TuJ.s 			page 48


 1739              		.loc 1 881 0 discriminator 1
 1740 0060 1846     		mov	r0, r3
 1741 0062 1037     		adds	r7, r7, #16
 1742              	.LCFI122:
 1743              		.cfi_def_cfa_offset 8
 1744 0064 BD46     		mov	sp, r7
 1745              	.LCFI123:
 1746              		.cfi_def_cfa_register 13
 1747              		@ sp needed
 1748 0066 80BD     		pop	{r7, pc}
 1749              	.L116:
 1750              		.align	2
 1751              	.L115:
 1752 0068 04ED00E0 		.word	-536810236
 1753              		.cfi_endproc
 1754              	.LFE55:
 1756              		.section	.text.osSemaphoreDelete,"ax",%progbits
 1757              		.align	1
 1758              		.global	osSemaphoreDelete
 1759              		.syntax unified
 1760              		.thumb
 1761              		.thumb_func
 1762              		.fpu fpv4-sp-d16
 1764              	osSemaphoreDelete:
 1765              	.LFB56:
 882:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 883:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 884:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Semaphore
 885:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 886:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 887:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreDelete shall be consistent in every CMSIS-RTOS.
 888:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 889:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osSemaphoreDelete (osSemaphoreId semaphore_id)
 890:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1766              		.loc 1 890 0
 1767              		.cfi_startproc
 1768              		@ args = 0, pretend = 0, frame = 8
 1769              		@ frame_needed = 1, uses_anonymous_args = 0
 1770 0000 80B5     		push	{r7, lr}
 1771              	.LCFI124:
 1772              		.cfi_def_cfa_offset 8
 1773              		.cfi_offset 7, -8
 1774              		.cfi_offset 14, -4
 1775 0002 82B0     		sub	sp, sp, #8
 1776              	.LCFI125:
 1777              		.cfi_def_cfa_offset 16
 1778 0004 00AF     		add	r7, sp, #0
 1779              	.LCFI126:
 1780              		.cfi_def_cfa_register 7
 1781 0006 7860     		str	r0, [r7, #4]
 891:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1782              		.loc 1 891 0
 1783 0008 FFF7FEFF 		bl	inHandlerMode
 1784 000c 0346     		mov	r3, r0
 1785 000e 002B     		cmp	r3, #0
 1786 0010 01D0     		beq	.L118
 892:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
ARM GAS  /tmp/cc5c7TuJ.s 			page 49


 1787              		.loc 1 892 0
 1788 0012 8223     		movs	r3, #130
 1789 0014 03E0     		b	.L119
 1790              	.L118:
 893:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 894:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 895:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vSemaphoreDelete(semaphore_id);
 1791              		.loc 1 895 0
 1792 0016 7868     		ldr	r0, [r7, #4]
 1793 0018 FFF7FEFF 		bl	vQueueDelete
 896:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 897:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK; 
 1794              		.loc 1 897 0
 1795 001c 0023     		movs	r3, #0
 1796              	.L119:
 898:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1797              		.loc 1 898 0
 1798 001e 1846     		mov	r0, r3
 1799 0020 0837     		adds	r7, r7, #8
 1800              	.LCFI127:
 1801              		.cfi_def_cfa_offset 8
 1802 0022 BD46     		mov	sp, r7
 1803              	.LCFI128:
 1804              		.cfi_def_cfa_register 13
 1805              		@ sp needed
 1806 0024 80BD     		pop	{r7, pc}
 1807              		.cfi_endproc
 1808              	.LFE56:
 1810              		.section	.text.osPoolCreate,"ax",%progbits
 1811              		.align	1
 1812              		.global	osPoolCreate
 1813              		.syntax unified
 1814              		.thumb
 1815              		.thumb_func
 1816              		.fpu fpv4-sp-d16
 1818              	osPoolCreate:
 1819              	.LFB57:
 899:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 900:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    /* Use Semaphores */
 901:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 902:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*******************   Memory Pool Management Functions  ***********************/
 903:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 904:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Pool)  &&  (osFeature_Pool != 0)) 
 905:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 906:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //TODO
 907:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //This is a primitive and inefficient wrapper around the existing FreeRTOS memory management.
 908:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //A better implementation will have to modify heap_x.c!
 909:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 910:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 911:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** typedef struct os_pool_cb {
 912:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *pool;
 913:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint8_t *markers;
 914:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t pool_sz;
 915:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t item_sz;
 916:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t currentIndex;
 917:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** } os_pool_cb_t;
 918:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
ARM GAS  /tmp/cc5c7TuJ.s 			page 50


 919:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 920:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 921:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a memory pool
 922:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_def      memory pool definition referenced with \ref osPool.
 923:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  memory pool ID for reference by other functions or NULL in case of error.
 924:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolCreate shall be consistent in every CMSIS-RTOS.
 925:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 926:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osPoolId osPoolCreate (const osPoolDef_t *pool_def)
 927:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1820              		.loc 1 927 0
 1821              		.cfi_startproc
 1822              		@ args = 0, pretend = 0, frame = 24
 1823              		@ frame_needed = 1, uses_anonymous_args = 0
 1824 0000 80B5     		push	{r7, lr}
 1825              	.LCFI129:
 1826              		.cfi_def_cfa_offset 8
 1827              		.cfi_offset 7, -8
 1828              		.cfi_offset 14, -4
 1829 0002 86B0     		sub	sp, sp, #24
 1830              	.LCFI130:
 1831              		.cfi_def_cfa_offset 32
 1832 0004 00AF     		add	r7, sp, #0
 1833              	.LCFI131:
 1834              		.cfi_def_cfa_register 7
 1835 0006 7860     		str	r0, [r7, #4]
 928:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configSUPPORT_DYNAMIC_ALLOCATION == 1)
 929:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolId thePool;
 930:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   int itemSize = 4 * ((pool_def->item_sz + 3) / 4);
 1836              		.loc 1 930 0
 1837 0008 7B68     		ldr	r3, [r7, #4]
 1838 000a 5B68     		ldr	r3, [r3, #4]
 1839 000c 0333     		adds	r3, r3, #3
 1840 000e 23F00303 		bic	r3, r3, #3
 1841 0012 FB60     		str	r3, [r7, #12]
 931:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
 932:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 933:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* First have to allocate memory for the pool control block. */
 934:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  thePool = pvPortMalloc(sizeof(os_pool_cb_t));
 1842              		.loc 1 934 0
 1843 0014 1420     		movs	r0, #20
 1844 0016 FFF7FEFF 		bl	pvPortMalloc
 1845 001a 7861     		str	r0, [r7, #20]
 935:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 936:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 937:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (thePool) {
 1846              		.loc 1 937 0
 1847 001c 7B69     		ldr	r3, [r7, #20]
 1848 001e 002B     		cmp	r3, #0
 1849 0020 46D0     		beq	.L121
 938:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->pool_sz = pool_def->pool_sz;
 1850              		.loc 1 938 0
 1851 0022 7B68     		ldr	r3, [r7, #4]
 1852 0024 1A68     		ldr	r2, [r3]
 1853 0026 7B69     		ldr	r3, [r7, #20]
 1854 0028 9A60     		str	r2, [r3, #8]
 939:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->item_sz = itemSize;
 1855              		.loc 1 939 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 51


 1856 002a FA68     		ldr	r2, [r7, #12]
 1857 002c 7B69     		ldr	r3, [r7, #20]
 1858 002e DA60     		str	r2, [r3, #12]
 940:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->currentIndex = 0;
 1859              		.loc 1 940 0
 1860 0030 7B69     		ldr	r3, [r7, #20]
 1861 0032 0022     		movs	r2, #0
 1862 0034 1A61     		str	r2, [r3, #16]
 941:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 942:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     /* Memory for markers */
 943:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->markers = pvPortMalloc(pool_def->pool_sz);
 1863              		.loc 1 943 0
 1864 0036 7B68     		ldr	r3, [r7, #4]
 1865 0038 1B68     		ldr	r3, [r3]
 1866 003a 1846     		mov	r0, r3
 1867 003c FFF7FEFF 		bl	pvPortMalloc
 1868 0040 0246     		mov	r2, r0
 1869 0042 7B69     		ldr	r3, [r7, #20]
 1870 0044 5A60     		str	r2, [r3, #4]
 944:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****    
 945:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (thePool->markers) {
 1871              		.loc 1 945 0
 1872 0046 7B69     		ldr	r3, [r7, #20]
 1873 0048 5B68     		ldr	r3, [r3, #4]
 1874 004a 002B     		cmp	r3, #0
 1875 004c 2BD0     		beq	.L122
 946:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* Now allocate the pool itself. */
 947:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      thePool->pool = pvPortMalloc(pool_def->pool_sz * itemSize);
 1876              		.loc 1 947 0
 1877 004e 7B68     		ldr	r3, [r7, #4]
 1878 0050 1B68     		ldr	r3, [r3]
 1879 0052 FA68     		ldr	r2, [r7, #12]
 1880 0054 02FB03F3 		mul	r3, r2, r3
 1881 0058 1846     		mov	r0, r3
 1882 005a FFF7FEFF 		bl	pvPortMalloc
 1883 005e 0246     		mov	r2, r0
 1884 0060 7B69     		ldr	r3, [r7, #20]
 1885 0062 1A60     		str	r2, [r3]
 948:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       
 949:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       if (thePool->pool) {
 1886              		.loc 1 949 0
 1887 0064 7B69     		ldr	r3, [r7, #20]
 1888 0066 1B68     		ldr	r3, [r3]
 1889 0068 002B     		cmp	r3, #0
 1890 006a 11D0     		beq	.L123
 950:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1891              		.loc 1 950 0
 1892 006c 0023     		movs	r3, #0
 1893 006e 3B61     		str	r3, [r7, #16]
 1894 0070 08E0     		b	.L124
 1895              	.L125:
 951:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****           thePool->markers[i] = 0;
 1896              		.loc 1 951 0 discriminator 3
 1897 0072 7B69     		ldr	r3, [r7, #20]
 1898 0074 5A68     		ldr	r2, [r3, #4]
 1899 0076 3B69     		ldr	r3, [r7, #16]
 1900 0078 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc5c7TuJ.s 			page 52


 1901 007a 0022     		movs	r2, #0
 1902 007c 1A70     		strb	r2, [r3]
 950:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1903              		.loc 1 950 0 discriminator 3
 1904 007e 3B69     		ldr	r3, [r7, #16]
 1905 0080 0133     		adds	r3, r3, #1
 1906 0082 3B61     		str	r3, [r7, #16]
 1907              	.L124:
 950:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1908              		.loc 1 950 0 is_stmt 0 discriminator 1
 1909 0084 7B68     		ldr	r3, [r7, #4]
 1910 0086 1A68     		ldr	r2, [r3]
 1911 0088 3B69     		ldr	r3, [r7, #16]
 1912 008a 9A42     		cmp	r2, r3
 1913 008c F1D8     		bhi	.L125
 1914 008e 0FE0     		b	.L121
 1915              	.L123:
 952:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         }
 953:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       }
 954:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else {
 955:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         vPortFree(thePool->markers);
 1916              		.loc 1 955 0 is_stmt 1
 1917 0090 7B69     		ldr	r3, [r7, #20]
 1918 0092 5B68     		ldr	r3, [r3, #4]
 1919 0094 1846     		mov	r0, r3
 1920 0096 FFF7FEFF 		bl	vPortFree
 956:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         vPortFree(thePool);
 1921              		.loc 1 956 0
 1922 009a 7869     		ldr	r0, [r7, #20]
 1923 009c FFF7FEFF 		bl	vPortFree
 957:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         thePool = NULL;
 1924              		.loc 1 957 0
 1925 00a0 0023     		movs	r3, #0
 1926 00a2 7B61     		str	r3, [r7, #20]
 1927 00a4 04E0     		b	.L121
 1928              	.L122:
 958:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       }
 959:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 960:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 961:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       vPortFree(thePool);
 1929              		.loc 1 961 0
 1930 00a6 7869     		ldr	r0, [r7, #20]
 1931 00a8 FFF7FEFF 		bl	vPortFree
 962:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       thePool = NULL;
 1932              		.loc 1 962 0
 1933 00ac 0023     		movs	r3, #0
 1934 00ae 7B61     		str	r3, [r7, #20]
 1935              	.L121:
 963:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 964:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 965:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 966:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return thePool;
 1936              		.loc 1 966 0
 1937 00b0 7B69     		ldr	r3, [r7, #20]
 967:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 968:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 969:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
ARM GAS  /tmp/cc5c7TuJ.s 			page 53


 970:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 971:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1938              		.loc 1 971 0
 1939 00b2 1846     		mov	r0, r3
 1940 00b4 1837     		adds	r7, r7, #24
 1941              	.LCFI132:
 1942              		.cfi_def_cfa_offset 8
 1943 00b6 BD46     		mov	sp, r7
 1944              	.LCFI133:
 1945              		.cfi_def_cfa_register 13
 1946              		@ sp needed
 1947 00b8 80BD     		pop	{r7, pc}
 1948              		.cfi_endproc
 1949              	.LFE57:
 1951              		.section	.text.osPoolAlloc,"ax",%progbits
 1952              		.align	1
 1953              		.global	osPoolAlloc
 1954              		.syntax unified
 1955              		.thumb
 1956              		.thumb_func
 1957              		.fpu fpv4-sp-d16
 1959              	osPoolAlloc:
 1960              	.LFB58:
 972:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 973:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 974:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a memory pool
 975:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
 976:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  address of the allocated memory block or NULL in case of no memory available.
 977:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolAlloc shall be consistent in every CMSIS-RTOS.
 978:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 979:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osPoolAlloc (osPoolId pool_id)
 980:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1961              		.loc 1 980 0
 1962              		.cfi_startproc
 1963              		@ args = 0, pretend = 0, frame = 40
 1964              		@ frame_needed = 1, uses_anonymous_args = 0
 1965 0000 80B5     		push	{r7, lr}
 1966              	.LCFI134:
 1967              		.cfi_def_cfa_offset 8
 1968              		.cfi_offset 7, -8
 1969              		.cfi_offset 14, -4
 1970 0002 8AB0     		sub	sp, sp, #40
 1971              	.LCFI135:
 1972              		.cfi_def_cfa_offset 48
 1973 0004 00AF     		add	r7, sp, #0
 1974              	.LCFI136:
 1975              		.cfi_def_cfa_register 7
 1976 0006 7860     		str	r0, [r7, #4]
 981:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   int dummy = 0;
 1977              		.loc 1 981 0
 1978 0008 0023     		movs	r3, #0
 1979 000a 7B62     		str	r3, [r7, #36]
 982:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = NULL;
 1980              		.loc 1 982 0
 1981 000c 0023     		movs	r3, #0
 1982 000e 3B62     		str	r3, [r7, #32]
 983:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
ARM GAS  /tmp/cc5c7TuJ.s 			page 54


 984:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t index;
 985:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 986:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1983              		.loc 1 986 0
 1984 0010 FFF7FEFF 		bl	inHandlerMode
 1985 0014 0346     		mov	r3, r0
 1986 0016 002B     		cmp	r3, #0
 1987 0018 0ED0     		beq	.L129
 1988              	.LBB10:
 1989              	.LBB11:
 1990              		.file 3 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
   1:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*
   2:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FreeRTOS V9.0.0 - Copyright (C) 2016 Real Time Engineers Ltd.
   3:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     All rights reserved
   4:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
   5:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     VISIT http://www.FreeRTOS.org TO ENSURE YOU ARE USING THE LATEST VERSION.
   6:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
   7:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     This file is part of the FreeRTOS distribution.
   8:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
   9:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FreeRTOS is free software; you can redistribute it and/or modify it under
  10:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     the terms of the GNU General Public License (version 2) as published by the
  11:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     Free Software Foundation >>>> AND MODIFIED BY <<<< the FreeRTOS exception.
  12:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  13:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     ***************************************************************************
  14:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     >>!   NOTE: The modification to the GPL is included to allow you to     !<<
  15:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     >>!   distribute a combined work that includes FreeRTOS without being   !<<
  16:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     >>!   obliged to provide the source code for proprietary components     !<<
  17:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     >>!   outside of the FreeRTOS kernel.                                   !<<
  18:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     ***************************************************************************
  19:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  20:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FreeRTOS is distributed in the hope that it will be useful, but WITHOUT ANY
  21:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
  22:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FOR A PARTICULAR PURPOSE.  Full license text is available on the following
  23:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     link: http://www.freertos.org/a00114.html
  24:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  25:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     ***************************************************************************
  26:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *                                                                       *
  27:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    FreeRTOS provides completely free yet professionally developed,    *
  28:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    robust, strictly quality controlled, supported, and cross          *
  29:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    platform software that is more than just the market leader, it     *
  30:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    is the industry's de facto standard.                               *
  31:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *                                                                       *
  32:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    Help yourself get started quickly while simultaneously helping     *
  33:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    to support the FreeRTOS project by purchasing a FreeRTOS           *
  34:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    tutorial book, reference manual, or both:                          *
  35:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    http://www.FreeRTOS.org/Documentation                              *
  36:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *                                                                       *
  37:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     ***************************************************************************
  38:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  39:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/FAQHelp.html - Having a problem?  Start by reading
  40:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     the FAQ page "My application does not run, what could be wrong?".  Have you
  41:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     defined configASSERT()?
  42:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  43:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/support - In return for receiving this top quality
  44:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     embedded software for free we request you assist our global community by
  45:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     participating in the support forum.
  46:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
ARM GAS  /tmp/cc5c7TuJ.s 			page 55


  47:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/training - Investing in training allows your team to
  48:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     be as productive as possible as early as possible.  Now you can receive
  49:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FreeRTOS training directly from Richard Barry, CEO of Real Time Engineers
  50:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     Ltd, and the world's leading authority on the world's leading RTOS.
  51:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  52:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/plus - A selection of FreeRTOS ecosystem products,
  53:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     including FreeRTOS+Trace - an indispensable productivity tool, a DOS
  54:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     compatible FAT file system, and our tiny thread aware UDP/IP stack.
  55:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  56:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/labs - Where new FreeRTOS products go to incubate.
  57:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     Come and try FreeRTOS+TCP, our new open source TCP/IP stack for FreeRTOS.
  58:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  59:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.OpenRTOS.com - Real Time Engineers ltd. license FreeRTOS to High
  60:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     Integrity Systems ltd. to sell under the OpenRTOS brand.  Low cost OpenRTOS
  61:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     licenses offer ticketed support, indemnification and commercial middleware.
  62:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  63:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.SafeRTOS.com - High Integrity Systems also provide a safety
  64:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     engineered and independently SIL3 certified version for use in safety and
  65:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     mission critical applications that require provable dependability.
  66:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  67:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     1 tab == 4 spaces!
  68:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** */
  69:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  70:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  71:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef PORTMACRO_H
  72:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define PORTMACRO_H
  73:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  74:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifdef __cplusplus
  75:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern "C" {
  76:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
  77:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  78:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------
  79:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * Port specific definitions.
  80:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  81:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * The settings in this file configure FreeRTOS correctly for the
  82:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * given hardware and compiler.
  83:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  84:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * These settings should not be altered.
  85:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *-----------------------------------------------------------
  86:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  */
  87:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  88:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Type definitions. */
  89:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portCHAR		char
  90:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portFLOAT		float
  91:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portDOUBLE		double
  92:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portLONG		long
  93:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSHORT		short
  94:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSTACK_TYPE	uint32_t
  95:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portBASE_TYPE	long
  96:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  97:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef portSTACK_TYPE StackType_t;
  98:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef long BaseType_t;
  99:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef unsigned long UBaseType_t;
 100:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 101:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #if( configUSE_16_BIT_TICKS == 1 )
 102:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	typedef uint16_t TickType_t;
 103:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffff
ARM GAS  /tmp/cc5c7TuJ.s 			page 56


 104:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #else
 105:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	typedef uint32_t TickType_t;
 106:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffffffffUL
 107:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 108:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* 32-bit tick type on a 32-bit architecture, so reads of the tick count do
 109:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	not need to be guarded with a critical section. */
 110:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portTICK_TYPE_IS_ATOMIC 1
 111:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 112:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 113:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 114:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Architecture specifics. */
 115:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSTACK_GROWTH			( -1 )
 116:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTICK_PERIOD_MS			( ( TickType_t ) 1000 / configTICK_RATE_HZ )
 117:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portBYTE_ALIGNMENT			8
 118:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 119:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 120:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Scheduler utilities. */
 121:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portYIELD() 															\
 122:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {																				\
 123:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Set a PendSV to request a context switch. */								\
 124:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	portNVIC_INT_CTRL_REG = portNVIC_PENDSVSET_BIT;								\
 125:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 																				\
 126:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Barriers are normally not required but do ensure the code is completely	\
 127:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	within the specified behaviour for the architecture. */						\
 128:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "dsb" );													\
 129:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "isb" );													\
 130:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 131:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 132:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNVIC_INT_CTRL_REG		( * ( ( volatile uint32_t * ) 0xe000ed04 ) )
 133:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNVIC_PENDSVSET_BIT		( 1UL << 28UL )
 134:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portEND_SWITCHING_ISR( xSwitchRequired ) if( xSwitchRequired != pdFALSE ) portYIELD()
 135:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portYIELD_FROM_ISR( x ) portEND_SWITCHING_ISR( x )
 136:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 137:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 138:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Critical section management. */
 139:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern void vPortEnterCritical( void );
 140:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern void vPortExitCritical( void );
 141:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSET_INTERRUPT_MASK_FROM_ISR()		ulPortRaiseBASEPRI()
 142:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portCLEAR_INTERRUPT_MASK_FROM_ISR(x)	vPortSetBASEPRI(x)
 143:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portDISABLE_INTERRUPTS()				vPortRaiseBASEPRI()
 144:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portENABLE_INTERRUPTS()					vPortSetBASEPRI(0)
 145:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portENTER_CRITICAL()					vPortEnterCritical()
 146:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portEXIT_CRITICAL()						vPortExitCritical()
 147:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 148:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 149:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 150:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Task function macros as described on the FreeRTOS.org WEB site.  These are
 151:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** not necessary for to use this port.  They are defined so the common demo files
 152:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** (which build with all the ports) will build. */
 153:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTASK_FUNCTION_PROTO( vFunction, pvParameters ) void vFunction( void *pvParameters )
 154:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTASK_FUNCTION( vFunction, pvParameters ) void vFunction( void *pvParameters )
 155:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 156:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 157:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Tickless idle/low power functionality. */
 158:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef portSUPPRESS_TICKS_AND_SLEEP
 159:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	extern void vPortSuppressTicksAndSleep( TickType_t xExpectedIdleTime );
 160:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime ) vPortSuppressTicksAndSleep( xExpectedIdl
ARM GAS  /tmp/cc5c7TuJ.s 			page 57


 161:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 162:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 163:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 164:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Architecture specific optimisations. */
 165:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef configUSE_PORT_OPTIMISED_TASK_SELECTION
 166:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define configUSE_PORT_OPTIMISED_TASK_SELECTION 1
 167:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 168:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 169:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #if configUSE_PORT_OPTIMISED_TASK_SELECTION == 1
 170:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 171:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Generic helper function. */
 172:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__attribute__( ( always_inline ) ) static inline uint8_t ucPortCountLeadingZeros( uint32_t ulBitma
 173:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 174:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	uint8_t ucReturn;
 175:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 176:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		__asm volatile ( "clz %0, %1" : "=r" ( ucReturn ) : "r" ( ulBitmap ) );
 177:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		return ucReturn;
 178:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 179:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 180:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Check the configuration. */
 181:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#if( configMAX_PRIORITIES > 32 )
 182:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		#error configUSE_PORT_OPTIMISED_TASK_SELECTION can only be set to 1 when configMAX_PRIORITIES is 
 183:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#endif
 184:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 185:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Store/clear the ready priorities in a bit map. */
 186:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portRECORD_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) |= ( 1UL 
 187:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portRESET_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) &= ~( 1UL 
 188:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 189:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/*-----------------------------------------------------------*/
 190:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 191:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portGET_HIGHEST_PRIORITY( uxTopPriority, uxReadyPriorities ) uxTopPriority = ( 31UL - ( ui
 192:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 193:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 194:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 196:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 197:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifdef configASSERT
 198:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	void vPortValidateInterruptPriority( void );
 199:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portASSERT_IF_INTERRUPT_PRIORITY_INVALID() 	vPortValidateInterruptPriority()
 200:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 201:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 202:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* portNOP() is not required by this port. */
 203:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNOP()
 204:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 205:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portINLINE	__inline
 206:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 207:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef portFORCE_INLINE
 208:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portFORCE_INLINE inline __attribute__(( always_inline))
 209:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 210:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 211:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static BaseType_t xPortIsInsideInterrupt( void )
 212:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 213:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulCurrentInterrupt;
 214:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** BaseType_t xReturn;
 215:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 216:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Obtain the number of the currently executing interrupt. */
 217:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "mrs %0, ipsr" : "=r"( ulCurrentInterrupt ) );
ARM GAS  /tmp/cc5c7TuJ.s 			page 58


 218:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 219:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	if( ulCurrentInterrupt == 0 )
 220:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 221:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		xReturn = pdFALSE;
 222:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 223:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	else
 224:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 225:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		xReturn = pdTRUE;
 226:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 227:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 228:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	return xReturn;
 229:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 230:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 231:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 232:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 233:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static void vPortRaiseBASEPRI( void )
 234:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 235:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulNewBASEPRI;
 236:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 237:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 238:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 239:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mov %0, %1												\n"	\
 240:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	msr basepri, %0											\n" \
 241:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	isb														\n" \
 242:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	dsb														\n" \
 243:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		:"=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY )
 244:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	);
 245:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 246:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 247:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 248:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 249:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static uint32_t ulPortRaiseBASEPRI( void )
 250:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 251:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulOriginalBASEPRI, ulNewBASEPRI;
 252:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 253:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 1991              		.loc 3 253 0
 1992              		.syntax unified
 1993              	@ 253 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1994 001a EFF31182 			mrs r2, basepri											
 1995 001e 4FF05003 		mov r3, #80												
 1996 0022 83F31188 		msr basepri, r3											
 1997 0026 BFF36F8F 		isb														
 1998 002a BFF34F8F 		dsb														
 1999              	
 2000              	@ 0 "" 2
 2001              		.thumb
 2002              		.syntax unified
 2003 002e 7A61     		str	r2, [r7, #20]
 2004 0030 3B61     		str	r3, [r7, #16]
 254:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 255:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mrs %0, basepri											\n" \
 256:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mov %1, %2												\n"	\
 257:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	msr basepri, %1											\n" \
 258:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	isb														\n" \
 259:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	dsb														\n" \
 260:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		:"=r" (ulOriginalBASEPRI), "=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY )
ARM GAS  /tmp/cc5c7TuJ.s 			page 59


 261:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	);
 262:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 263:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* This return will not be reached but is necessary to prevent compiler
 264:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	warnings. */
 265:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	return ulOriginalBASEPRI;
 2005              		.loc 3 265 0
 2006 0032 7B69     		ldr	r3, [r7, #20]
 2007              	.LBE11:
 2008              	.LBE10:
 987:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     dummy = portSET_INTERRUPT_MASK_FROM_ISR();
 2009              		.loc 1 987 0
 2010 0034 7B62     		str	r3, [r7, #36]
 2011 0036 01E0     		b	.L131
 2012              	.L129:
 988:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 989:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 990:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortEnterCritical();
 2013              		.loc 1 990 0
 2014 0038 FFF7FEFF 		bl	vPortEnterCritical
 2015              	.L131:
 991:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 992:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 993:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   for (i = 0; i < pool_id->pool_sz; i++) {
 2016              		.loc 1 993 0
 2017 003c 0023     		movs	r3, #0
 2018 003e FB61     		str	r3, [r7, #28]
 2019 0040 29E0     		b	.L132
 2020              	.L136:
 994:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = pool_id->currentIndex + i;
 2021              		.loc 1 994 0
 2022 0042 7B68     		ldr	r3, [r7, #4]
 2023 0044 1A69     		ldr	r2, [r3, #16]
 2024 0046 FB69     		ldr	r3, [r7, #28]
 2025 0048 1344     		add	r3, r3, r2
 2026 004a BB61     		str	r3, [r7, #24]
 995:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (index >= pool_id->pool_sz) {
 2027              		.loc 1 995 0
 2028 004c 7B68     		ldr	r3, [r7, #4]
 2029 004e 9A68     		ldr	r2, [r3, #8]
 2030 0050 BB69     		ldr	r3, [r7, #24]
 2031 0052 9A42     		cmp	r2, r3
 2032 0054 01D8     		bhi	.L133
 996:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       index = 0;
 2033              		.loc 1 996 0
 2034 0056 0023     		movs	r3, #0
 2035 0058 BB61     		str	r3, [r7, #24]
 2036              	.L133:
 997:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 998:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 999:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (pool_id->markers[index] == 0) {
 2037              		.loc 1 999 0
 2038 005a 7B68     		ldr	r3, [r7, #4]
 2039 005c 5A68     		ldr	r2, [r3, #4]
 2040 005e BB69     		ldr	r3, [r7, #24]
 2041 0060 1344     		add	r3, r3, r2
 2042 0062 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2043 0064 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5c7TuJ.s 			page 60


 2044 0066 13D1     		bne	.L134
1000:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       pool_id->markers[index] = 1;
 2045              		.loc 1 1000 0
 2046 0068 7B68     		ldr	r3, [r7, #4]
 2047 006a 5A68     		ldr	r2, [r3, #4]
 2048 006c BB69     		ldr	r3, [r7, #24]
 2049 006e 1344     		add	r3, r3, r2
 2050 0070 0122     		movs	r2, #1
 2051 0072 1A70     		strb	r2, [r3]
1001:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       p = (void *)((uint32_t)(pool_id->pool) + (index * pool_id->item_sz));
 2052              		.loc 1 1001 0
 2053 0074 7B68     		ldr	r3, [r7, #4]
 2054 0076 1B68     		ldr	r3, [r3]
 2055 0078 1946     		mov	r1, r3
 2056 007a 7B68     		ldr	r3, [r7, #4]
 2057 007c DB68     		ldr	r3, [r3, #12]
 2058 007e BA69     		ldr	r2, [r7, #24]
 2059 0080 02FB03F3 		mul	r3, r2, r3
 2060 0084 0B44     		add	r3, r3, r1
 2061 0086 3B62     		str	r3, [r7, #32]
1002:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       pool_id->currentIndex = index;
 2062              		.loc 1 1002 0
 2063 0088 7B68     		ldr	r3, [r7, #4]
 2064 008a BA69     		ldr	r2, [r7, #24]
 2065 008c 1A61     		str	r2, [r3, #16]
1003:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       break;
 2066              		.loc 1 1003 0
 2067 008e 07E0     		b	.L135
 2068              	.L134:
 993:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = pool_id->currentIndex + i;
 2069              		.loc 1 993 0 discriminator 2
 2070 0090 FB69     		ldr	r3, [r7, #28]
 2071 0092 0133     		adds	r3, r3, #1
 2072 0094 FB61     		str	r3, [r7, #28]
 2073              	.L132:
 993:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = pool_id->currentIndex + i;
 2074              		.loc 1 993 0 is_stmt 0 discriminator 1
 2075 0096 7B68     		ldr	r3, [r7, #4]
 2076 0098 9A68     		ldr	r2, [r3, #8]
 2077 009a FB69     		ldr	r3, [r7, #28]
 2078 009c 9A42     		cmp	r2, r3
 2079 009e D0D8     		bhi	.L136
 2080              	.L135:
1004:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1005:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1006:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1007:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2081              		.loc 1 1007 0 is_stmt 1
 2082 00a0 FFF7FEFF 		bl	inHandlerMode
 2083 00a4 0346     		mov	r3, r0
 2084 00a6 002B     		cmp	r3, #0
 2085 00a8 05D0     		beq	.L137
1008:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portCLEAR_INTERRUPT_MASK_FROM_ISR(dummy);
 2086              		.loc 1 1008 0
 2087 00aa 7B6A     		ldr	r3, [r7, #36]
 2088 00ac FB60     		str	r3, [r7, #12]
 2089              	.LBB12:
ARM GAS  /tmp/cc5c7TuJ.s 			page 61


 2090              	.LBB13:
 266:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 267:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 268:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 269:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static void vPortSetBASEPRI( uint32_t ulNewMaskValue )
 270:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 271:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 2091              		.loc 3 271 0
 2092 00ae FB68     		ldr	r3, [r7, #12]
 2093              		.syntax unified
 2094              	@ 271 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2095 00b0 83F31188 			msr basepri, r3	
 2096              	@ 0 "" 2
 2097              		.thumb
 2098              		.syntax unified
 2099              	.LBE13:
 2100              	.LBE12:
 2101 00b4 01E0     		b	.L138
 2102              	.L137:
1009:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1010:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1011:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortExitCritical();
 2103              		.loc 1 1011 0
 2104 00b6 FFF7FEFF 		bl	vPortExitCritical
 2105              	.L138:
1012:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1013:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1014:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2106              		.loc 1 1014 0
 2107 00ba 3B6A     		ldr	r3, [r7, #32]
1015:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2108              		.loc 1 1015 0
 2109 00bc 1846     		mov	r0, r3
 2110 00be 2837     		adds	r7, r7, #40
 2111              	.LCFI137:
 2112              		.cfi_def_cfa_offset 8
 2113 00c0 BD46     		mov	sp, r7
 2114              	.LCFI138:
 2115              		.cfi_def_cfa_register 13
 2116              		@ sp needed
 2117 00c2 80BD     		pop	{r7, pc}
 2118              		.cfi_endproc
 2119              	.LFE58:
 2121              		.section	.text.osPoolCAlloc,"ax",%progbits
 2122              		.align	1
 2123              		.global	osPoolCAlloc
 2124              		.syntax unified
 2125              		.thumb
 2126              		.thumb_func
 2127              		.fpu fpv4-sp-d16
 2129              	osPoolCAlloc:
 2130              	.LFB59:
1016:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1017:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1018:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a memory pool and set memory block to zero
1019:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
1020:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  address of the allocated memory block or NULL in case of no memory available.
ARM GAS  /tmp/cc5c7TuJ.s 			page 62


1021:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolCAlloc shall be consistent in every CMSIS-RTOS.
1022:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1023:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osPoolCAlloc (osPoolId pool_id)
1024:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2131              		.loc 1 1024 0
 2132              		.cfi_startproc
 2133              		@ args = 0, pretend = 0, frame = 16
 2134              		@ frame_needed = 1, uses_anonymous_args = 0
 2135 0000 80B5     		push	{r7, lr}
 2136              	.LCFI139:
 2137              		.cfi_def_cfa_offset 8
 2138              		.cfi_offset 7, -8
 2139              		.cfi_offset 14, -4
 2140 0002 84B0     		sub	sp, sp, #16
 2141              	.LCFI140:
 2142              		.cfi_def_cfa_offset 24
 2143 0004 00AF     		add	r7, sp, #0
 2144              	.LCFI141:
 2145              		.cfi_def_cfa_register 7
 2146 0006 7860     		str	r0, [r7, #4]
1025:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = osPoolAlloc(pool_id);
 2147              		.loc 1 1025 0
 2148 0008 7868     		ldr	r0, [r7, #4]
 2149 000a FFF7FEFF 		bl	osPoolAlloc
 2150 000e F860     		str	r0, [r7, #12]
1026:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1027:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (p != NULL)
 2151              		.loc 1 1027 0
 2152 0010 FB68     		ldr	r3, [r7, #12]
 2153 0012 002B     		cmp	r3, #0
 2154 0014 04D0     		beq	.L141
1028:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1029:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     memset(p, 0, sizeof(pool_id->pool_sz));
 2155              		.loc 1 1029 0
 2156 0016 0422     		movs	r2, #4
 2157 0018 0021     		movs	r1, #0
 2158 001a F868     		ldr	r0, [r7, #12]
 2159 001c FFF7FEFF 		bl	memset
 2160              	.L141:
1030:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1031:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1032:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2161              		.loc 1 1032 0
 2162 0020 FB68     		ldr	r3, [r7, #12]
1033:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2163              		.loc 1 1033 0
 2164 0022 1846     		mov	r0, r3
 2165 0024 1037     		adds	r7, r7, #16
 2166              	.LCFI142:
 2167              		.cfi_def_cfa_offset 8
 2168 0026 BD46     		mov	sp, r7
 2169              	.LCFI143:
 2170              		.cfi_def_cfa_register 13
 2171              		@ sp needed
 2172 0028 80BD     		pop	{r7, pc}
 2173              		.cfi_endproc
 2174              	.LFE59:
ARM GAS  /tmp/cc5c7TuJ.s 			page 63


 2176              		.section	.text.osPoolFree,"ax",%progbits
 2177              		.align	1
 2178              		.global	osPoolFree
 2179              		.syntax unified
 2180              		.thumb
 2181              		.thumb_func
 2182              		.fpu fpv4-sp-d16
 2184              	osPoolFree:
 2185              	.LFB60:
1034:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1035:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1036:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Return an allocated memory block back to a specific memory pool
1037:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
1038:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  block         address of the allocated memory block that is returned to the memory pool.
1039:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1040:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolFree shall be consistent in every CMSIS-RTOS.
1041:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1042:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osPoolFree (osPoolId pool_id, void *block)
1043:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2186              		.loc 1 1043 0
 2187              		.cfi_startproc
 2188              		@ args = 0, pretend = 0, frame = 16
 2189              		@ frame_needed = 1, uses_anonymous_args = 0
 2190              		@ link register save eliminated.
 2191 0000 80B4     		push	{r7}
 2192              	.LCFI144:
 2193              		.cfi_def_cfa_offset 4
 2194              		.cfi_offset 7, -4
 2195 0002 85B0     		sub	sp, sp, #20
 2196              	.LCFI145:
 2197              		.cfi_def_cfa_offset 24
 2198 0004 00AF     		add	r7, sp, #0
 2199              	.LCFI146:
 2200              		.cfi_def_cfa_register 7
 2201 0006 7860     		str	r0, [r7, #4]
 2202 0008 3960     		str	r1, [r7]
1044:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t index;
1045:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1046:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (pool_id == NULL) {
 2203              		.loc 1 1046 0
 2204 000a 7B68     		ldr	r3, [r7, #4]
 2205 000c 002B     		cmp	r3, #0
 2206 000e 01D1     		bne	.L144
1047:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2207              		.loc 1 1047 0
 2208 0010 8023     		movs	r3, #128
 2209 0012 30E0     		b	.L145
 2210              	.L144:
1048:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1049:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1050:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (block == NULL) {
 2211              		.loc 1 1050 0
 2212 0014 3B68     		ldr	r3, [r7]
 2213 0016 002B     		cmp	r3, #0
 2214 0018 01D1     		bne	.L146
1051:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2215              		.loc 1 1051 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 64


 2216 001a 8023     		movs	r3, #128
 2217 001c 2BE0     		b	.L145
 2218              	.L146:
1052:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1053:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1054:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (block < pool_id->pool) {
 2219              		.loc 1 1054 0
 2220 001e 7B68     		ldr	r3, [r7, #4]
 2221 0020 1A68     		ldr	r2, [r3]
 2222 0022 3B68     		ldr	r3, [r7]
 2223 0024 9A42     		cmp	r2, r3
 2224 0026 01D9     		bls	.L147
1055:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2225              		.loc 1 1055 0
 2226 0028 8023     		movs	r3, #128
 2227 002a 24E0     		b	.L145
 2228              	.L147:
1056:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1057:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1058:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   index = (uint32_t)block - (uint32_t)(pool_id->pool);
 2229              		.loc 1 1058 0
 2230 002c 3B68     		ldr	r3, [r7]
 2231 002e 7A68     		ldr	r2, [r7, #4]
 2232 0030 1268     		ldr	r2, [r2]
 2233 0032 9B1A     		subs	r3, r3, r2
 2234 0034 FB60     		str	r3, [r7, #12]
1059:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (index % pool_id->item_sz) {
 2235              		.loc 1 1059 0
 2236 0036 7B68     		ldr	r3, [r7, #4]
 2237 0038 DA68     		ldr	r2, [r3, #12]
 2238 003a FB68     		ldr	r3, [r7, #12]
 2239 003c B3FBF2F1 		udiv	r1, r3, r2
 2240 0040 02FB01F2 		mul	r2, r2, r1
 2241 0044 9B1A     		subs	r3, r3, r2
 2242 0046 002B     		cmp	r3, #0
 2243 0048 01D0     		beq	.L148
1060:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2244              		.loc 1 1060 0
 2245 004a 8023     		movs	r3, #128
 2246 004c 13E0     		b	.L145
 2247              	.L148:
1061:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1062:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   index = index / pool_id->item_sz;
 2248              		.loc 1 1062 0
 2249 004e 7B68     		ldr	r3, [r7, #4]
 2250 0050 DB68     		ldr	r3, [r3, #12]
 2251 0052 FA68     		ldr	r2, [r7, #12]
 2252 0054 B2FBF3F3 		udiv	r3, r2, r3
 2253 0058 FB60     		str	r3, [r7, #12]
1063:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (index >= pool_id->pool_sz) {
 2254              		.loc 1 1063 0
 2255 005a 7B68     		ldr	r3, [r7, #4]
 2256 005c 9A68     		ldr	r2, [r3, #8]
 2257 005e FB68     		ldr	r3, [r7, #12]
 2258 0060 9A42     		cmp	r2, r3
 2259 0062 01D8     		bhi	.L149
1064:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
ARM GAS  /tmp/cc5c7TuJ.s 			page 65


 2260              		.loc 1 1064 0
 2261 0064 8023     		movs	r3, #128
 2262 0066 06E0     		b	.L145
 2263              	.L149:
1065:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1066:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1067:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   pool_id->markers[index] = 0;
 2264              		.loc 1 1067 0
 2265 0068 7B68     		ldr	r3, [r7, #4]
 2266 006a 5A68     		ldr	r2, [r3, #4]
 2267 006c FB68     		ldr	r3, [r7, #12]
 2268 006e 1344     		add	r3, r3, r2
 2269 0070 0022     		movs	r2, #0
 2270 0072 1A70     		strb	r2, [r3]
1068:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1069:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 2271              		.loc 1 1069 0
 2272 0074 0023     		movs	r3, #0
 2273              	.L145:
1070:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2274              		.loc 1 1070 0
 2275 0076 1846     		mov	r0, r3
 2276 0078 1437     		adds	r7, r7, #20
 2277              	.LCFI147:
 2278              		.cfi_def_cfa_offset 4
 2279 007a BD46     		mov	sp, r7
 2280              	.LCFI148:
 2281              		.cfi_def_cfa_register 13
 2282              		@ sp needed
 2283 007c 5DF8047B 		ldr	r7, [sp], #4
 2284              	.LCFI149:
 2285              		.cfi_restore 7
 2286              		.cfi_def_cfa_offset 0
 2287 0080 7047     		bx	lr
 2288              		.cfi_endproc
 2289              	.LFE60:
 2291              		.section	.text.osMessageCreate,"ax",%progbits
 2292              		.align	1
 2293              		.global	osMessageCreate
 2294              		.syntax unified
 2295              		.thumb
 2296              		.thumb_func
 2297              		.fpu fpv4-sp-d16
 2299              	osMessageCreate:
 2300              	.LFB61:
1071:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1072:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1073:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif   /* Use Memory Pool Management */
1074:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1075:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*******************   Message Queue Management Functions  *********************/
1076:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1077:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_MessageQ)  &&  (osFeature_MessageQ != 0)) /* Use Message Queues */
1078:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1079:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1080:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a Message Queue
1081:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param queue_def     queue definition referenced with \ref osMessageQ.
1082:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id     thread ID (obtained by \ref osThreadCreate or \ref osThreadGetId) or NULL.
ARM GAS  /tmp/cc5c7TuJ.s 			page 66


1083:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  message queue ID for reference by other functions or NULL in case of error.
1084:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessageCreate shall be consistent in every CMSIS-RTOS.
1085:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1086:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMessageQId osMessageCreate (const osMessageQDef_t *queue_def, osThreadId thread_id)
1087:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2301              		.loc 1 1087 0
 2302              		.cfi_startproc
 2303              		@ args = 0, pretend = 0, frame = 8
 2304              		@ frame_needed = 1, uses_anonymous_args = 0
 2305 0000 80B5     		push	{r7, lr}
 2306              	.LCFI150:
 2307              		.cfi_def_cfa_offset 8
 2308              		.cfi_offset 7, -8
 2309              		.cfi_offset 14, -4
 2310 0002 82B0     		sub	sp, sp, #8
 2311              	.LCFI151:
 2312              		.cfi_def_cfa_offset 16
 2313 0004 00AF     		add	r7, sp, #0
 2314              	.LCFI152:
 2315              		.cfi_def_cfa_register 7
 2316 0006 7860     		str	r0, [r7, #4]
 2317 0008 3960     		str	r1, [r7]
1088:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1089:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1090:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
1091:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1092:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((queue_def->buffer != NULL) && (queue_def->controlblock != NULL)) {
1093:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xQueueCreateStatic(queue_def->queue_sz, queue_def->item_sz, queue_def->buffer, queue_def
1094:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1095:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1096:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xQueueCreate(queue_def->queue_sz, queue_def->item_sz);
1097:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1098:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
1099:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xQueueCreateStatic(queue_def->queue_sz, queue_def->item_sz, queue_def->buffer, queue_def->
1100:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  
1101:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xQueueCreate(queue_def->queue_sz, queue_def->item_sz);
 2318              		.loc 1 1101 0
 2319 000a 7B68     		ldr	r3, [r7, #4]
 2320 000c 1868     		ldr	r0, [r3]
 2321 000e 7B68     		ldr	r3, [r7, #4]
 2322 0010 5B68     		ldr	r3, [r3, #4]
 2323 0012 0022     		movs	r2, #0
 2324 0014 1946     		mov	r1, r3
 2325 0016 FFF7FEFF 		bl	xQueueGenericCreate
 2326 001a 0346     		mov	r3, r0
1102:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1103:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2327              		.loc 1 1103 0
 2328 001c 1846     		mov	r0, r3
 2329 001e 0837     		adds	r7, r7, #8
 2330              	.LCFI153:
 2331              		.cfi_def_cfa_offset 8
 2332 0020 BD46     		mov	sp, r7
 2333              	.LCFI154:
 2334              		.cfi_def_cfa_register 13
 2335              		@ sp needed
 2336 0022 80BD     		pop	{r7, pc}
ARM GAS  /tmp/cc5c7TuJ.s 			page 67


 2337              		.cfi_endproc
 2338              	.LFE61:
 2340              		.section	.text.osMessagePut,"ax",%progbits
 2341              		.align	1
 2342              		.global	osMessagePut
 2343              		.syntax unified
 2344              		.thumb
 2345              		.thumb_func
 2346              		.fpu fpv4-sp-d16
 2348              	osMessagePut:
 2349              	.LFB62:
1104:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1105:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1106:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Put a Message to a Queue.
1107:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1108:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  info      message information.
1109:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1110:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1111:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessagePut shall be consistent in every CMSIS-RTOS.
1112:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1113:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMessagePut (osMessageQId queue_id, uint32_t info, uint32_t millisec)
1114:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2350              		.loc 1 1114 0
 2351              		.cfi_startproc
 2352              		@ args = 0, pretend = 0, frame = 24
 2353              		@ frame_needed = 1, uses_anonymous_args = 0
 2354 0000 80B5     		push	{r7, lr}
 2355              	.LCFI155:
 2356              		.cfi_def_cfa_offset 8
 2357              		.cfi_offset 7, -8
 2358              		.cfi_offset 14, -4
 2359 0002 86B0     		sub	sp, sp, #24
 2360              	.LCFI156:
 2361              		.cfi_def_cfa_offset 32
 2362 0004 00AF     		add	r7, sp, #0
 2363              	.LCFI157:
 2364              		.cfi_def_cfa_register 7
 2365 0006 F860     		str	r0, [r7, #12]
 2366 0008 B960     		str	r1, [r7, #8]
 2367 000a 7A60     		str	r2, [r7, #4]
1115:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 2368              		.loc 1 1115 0
 2369 000c 0023     		movs	r3, #0
 2370 000e 3B61     		str	r3, [r7, #16]
1116:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1117:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1118:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = millisec / portTICK_PERIOD_MS;
 2371              		.loc 1 1118 0
 2372 0010 7B68     		ldr	r3, [r7, #4]
 2373 0012 7B61     		str	r3, [r7, #20]
1119:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (ticks == 0) {
 2374              		.loc 1 1119 0
 2375 0014 7B69     		ldr	r3, [r7, #20]
 2376 0016 002B     		cmp	r3, #0
 2377 0018 01D1     		bne	.L153
1120:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = 1;
 2378              		.loc 1 1120 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 68


 2379 001a 0123     		movs	r3, #1
 2380 001c 7B61     		str	r3, [r7, #20]
 2381              	.L153:
1121:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1122:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1123:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2382              		.loc 1 1123 0
 2383 001e FFF7FEFF 		bl	inHandlerMode
 2384 0022 0346     		mov	r3, r0
 2385 0024 002B     		cmp	r3, #0
 2386 0026 18D0     		beq	.L154
1124:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSendFromISR(queue_id, &info, &taskWoken) != pdTRUE) {
 2387              		.loc 1 1124 0
 2388 0028 07F11002 		add	r2, r7, #16
 2389 002c 07F10801 		add	r1, r7, #8
 2390 0030 0023     		movs	r3, #0
 2391 0032 F868     		ldr	r0, [r7, #12]
 2392 0034 FFF7FEFF 		bl	xQueueGenericSendFromISR
 2393 0038 0346     		mov	r3, r0
 2394 003a 012B     		cmp	r3, #1
 2395 003c 01D0     		beq	.L155
1125:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2396              		.loc 1 1125 0
 2397 003e FF23     		movs	r3, #255
 2398 0040 18E0     		b	.L159
 2399              	.L155:
1126:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1127:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2400              		.loc 1 1127 0
 2401 0042 3B69     		ldr	r3, [r7, #16]
 2402 0044 002B     		cmp	r3, #0
 2403 0046 14D0     		beq	.L158
 2404              		.loc 1 1127 0 is_stmt 0 discriminator 1
 2405 0048 0C4B     		ldr	r3, .L160
 2406 004a 4FF08052 		mov	r2, #268435456
 2407 004e 1A60     		str	r2, [r3]
 2408              		.syntax unified
 2409              	@ 1127 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2410 0050 BFF34F8F 		dsb
 2411              	@ 0 "" 2
 2412              	@ 1127 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2413 0054 BFF36F8F 		isb
 2414              	@ 0 "" 2
 2415              		.thumb
 2416              		.syntax unified
 2417 0058 0BE0     		b	.L158
 2418              	.L154:
1128:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1129:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1130:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSend(queue_id, &info, ticks) != pdTRUE) {
 2419              		.loc 1 1130 0 is_stmt 1
 2420 005a 07F10801 		add	r1, r7, #8
 2421 005e 0023     		movs	r3, #0
 2422 0060 7A69     		ldr	r2, [r7, #20]
 2423 0062 F868     		ldr	r0, [r7, #12]
 2424 0064 FFF7FEFF 		bl	xQueueGenericSend
 2425 0068 0346     		mov	r3, r0
ARM GAS  /tmp/cc5c7TuJ.s 			page 69


 2426 006a 012B     		cmp	r3, #1
 2427 006c 01D0     		beq	.L158
1131:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2428              		.loc 1 1131 0
 2429 006e FF23     		movs	r3, #255
 2430 0070 00E0     		b	.L159
 2431              	.L158:
1132:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1133:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1134:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1135:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 2432              		.loc 1 1135 0
 2433 0072 0023     		movs	r3, #0
 2434              	.L159:
1136:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2435              		.loc 1 1136 0 discriminator 1
 2436 0074 1846     		mov	r0, r3
 2437 0076 1837     		adds	r7, r7, #24
 2438              	.LCFI158:
 2439              		.cfi_def_cfa_offset 8
 2440 0078 BD46     		mov	sp, r7
 2441              	.LCFI159:
 2442              		.cfi_def_cfa_register 13
 2443              		@ sp needed
 2444 007a 80BD     		pop	{r7, pc}
 2445              	.L161:
 2446              		.align	2
 2447              	.L160:
 2448 007c 04ED00E0 		.word	-536810236
 2449              		.cfi_endproc
 2450              	.LFE62:
 2452              		.section	.text.osMessageGet,"ax",%progbits
 2453              		.align	1
 2454              		.global	osMessageGet
 2455              		.syntax unified
 2456              		.thumb
 2457              		.thumb_func
 2458              		.fpu fpv4-sp-d16
 2460              	osMessageGet:
 2461              	.LFB63:
1137:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1138:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1139:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Get a Message or Wait for a Message from a Queue.
1140:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1141:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1142:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event information that includes status code.
1143:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessageGet shall be consistent in every CMSIS-RTOS.
1144:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1145:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMessageGet (osMessageQId queue_id, uint32_t millisec)
1146:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2462              		.loc 1 1146 0
 2463              		.cfi_startproc
 2464              		@ args = 0, pretend = 0, frame = 40
 2465              		@ frame_needed = 1, uses_anonymous_args = 0
 2466 0000 90B5     		push	{r4, r7, lr}
 2467              	.LCFI160:
 2468              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/cc5c7TuJ.s 			page 70


 2469              		.cfi_offset 4, -12
 2470              		.cfi_offset 7, -8
 2471              		.cfi_offset 14, -4
 2472 0002 8BB0     		sub	sp, sp, #44
 2473              	.LCFI161:
 2474              		.cfi_def_cfa_offset 56
 2475 0004 00AF     		add	r7, sp, #0
 2476              	.LCFI162:
 2477              		.cfi_def_cfa_register 7
 2478 0006 F860     		str	r0, [r7, #12]
 2479 0008 B960     		str	r1, [r7, #8]
 2480 000a 7A60     		str	r2, [r7, #4]
1147:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1148:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1149:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1150:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1151:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.message_id = queue_id;
 2481              		.loc 1 1151 0
 2482 000c BB68     		ldr	r3, [r7, #8]
 2483 000e FB61     		str	r3, [r7, #28]
1152:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.value.v = 0;
 2484              		.loc 1 1152 0
 2485 0010 0023     		movs	r3, #0
 2486 0012 BB61     		str	r3, [r7, #24]
1153:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1154:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2487              		.loc 1 1154 0
 2488 0014 BB68     		ldr	r3, [r7, #8]
 2489 0016 002B     		cmp	r3, #0
 2490 0018 0AD1     		bne	.L163
1155:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
 2491              		.loc 1 1155 0
 2492 001a 8023     		movs	r3, #128
 2493 001c 7B61     		str	r3, [r7, #20]
1156:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 2494              		.loc 1 1156 0
 2495 001e FB68     		ldr	r3, [r7, #12]
 2496 0020 1C46     		mov	r4, r3
 2497 0022 07F11403 		add	r3, r7, #20
 2498 0026 93E80700 		ldm	r3, {r0, r1, r2}
 2499 002a 84E80700 		stm	r4, {r0, r1, r2}
 2500 002e 54E0     		b	.L162
 2501              	.L163:
1157:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1158:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1159:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 2502              		.loc 1 1159 0
 2503 0030 0023     		movs	r3, #0
 2504 0032 3B62     		str	r3, [r7, #32]
1160:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1161:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 2505              		.loc 1 1161 0
 2506 0034 0023     		movs	r3, #0
 2507 0036 7B62     		str	r3, [r7, #36]
1162:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 2508              		.loc 1 1162 0
 2509 0038 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc5c7TuJ.s 			page 71


 2510 003a B3F1FF3F 		cmp	r3, #-1
 2511 003e 03D1     		bne	.L165
1163:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 2512              		.loc 1 1163 0
 2513 0040 4FF0FF33 		mov	r3, #-1
 2514 0044 7B62     		str	r3, [r7, #36]
 2515 0046 09E0     		b	.L166
 2516              	.L165:
1164:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1165:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 2517              		.loc 1 1165 0
 2518 0048 7B68     		ldr	r3, [r7, #4]
 2519 004a 002B     		cmp	r3, #0
 2520 004c 06D0     		beq	.L166
1166:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 2521              		.loc 1 1166 0
 2522 004e 7B68     		ldr	r3, [r7, #4]
 2523 0050 7B62     		str	r3, [r7, #36]
1167:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 2524              		.loc 1 1167 0
 2525 0052 7B6A     		ldr	r3, [r7, #36]
 2526 0054 002B     		cmp	r3, #0
 2527 0056 01D1     		bne	.L166
1168:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 2528              		.loc 1 1168 0
 2529 0058 0123     		movs	r3, #1
 2530 005a 7B62     		str	r3, [r7, #36]
 2531              	.L166:
1169:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1170:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1171:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1172:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2532              		.loc 1 1172 0
 2533 005c FFF7FEFF 		bl	inHandlerMode
 2534 0060 0346     		mov	r3, r0
 2535 0062 002B     		cmp	r3, #0
 2536 0064 1CD0     		beq	.L167
1173:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceiveFromISR(queue_id, &event.value.v, &taskWoken) == pdTRUE) {
 2537              		.loc 1 1173 0
 2538 0066 07F12002 		add	r2, r7, #32
 2539 006a 07F11403 		add	r3, r7, #20
 2540 006e 0433     		adds	r3, r3, #4
 2541 0070 1946     		mov	r1, r3
 2542 0072 B868     		ldr	r0, [r7, #8]
 2543 0074 FFF7FEFF 		bl	xQueueReceiveFromISR
 2544 0078 0346     		mov	r3, r0
 2545 007a 012B     		cmp	r3, #1
 2546 007c 02D1     		bne	.L168
1174:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1175:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMessage;
 2547              		.loc 1 1175 0
 2548 007e 1023     		movs	r3, #16
 2549 0080 7B61     		str	r3, [r7, #20]
 2550 0082 01E0     		b	.L169
 2551              	.L168:
1176:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1177:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
ARM GAS  /tmp/cc5c7TuJ.s 			page 72


1178:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osOK;
 2552              		.loc 1 1178 0
 2553 0084 0023     		movs	r3, #0
 2554 0086 7B61     		str	r3, [r7, #20]
 2555              	.L169:
1179:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1180:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2556              		.loc 1 1180 0
 2557 0088 3B6A     		ldr	r3, [r7, #32]
 2558 008a 002B     		cmp	r3, #0
 2559 008c 1DD0     		beq	.L171
 2560              		.loc 1 1180 0 is_stmt 0 discriminator 1
 2561 008e 154B     		ldr	r3, .L176
 2562 0090 4FF08052 		mov	r2, #268435456
 2563 0094 1A60     		str	r2, [r3]
 2564              		.syntax unified
 2565              	@ 1180 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2566 0096 BFF34F8F 		dsb
 2567              	@ 0 "" 2
 2568              	@ 1180 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2569 009a BFF36F8F 		isb
 2570              	@ 0 "" 2
 2571              		.thumb
 2572              		.syntax unified
 2573 009e 14E0     		b	.L171
 2574              	.L167:
1181:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1182:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1183:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceive(queue_id, &event.value.v, ticks) == pdTRUE) {
 2575              		.loc 1 1183 0 is_stmt 1
 2576 00a0 07F11403 		add	r3, r7, #20
 2577 00a4 191D     		adds	r1, r3, #4
 2578 00a6 0023     		movs	r3, #0
 2579 00a8 7A6A     		ldr	r2, [r7, #36]
 2580 00aa B868     		ldr	r0, [r7, #8]
 2581 00ac FFF7FEFF 		bl	xQueueGenericReceive
 2582 00b0 0346     		mov	r3, r0
 2583 00b2 012B     		cmp	r3, #1
 2584 00b4 02D1     		bne	.L172
1184:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1185:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMessage;
 2585              		.loc 1 1185 0
 2586 00b6 1023     		movs	r3, #16
 2587 00b8 7B61     		str	r3, [r7, #20]
 2588 00ba 06E0     		b	.L171
 2589              	.L172:
1186:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1187:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1188:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = (ticks == 0) ? osOK : osEventTimeout;
 2590              		.loc 1 1188 0
 2591 00bc 7B6A     		ldr	r3, [r7, #36]
 2592 00be 002B     		cmp	r3, #0
 2593 00c0 01D1     		bne	.L173
 2594              		.loc 1 1188 0 is_stmt 0 discriminator 1
 2595 00c2 0023     		movs	r3, #0
 2596 00c4 00E0     		b	.L174
 2597              	.L173:
ARM GAS  /tmp/cc5c7TuJ.s 			page 73


 2598              		.loc 1 1188 0 discriminator 2
 2599 00c6 4023     		movs	r3, #64
 2600              	.L174:
 2601              		.loc 1 1188 0 discriminator 4
 2602 00c8 7B61     		str	r3, [r7, #20]
 2603              	.L171:
1189:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1190:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1191:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1192:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 2604              		.loc 1 1192 0 is_stmt 1
 2605 00ca FB68     		ldr	r3, [r7, #12]
 2606 00cc 1C46     		mov	r4, r3
 2607 00ce 07F11403 		add	r3, r7, #20
 2608 00d2 93E80700 		ldm	r3, {r0, r1, r2}
 2609 00d6 84E80700 		stm	r4, {r0, r1, r2}
 2610              	.L162:
1193:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2611              		.loc 1 1193 0
 2612 00da F868     		ldr	r0, [r7, #12]
 2613 00dc 2C37     		adds	r7, r7, #44
 2614              	.LCFI163:
 2615              		.cfi_def_cfa_offset 12
 2616 00de BD46     		mov	sp, r7
 2617              	.LCFI164:
 2618              		.cfi_def_cfa_register 13
 2619              		@ sp needed
 2620 00e0 90BD     		pop	{r4, r7, pc}
 2621              	.L177:
 2622 00e2 00BF     		.align	2
 2623              	.L176:
 2624 00e4 04ED00E0 		.word	-536810236
 2625              		.cfi_endproc
 2626              	.LFE63:
 2628              		.section	.text.osMailCreate,"ax",%progbits
 2629              		.align	1
 2630              		.global	osMailCreate
 2631              		.syntax unified
 2632              		.thumb
 2633              		.thumb_func
 2634              		.fpu fpv4-sp-d16
 2636              	osMailCreate:
 2637              	.LFB64:
1194:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1195:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif     /* Use Message Queues */
1196:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1197:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /********************   Mail Queue Management Functions  ***********************/
1198:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_MailQ)  &&  (osFeature_MailQ != 0))  /* Use Mail Queues */
1199:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1200:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1201:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** typedef struct os_mailQ_cb {
1202:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   const osMailQDef_t *queue_def;
1203:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   QueueHandle_t handle;
1204:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolId pool;
1205:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** } os_mailQ_cb_t;
1206:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1207:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
ARM GAS  /tmp/cc5c7TuJ.s 			page 74


1208:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize mail queue
1209:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_def     reference to the mail queue definition obtain with \ref osMailQ
1210:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID (obtained by \ref osThreadCreate or \ref osThreadGetId) or NULL.
1211:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval mail queue ID for reference by other functions or NULL in case of error.
1212:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailCreate shall be consistent in every CMSIS-RTOS.
1213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1214:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMailQId osMailCreate (const osMailQDef_t *queue_def, osThreadId thread_id)
1215:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2638              		.loc 1 1215 0
 2639              		.cfi_startproc
 2640              		@ args = 0, pretend = 0, frame = 24
 2641              		@ frame_needed = 1, uses_anonymous_args = 0
 2642 0000 90B5     		push	{r4, r7, lr}
 2643              	.LCFI165:
 2644              		.cfi_def_cfa_offset 12
 2645              		.cfi_offset 4, -12
 2646              		.cfi_offset 7, -8
 2647              		.cfi_offset 14, -4
 2648 0002 87B0     		sub	sp, sp, #28
 2649              	.LCFI166:
 2650              		.cfi_def_cfa_offset 40
 2651 0004 00AF     		add	r7, sp, #0
 2652              	.LCFI167:
 2653              		.cfi_def_cfa_register 7
 2654 0006 7860     		str	r0, [r7, #4]
 2655 0008 3960     		str	r1, [r7]
1216:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configSUPPORT_DYNAMIC_ALLOCATION == 1)
1217:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1218:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1219:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolDef_t pool_def = {queue_def->queue_sz, queue_def->item_sz, NULL};
 2656              		.loc 1 1219 0
 2657 000a 7B68     		ldr	r3, [r7, #4]
 2658 000c 1B68     		ldr	r3, [r3]
 2659 000e FB60     		str	r3, [r7, #12]
 2660 0010 7B68     		ldr	r3, [r7, #4]
 2661 0012 5B68     		ldr	r3, [r3, #4]
 2662 0014 3B61     		str	r3, [r7, #16]
 2663 0016 0023     		movs	r3, #0
 2664 0018 7B61     		str	r3, [r7, #20]
1220:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1221:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a mail queue control block */
1222:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1223:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *(queue_def->cb) = pvPortMalloc(sizeof(struct os_mailQ_cb));
 2665              		.loc 1 1223 0
 2666 001a 7B68     		ldr	r3, [r7, #4]
 2667 001c 9C68     		ldr	r4, [r3, #8]
 2668 001e 0C20     		movs	r0, #12
 2669 0020 FFF7FEFF 		bl	pvPortMalloc
 2670 0024 0346     		mov	r3, r0
 2671 0026 2360     		str	r3, [r4]
1224:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1225:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (*(queue_def->cb) == NULL) {
 2672              		.loc 1 1225 0
 2673 0028 7B68     		ldr	r3, [r7, #4]
 2674 002a 9B68     		ldr	r3, [r3, #8]
 2675 002c 1B68     		ldr	r3, [r3]
 2676 002e 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5c7TuJ.s 			page 75


 2677 0030 01D1     		bne	.L179
1226:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2678              		.loc 1 1226 0
 2679 0032 0023     		movs	r3, #0
 2680 0034 39E0     		b	.L183
 2681              	.L179:
1227:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1228:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->queue_def = queue_def;
 2682              		.loc 1 1228 0
 2683 0036 7B68     		ldr	r3, [r7, #4]
 2684 0038 9B68     		ldr	r3, [r3, #8]
 2685 003a 1B68     		ldr	r3, [r3]
 2686 003c 7A68     		ldr	r2, [r7, #4]
 2687 003e 1A60     		str	r2, [r3]
1229:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1230:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a queue in FreeRTOS */
1231:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->handle = xQueueCreate(queue_def->queue_sz, sizeof(void *));
 2688              		.loc 1 1231 0
 2689 0040 7B68     		ldr	r3, [r7, #4]
 2690 0042 9B68     		ldr	r3, [r3, #8]
 2691 0044 1C68     		ldr	r4, [r3]
 2692 0046 7B68     		ldr	r3, [r7, #4]
 2693 0048 1B68     		ldr	r3, [r3]
 2694 004a 0022     		movs	r2, #0
 2695 004c 0421     		movs	r1, #4
 2696 004e 1846     		mov	r0, r3
 2697 0050 FFF7FEFF 		bl	xQueueGenericCreate
 2698 0054 0346     		mov	r3, r0
 2699 0056 6360     		str	r3, [r4, #4]
1232:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1233:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1234:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((*(queue_def->cb))->handle == NULL) {
 2700              		.loc 1 1234 0
 2701 0058 7B68     		ldr	r3, [r7, #4]
 2702 005a 9B68     		ldr	r3, [r3, #8]
 2703 005c 1B68     		ldr	r3, [r3]
 2704 005e 5B68     		ldr	r3, [r3, #4]
 2705 0060 002B     		cmp	r3, #0
 2706 0062 07D1     		bne	.L181
1235:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortFree(*(queue_def->cb));
 2707              		.loc 1 1235 0
 2708 0064 7B68     		ldr	r3, [r7, #4]
 2709 0066 9B68     		ldr	r3, [r3, #8]
 2710 0068 1B68     		ldr	r3, [r3]
 2711 006a 1846     		mov	r0, r3
 2712 006c FFF7FEFF 		bl	vPortFree
1236:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2713              		.loc 1 1236 0
 2714 0070 0023     		movs	r3, #0
 2715 0072 1AE0     		b	.L183
 2716              	.L181:
1237:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1238:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1239:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a mail pool */
1240:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->pool = osPoolCreate(&pool_def);
 2717              		.loc 1 1240 0
 2718 0074 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc5c7TuJ.s 			page 76


 2719 0076 9B68     		ldr	r3, [r3, #8]
 2720 0078 1C68     		ldr	r4, [r3]
 2721 007a 07F10C03 		add	r3, r7, #12
 2722 007e 1846     		mov	r0, r3
 2723 0080 FFF7FEFF 		bl	osPoolCreate
 2724 0084 0346     		mov	r3, r0
 2725 0086 A360     		str	r3, [r4, #8]
1241:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((*(queue_def->cb))->pool == NULL) {
 2726              		.loc 1 1241 0
 2727 0088 7B68     		ldr	r3, [r7, #4]
 2728 008a 9B68     		ldr	r3, [r3, #8]
 2729 008c 1B68     		ldr	r3, [r3]
 2730 008e 9B68     		ldr	r3, [r3, #8]
 2731 0090 002B     		cmp	r3, #0
 2732 0092 07D1     		bne	.L182
1242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     //TODO: Delete queue. How to do it in FreeRTOS?
1243:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortFree(*(queue_def->cb));
 2733              		.loc 1 1243 0
 2734 0094 7B68     		ldr	r3, [r7, #4]
 2735 0096 9B68     		ldr	r3, [r3, #8]
 2736 0098 1B68     		ldr	r3, [r3]
 2737 009a 1846     		mov	r0, r3
 2738 009c FFF7FEFF 		bl	vPortFree
1244:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2739              		.loc 1 1244 0
 2740 00a0 0023     		movs	r3, #0
 2741 00a2 02E0     		b	.L183
 2742              	.L182:
1245:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1246:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1247:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return *(queue_def->cb);
 2743              		.loc 1 1247 0
 2744 00a4 7B68     		ldr	r3, [r7, #4]
 2745 00a6 9B68     		ldr	r3, [r3, #8]
 2746 00a8 1B68     		ldr	r3, [r3]
 2747              	.L183:
1248:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1249:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
1250:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1251:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2748              		.loc 1 1251 0 discriminator 1
 2749 00aa 1846     		mov	r0, r3
 2750 00ac 1C37     		adds	r7, r7, #28
 2751              	.LCFI168:
 2752              		.cfi_def_cfa_offset 12
 2753 00ae BD46     		mov	sp, r7
 2754              	.LCFI169:
 2755              		.cfi_def_cfa_register 13
 2756              		@ sp needed
 2757 00b0 90BD     		pop	{r4, r7, pc}
 2758              		.cfi_endproc
 2759              	.LFE64:
 2761              		.section	.text.osMailAlloc,"ax",%progbits
 2762              		.align	1
 2763              		.global	osMailAlloc
 2764              		.syntax unified
 2765              		.thumb
ARM GAS  /tmp/cc5c7TuJ.s 			page 77


 2766              		.thumb_func
 2767              		.fpu fpv4-sp-d16
 2769              	osMailAlloc:
 2770              	.LFB65:
1252:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1253:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1254:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a mail
1255:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1256:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
1257:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval pointer to memory block that can be filled with mail or NULL in case error.
1258:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailAlloc shall be consistent in every CMSIS-RTOS.
1259:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1260:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osMailAlloc (osMailQId queue_id, uint32_t millisec)
1261:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2771              		.loc 1 1261 0
 2772              		.cfi_startproc
 2773              		@ args = 0, pretend = 0, frame = 16
 2774              		@ frame_needed = 1, uses_anonymous_args = 0
 2775 0000 80B5     		push	{r7, lr}
 2776              	.LCFI170:
 2777              		.cfi_def_cfa_offset 8
 2778              		.cfi_offset 7, -8
 2779              		.cfi_offset 14, -4
 2780 0002 84B0     		sub	sp, sp, #16
 2781              	.LCFI171:
 2782              		.cfi_def_cfa_offset 24
 2783 0004 00AF     		add	r7, sp, #0
 2784              	.LCFI172:
 2785              		.cfi_def_cfa_register 7
 2786 0006 7860     		str	r0, [r7, #4]
 2787 0008 3960     		str	r1, [r7]
1262:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
1263:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p;
1264:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1265:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1266:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2788              		.loc 1 1266 0
 2789 000a 7B68     		ldr	r3, [r7, #4]
 2790 000c 002B     		cmp	r3, #0
 2791 000e 01D1     		bne	.L185
1267:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2792              		.loc 1 1267 0
 2793 0010 0023     		movs	r3, #0
 2794 0012 06E0     		b	.L186
 2795              	.L185:
1268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1269:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1270:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   p = osPoolAlloc(queue_id->pool);
 2796              		.loc 1 1270 0
 2797 0014 7B68     		ldr	r3, [r7, #4]
 2798 0016 9B68     		ldr	r3, [r3, #8]
 2799 0018 1846     		mov	r0, r3
 2800 001a FFF7FEFF 		bl	osPoolAlloc
 2801 001e F860     		str	r0, [r7, #12]
1271:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1272:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2802              		.loc 1 1272 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 78


 2803 0020 FB68     		ldr	r3, [r7, #12]
 2804              	.L186:
1273:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2805              		.loc 1 1273 0
 2806 0022 1846     		mov	r0, r3
 2807 0024 1037     		adds	r7, r7, #16
 2808              	.LCFI173:
 2809              		.cfi_def_cfa_offset 8
 2810 0026 BD46     		mov	sp, r7
 2811              	.LCFI174:
 2812              		.cfi_def_cfa_register 13
 2813              		@ sp needed
 2814 0028 80BD     		pop	{r7, pc}
 2815              		.cfi_endproc
 2816              	.LFE65:
 2818              		.section	.text.osMailCAlloc,"ax",%progbits
 2819              		.align	1
 2820              		.global	osMailCAlloc
 2821              		.syntax unified
 2822              		.thumb
 2823              		.thumb_func
 2824              		.fpu fpv4-sp-d16
 2826              	osMailCAlloc:
 2827              	.LFB66:
1274:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1275:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1276:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a mail and set memory block to zero
1277:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1278:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
1279:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval pointer to memory block that can be filled with mail or NULL in case error.
1280:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailCAlloc shall be consistent in every CMSIS-RTOS.
1281:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1282:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osMailCAlloc (osMailQId queue_id, uint32_t millisec)
1283:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2828              		.loc 1 1283 0
 2829              		.cfi_startproc
 2830              		@ args = 0, pretend = 0, frame = 16
 2831              		@ frame_needed = 1, uses_anonymous_args = 0
 2832 0000 80B5     		push	{r7, lr}
 2833              	.LCFI175:
 2834              		.cfi_def_cfa_offset 8
 2835              		.cfi_offset 7, -8
 2836              		.cfi_offset 14, -4
 2837 0002 84B0     		sub	sp, sp, #16
 2838              	.LCFI176:
 2839              		.cfi_def_cfa_offset 24
 2840 0004 00AF     		add	r7, sp, #0
 2841              	.LCFI177:
 2842              		.cfi_def_cfa_register 7
 2843 0006 7860     		str	r0, [r7, #4]
 2844 0008 3960     		str	r1, [r7]
1284:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
1285:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = osMailAlloc(queue_id, millisec);
 2845              		.loc 1 1285 0
 2846 000a 3968     		ldr	r1, [r7]
 2847 000c 7868     		ldr	r0, [r7, #4]
 2848 000e FFF7FEFF 		bl	osMailAlloc
ARM GAS  /tmp/cc5c7TuJ.s 			page 79


 2849 0012 B860     		str	r0, [r7, #8]
1286:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1287:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (p) {
 2850              		.loc 1 1287 0
 2851 0014 BB68     		ldr	r3, [r7, #8]
 2852 0016 002B     		cmp	r3, #0
 2853 0018 10D0     		beq	.L188
1288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2854              		.loc 1 1288 0
 2855 001a 0023     		movs	r3, #0
 2856 001c FB60     		str	r3, [r7, #12]
 2857 001e 07E0     		b	.L189
 2858              	.L190:
1289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ((uint8_t *)p)[i] = 0;
 2859              		.loc 1 1289 0 discriminator 3
 2860 0020 BA68     		ldr	r2, [r7, #8]
 2861 0022 FB68     		ldr	r3, [r7, #12]
 2862 0024 1344     		add	r3, r3, r2
 2863 0026 0022     		movs	r2, #0
 2864 0028 1A70     		strb	r2, [r3]
1288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2865              		.loc 1 1288 0 discriminator 3
 2866 002a FB68     		ldr	r3, [r7, #12]
 2867 002c 0133     		adds	r3, r3, #1
 2868 002e FB60     		str	r3, [r7, #12]
 2869              	.L189:
1288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2870              		.loc 1 1288 0 is_stmt 0 discriminator 1
 2871 0030 7B68     		ldr	r3, [r7, #4]
 2872 0032 1B68     		ldr	r3, [r3]
 2873 0034 5A68     		ldr	r2, [r3, #4]
 2874 0036 FB68     		ldr	r3, [r7, #12]
 2875 0038 9A42     		cmp	r2, r3
 2876 003a F1D8     		bhi	.L190
 2877              	.L188:
1290:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1291:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1292:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1293:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2878              		.loc 1 1293 0 is_stmt 1
 2879 003c BB68     		ldr	r3, [r7, #8]
1294:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2880              		.loc 1 1294 0
 2881 003e 1846     		mov	r0, r3
 2882 0040 1037     		adds	r7, r7, #16
 2883              	.LCFI178:
 2884              		.cfi_def_cfa_offset 8
 2885 0042 BD46     		mov	sp, r7
 2886              	.LCFI179:
 2887              		.cfi_def_cfa_register 13
 2888              		@ sp needed
 2889 0044 80BD     		pop	{r7, pc}
 2890              		.cfi_endproc
 2891              	.LFE66:
 2893              		.section	.text.osMailPut,"ax",%progbits
 2894              		.align	1
 2895              		.global	osMailPut
ARM GAS  /tmp/cc5c7TuJ.s 			page 80


 2896              		.syntax unified
 2897              		.thumb
 2898              		.thumb_func
 2899              		.fpu fpv4-sp-d16
 2901              	osMailPut:
 2902              	.LFB67:
1295:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1296:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1297:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Put a mail to a queue
1298:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1299:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mail          memory block previously allocated with \ref osMailAlloc or \ref osMailCAllo
1300:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1301:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailPut shall be consistent in every CMSIS-RTOS.
1302:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1303:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMailPut (osMailQId queue_id, void *mail)
1304:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2903              		.loc 1 1304 0
 2904              		.cfi_startproc
 2905              		@ args = 0, pretend = 0, frame = 16
 2906              		@ frame_needed = 1, uses_anonymous_args = 0
 2907 0000 80B5     		push	{r7, lr}
 2908              	.LCFI180:
 2909              		.cfi_def_cfa_offset 8
 2910              		.cfi_offset 7, -8
 2911              		.cfi_offset 14, -4
 2912 0002 84B0     		sub	sp, sp, #16
 2913              	.LCFI181:
 2914              		.cfi_def_cfa_offset 24
 2915 0004 00AF     		add	r7, sp, #0
 2916              	.LCFI182:
 2917              		.cfi_def_cfa_register 7
 2918 0006 7860     		str	r0, [r7, #4]
 2919 0008 3960     		str	r1, [r7]
1305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1306:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1307:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1308:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2920              		.loc 1 1308 0
 2921 000a 7B68     		ldr	r3, [r7, #4]
 2922 000c 002B     		cmp	r3, #0
 2923 000e 01D1     		bne	.L193
1309:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2924              		.loc 1 1309 0
 2925 0010 8023     		movs	r3, #128
 2926 0012 2CE0     		b	.L199
 2927              	.L193:
1310:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1311:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1312:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 2928              		.loc 1 1312 0
 2929 0014 0023     		movs	r3, #0
 2930 0016 FB60     		str	r3, [r7, #12]
1313:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1314:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2931              		.loc 1 1314 0
 2932 0018 FFF7FEFF 		bl	inHandlerMode
 2933 001c 0346     		mov	r3, r0
ARM GAS  /tmp/cc5c7TuJ.s 			page 81


 2934 001e 002B     		cmp	r3, #0
 2935 0020 18D0     		beq	.L195
1315:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSendFromISR(queue_id->handle, &mail, &taskWoken) != pdTRUE) {
 2936              		.loc 1 1315 0
 2937 0022 7B68     		ldr	r3, [r7, #4]
 2938 0024 5868     		ldr	r0, [r3, #4]
 2939 0026 07F10C02 		add	r2, r7, #12
 2940 002a 3946     		mov	r1, r7
 2941 002c 0023     		movs	r3, #0
 2942 002e FFF7FEFF 		bl	xQueueGenericSendFromISR
 2943 0032 0346     		mov	r3, r0
 2944 0034 012B     		cmp	r3, #1
 2945 0036 01D0     		beq	.L196
1316:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2946              		.loc 1 1316 0
 2947 0038 FF23     		movs	r3, #255
 2948 003a 18E0     		b	.L199
 2949              	.L196:
1317:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1318:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2950              		.loc 1 1318 0
 2951 003c FB68     		ldr	r3, [r7, #12]
 2952 003e 002B     		cmp	r3, #0
 2953 0040 14D0     		beq	.L198
 2954              		.loc 1 1318 0 is_stmt 0 discriminator 1
 2955 0042 0D4B     		ldr	r3, .L200
 2956 0044 4FF08052 		mov	r2, #268435456
 2957 0048 1A60     		str	r2, [r3]
 2958              		.syntax unified
 2959              	@ 1318 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2960 004a BFF34F8F 		dsb
 2961              	@ 0 "" 2
 2962              	@ 1318 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2963 004e BFF36F8F 		isb
 2964              	@ 0 "" 2
 2965              		.thumb
 2966              		.syntax unified
 2967 0052 0BE0     		b	.L198
 2968              	.L195:
1319:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1320:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1321:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSend(queue_id->handle, &mail, 0) != pdTRUE) { 
 2969              		.loc 1 1321 0 is_stmt 1
 2970 0054 7B68     		ldr	r3, [r7, #4]
 2971 0056 5868     		ldr	r0, [r3, #4]
 2972 0058 3946     		mov	r1, r7
 2973 005a 0023     		movs	r3, #0
 2974 005c 0022     		movs	r2, #0
 2975 005e FFF7FEFF 		bl	xQueueGenericSend
 2976 0062 0346     		mov	r3, r0
 2977 0064 012B     		cmp	r3, #1
 2978 0066 01D0     		beq	.L198
1322:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2979              		.loc 1 1322 0
 2980 0068 FF23     		movs	r3, #255
 2981 006a 00E0     		b	.L199
 2982              	.L198:
ARM GAS  /tmp/cc5c7TuJ.s 			page 82


1323:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1324:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1325:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1326:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 2983              		.loc 1 1326 0
 2984 006c 0023     		movs	r3, #0
 2985              	.L199:
1327:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2986              		.loc 1 1327 0 discriminator 1
 2987 006e 1846     		mov	r0, r3
 2988 0070 1037     		adds	r7, r7, #16
 2989              	.LCFI183:
 2990              		.cfi_def_cfa_offset 8
 2991 0072 BD46     		mov	sp, r7
 2992              	.LCFI184:
 2993              		.cfi_def_cfa_register 13
 2994              		@ sp needed
 2995 0074 80BD     		pop	{r7, pc}
 2996              	.L201:
 2997 0076 00BF     		.align	2
 2998              	.L200:
 2999 0078 04ED00E0 		.word	-536810236
 3000              		.cfi_endproc
 3001              	.LFE67:
 3003              		.section	.text.osMailGet,"ax",%progbits
 3004              		.align	1
 3005              		.global	osMailGet
 3006              		.syntax unified
 3007              		.thumb
 3008              		.thumb_func
 3009              		.fpu fpv4-sp-d16
 3011              	osMailGet:
 3012              	.LFB68:
1328:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1329:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1330:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Get a mail from a queue
1331:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id   mail queue ID obtained with \ref osMailCreate.
1332:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec    timeout value or 0 in case of no time-out
1333:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event that contains mail information or error code.
1334:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailGet shall be consistent in every CMSIS-RTOS.
1335:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1336:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMailGet (osMailQId queue_id, uint32_t millisec)
1337:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3013              		.loc 1 1337 0
 3014              		.cfi_startproc
 3015              		@ args = 0, pretend = 0, frame = 40
 3016              		@ frame_needed = 1, uses_anonymous_args = 0
 3017 0000 90B5     		push	{r4, r7, lr}
 3018              	.LCFI185:
 3019              		.cfi_def_cfa_offset 12
 3020              		.cfi_offset 4, -12
 3021              		.cfi_offset 7, -8
 3022              		.cfi_offset 14, -4
 3023 0002 8BB0     		sub	sp, sp, #44
 3024              	.LCFI186:
 3025              		.cfi_def_cfa_offset 56
 3026 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/cc5c7TuJ.s 			page 83


 3027              	.LCFI187:
 3028              		.cfi_def_cfa_register 7
 3029 0006 F860     		str	r0, [r7, #12]
 3030 0008 B960     		str	r1, [r7, #8]
 3031 000a 7A60     		str	r2, [r7, #4]
1338:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1339:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1340:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1341:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1342:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.mail_id = queue_id;
 3032              		.loc 1 1342 0
 3033 000c BB68     		ldr	r3, [r7, #8]
 3034 000e FB61     		str	r3, [r7, #28]
1343:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1344:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 3035              		.loc 1 1344 0
 3036 0010 BB68     		ldr	r3, [r7, #8]
 3037 0012 002B     		cmp	r3, #0
 3038 0014 0AD1     		bne	.L203
1345:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
 3039              		.loc 1 1345 0
 3040 0016 8023     		movs	r3, #128
 3041 0018 7B61     		str	r3, [r7, #20]
1346:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 3042              		.loc 1 1346 0
 3043 001a FB68     		ldr	r3, [r7, #12]
 3044 001c 1C46     		mov	r4, r3
 3045 001e 07F11403 		add	r3, r7, #20
 3046 0022 93E80700 		ldm	r3, {r0, r1, r2}
 3047 0026 84E80700 		stm	r4, {r0, r1, r2}
 3048 002a 56E0     		b	.L202
 3049              	.L203:
1347:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1348:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1349:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 3050              		.loc 1 1349 0
 3051 002c 0023     		movs	r3, #0
 3052 002e 3B62     		str	r3, [r7, #32]
1350:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1351:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 3053              		.loc 1 1351 0
 3054 0030 0023     		movs	r3, #0
 3055 0032 7B62     		str	r3, [r7, #36]
1352:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 3056              		.loc 1 1352 0
 3057 0034 7B68     		ldr	r3, [r7, #4]
 3058 0036 B3F1FF3F 		cmp	r3, #-1
 3059 003a 03D1     		bne	.L205
1353:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 3060              		.loc 1 1353 0
 3061 003c 4FF0FF33 		mov	r3, #-1
 3062 0040 7B62     		str	r3, [r7, #36]
 3063 0042 09E0     		b	.L206
 3064              	.L205:
1354:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1355:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 3065              		.loc 1 1355 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 84


 3066 0044 7B68     		ldr	r3, [r7, #4]
 3067 0046 002B     		cmp	r3, #0
 3068 0048 06D0     		beq	.L206
1356:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 3069              		.loc 1 1356 0
 3070 004a 7B68     		ldr	r3, [r7, #4]
 3071 004c 7B62     		str	r3, [r7, #36]
1357:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 3072              		.loc 1 1357 0
 3073 004e 7B6A     		ldr	r3, [r7, #36]
 3074 0050 002B     		cmp	r3, #0
 3075 0052 01D1     		bne	.L206
1358:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 3076              		.loc 1 1358 0
 3077 0054 0123     		movs	r3, #1
 3078 0056 7B62     		str	r3, [r7, #36]
 3079              	.L206:
1359:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1360:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1361:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1362:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 3080              		.loc 1 1362 0
 3081 0058 FFF7FEFF 		bl	inHandlerMode
 3082 005c 0346     		mov	r3, r0
 3083 005e 002B     		cmp	r3, #0
 3084 0060 1DD0     		beq	.L207
1363:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceiveFromISR(queue_id->handle, &event.value.p, &taskWoken) == pdTRUE) {
 3085              		.loc 1 1363 0
 3086 0062 BB68     		ldr	r3, [r7, #8]
 3087 0064 5868     		ldr	r0, [r3, #4]
 3088 0066 07F12002 		add	r2, r7, #32
 3089 006a 07F11403 		add	r3, r7, #20
 3090 006e 0433     		adds	r3, r3, #4
 3091 0070 1946     		mov	r1, r3
 3092 0072 FFF7FEFF 		bl	xQueueReceiveFromISR
 3093 0076 0346     		mov	r3, r0
 3094 0078 012B     		cmp	r3, #1
 3095 007a 02D1     		bne	.L208
1364:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1365:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMail;
 3096              		.loc 1 1365 0
 3097 007c 2023     		movs	r3, #32
 3098 007e 7B61     		str	r3, [r7, #20]
 3099 0080 01E0     		b	.L209
 3100              	.L208:
1366:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1367:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1368:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osOK;
 3101              		.loc 1 1368 0
 3102 0082 0023     		movs	r3, #0
 3103 0084 7B61     		str	r3, [r7, #20]
 3104              	.L209:
1369:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1370:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 3105              		.loc 1 1370 0
 3106 0086 3B6A     		ldr	r3, [r7, #32]
 3107 0088 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5c7TuJ.s 			page 85


 3108 008a 1ED0     		beq	.L211
 3109              		.loc 1 1370 0 is_stmt 0 discriminator 1
 3110 008c 154B     		ldr	r3, .L216
 3111 008e 4FF08052 		mov	r2, #268435456
 3112 0092 1A60     		str	r2, [r3]
 3113              		.syntax unified
 3114              	@ 1370 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 3115 0094 BFF34F8F 		dsb
 3116              	@ 0 "" 2
 3117              	@ 1370 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 3118 0098 BFF36F8F 		isb
 3119              	@ 0 "" 2
 3120              		.thumb
 3121              		.syntax unified
 3122 009c 15E0     		b	.L211
 3123              	.L207:
1371:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1372:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1373:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceive(queue_id->handle, &event.value.p, ticks) == pdTRUE) {
 3124              		.loc 1 1373 0 is_stmt 1
 3125 009e BB68     		ldr	r3, [r7, #8]
 3126 00a0 5868     		ldr	r0, [r3, #4]
 3127 00a2 07F11403 		add	r3, r7, #20
 3128 00a6 191D     		adds	r1, r3, #4
 3129 00a8 0023     		movs	r3, #0
 3130 00aa 7A6A     		ldr	r2, [r7, #36]
 3131 00ac FFF7FEFF 		bl	xQueueGenericReceive
 3132 00b0 0346     		mov	r3, r0
 3133 00b2 012B     		cmp	r3, #1
 3134 00b4 02D1     		bne	.L212
1374:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1375:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMail;
 3135              		.loc 1 1375 0
 3136 00b6 2023     		movs	r3, #32
 3137 00b8 7B61     		str	r3, [r7, #20]
 3138 00ba 06E0     		b	.L211
 3139              	.L212:
1376:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1377:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1378:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = (ticks == 0) ? osOK : osEventTimeout;
 3140              		.loc 1 1378 0
 3141 00bc 7B6A     		ldr	r3, [r7, #36]
 3142 00be 002B     		cmp	r3, #0
 3143 00c0 01D1     		bne	.L213
 3144              		.loc 1 1378 0 is_stmt 0 discriminator 1
 3145 00c2 0023     		movs	r3, #0
 3146 00c4 00E0     		b	.L214
 3147              	.L213:
 3148              		.loc 1 1378 0 discriminator 2
 3149 00c6 4023     		movs	r3, #64
 3150              	.L214:
 3151              		.loc 1 1378 0 discriminator 4
 3152 00c8 7B61     		str	r3, [r7, #20]
 3153              	.L211:
1379:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1380:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1381:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
ARM GAS  /tmp/cc5c7TuJ.s 			page 86


1382:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 3154              		.loc 1 1382 0 is_stmt 1
 3155 00ca FB68     		ldr	r3, [r7, #12]
 3156 00cc 1C46     		mov	r4, r3
 3157 00ce 07F11403 		add	r3, r7, #20
 3158 00d2 93E80700 		ldm	r3, {r0, r1, r2}
 3159 00d6 84E80700 		stm	r4, {r0, r1, r2}
 3160              	.L202:
1383:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3161              		.loc 1 1383 0
 3162 00da F868     		ldr	r0, [r7, #12]
 3163 00dc 2C37     		adds	r7, r7, #44
 3164              	.LCFI188:
 3165              		.cfi_def_cfa_offset 12
 3166 00de BD46     		mov	sp, r7
 3167              	.LCFI189:
 3168              		.cfi_def_cfa_register 13
 3169              		@ sp needed
 3170 00e0 90BD     		pop	{r4, r7, pc}
 3171              	.L217:
 3172 00e2 00BF     		.align	2
 3173              	.L216:
 3174 00e4 04ED00E0 		.word	-536810236
 3175              		.cfi_endproc
 3176              	.LFE68:
 3178              		.section	.text.osMailFree,"ax",%progbits
 3179              		.align	1
 3180              		.global	osMailFree
 3181              		.syntax unified
 3182              		.thumb
 3183              		.thumb_func
 3184              		.fpu fpv4-sp-d16
 3186              	osMailFree:
 3187              	.LFB69:
1384:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1385:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1386:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Free a memory block from a mail
1387:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id mail queue ID obtained with \ref osMailCreate.
1388:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mail     pointer to the memory block that was obtained with \ref osMailGet.
1389:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1390:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailFree shall be consistent in every CMSIS-RTOS.
1391:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1392:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMailFree (osMailQId queue_id, void *mail)
1393:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3188              		.loc 1 1393 0
 3189              		.cfi_startproc
 3190              		@ args = 0, pretend = 0, frame = 8
 3191              		@ frame_needed = 1, uses_anonymous_args = 0
 3192 0000 80B5     		push	{r7, lr}
 3193              	.LCFI190:
 3194              		.cfi_def_cfa_offset 8
 3195              		.cfi_offset 7, -8
 3196              		.cfi_offset 14, -4
 3197 0002 82B0     		sub	sp, sp, #8
 3198              	.LCFI191:
 3199              		.cfi_def_cfa_offset 16
 3200 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/cc5c7TuJ.s 			page 87


 3201              	.LCFI192:
 3202              		.cfi_def_cfa_register 7
 3203 0006 7860     		str	r0, [r7, #4]
 3204 0008 3960     		str	r1, [r7]
1394:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 3205              		.loc 1 1394 0
 3206 000a 7B68     		ldr	r3, [r7, #4]
 3207 000c 002B     		cmp	r3, #0
 3208 000e 01D1     		bne	.L219
1395:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 3209              		.loc 1 1395 0
 3210 0010 8023     		movs	r3, #128
 3211 0012 06E0     		b	.L220
 3212              	.L219:
1396:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1397:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1398:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osPoolFree(queue_id->pool, mail);
 3213              		.loc 1 1398 0
 3214 0014 7B68     		ldr	r3, [r7, #4]
 3215 0016 9B68     		ldr	r3, [r3, #8]
 3216 0018 3968     		ldr	r1, [r7]
 3217 001a 1846     		mov	r0, r3
 3218 001c FFF7FEFF 		bl	osPoolFree
 3219 0020 0346     		mov	r3, r0
 3220              	.L220:
1399:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3221              		.loc 1 1399 0
 3222 0022 1846     		mov	r0, r3
 3223 0024 0837     		adds	r7, r7, #8
 3224              	.LCFI193:
 3225              		.cfi_def_cfa_offset 8
 3226 0026 BD46     		mov	sp, r7
 3227              	.LCFI194:
 3228              		.cfi_def_cfa_register 13
 3229              		@ sp needed
 3230 0028 80BD     		pop	{r7, pc}
 3231              		.cfi_endproc
 3232              	.LFE69:
 3234              		.section	.text.osSystickHandler,"ax",%progbits
 3235              		.align	1
 3236              		.global	osSystickHandler
 3237              		.syntax unified
 3238              		.thumb
 3239              		.thumb_func
 3240              		.fpu fpv4-sp-d16
 3242              	osSystickHandler:
 3243              	.LFB70:
1400:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* Use Mail Queues */
1401:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1402:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*************************** Additional specific APIs to Free RTOS ************/
1403:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1404:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Handles the tick increment
1405:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  none.
1406:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval none.
1407:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1408:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void osSystickHandler(void)
1409:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
ARM GAS  /tmp/cc5c7TuJ.s 			page 88


 3244              		.loc 1 1409 0
 3245              		.cfi_startproc
 3246              		@ args = 0, pretend = 0, frame = 0
 3247              		@ frame_needed = 1, uses_anonymous_args = 0
 3248 0000 80B5     		push	{r7, lr}
 3249              	.LCFI195:
 3250              		.cfi_def_cfa_offset 8
 3251              		.cfi_offset 7, -8
 3252              		.cfi_offset 14, -4
 3253 0002 00AF     		add	r7, sp, #0
 3254              	.LCFI196:
 3255              		.cfi_def_cfa_register 7
1410:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1411:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_xTaskGetSchedulerState  == 1 )
1412:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskGetSchedulerState() != taskSCHEDULER_NOT_STARTED)
 3256              		.loc 1 1412 0
 3257 0004 FFF7FEFF 		bl	xTaskGetSchedulerState
 3258 0008 0346     		mov	r3, r0
 3259 000a 012B     		cmp	r3, #1
 3260 000c 01D0     		beq	.L223
1413:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1414:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* INCLUDE_xTaskGetSchedulerState */  
1415:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     xPortSysTickHandler();
 3261              		.loc 1 1415 0
 3262 000e FFF7FEFF 		bl	xPortSysTickHandler
 3263              	.L223:
1416:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_xTaskGetSchedulerState  == 1 )
1417:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1418:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* INCLUDE_xTaskGetSchedulerState */  
1419:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3264              		.loc 1 1419 0
 3265 0012 00BF     		nop
 3266 0014 80BD     		pop	{r7, pc}
 3267              		.cfi_endproc
 3268              	.LFE70:
 3270              		.section	.text.osThreadSuspend,"ax",%progbits
 3271              		.align	1
 3272              		.global	osThreadSuspend
 3273              		.syntax unified
 3274              		.thumb
 3275              		.thumb_func
 3276              		.fpu fpv4-sp-d16
 3278              	osThreadSuspend:
 3279              	.LFB71:
1420:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1421:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( INCLUDE_eTaskGetState == 1 )
1422:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1423:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Obtain the state of any thread.
1424:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1425:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  the stae of the thread, states are encoded by the osThreadState enumerated type.
1426:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1427:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadState osThreadGetState(osThreadId thread_id)
1428:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
1429:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   eTaskState ThreadState;
1430:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osThreadState result;
1431:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1432:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ThreadState = eTaskGetState(thread_id);
ARM GAS  /tmp/cc5c7TuJ.s 			page 89


1433:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1434:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   switch (ThreadState)
1435:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1436:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eRunning :
1437:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadRunning;
1438:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1439:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eReady :
1440:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadReady;
1441:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1442:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eBlocked :
1443:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadBlocked;
1444:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1445:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eSuspended :
1446:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadSuspended;
1447:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1448:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eDeleted :
1449:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadDeleted;
1450:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1451:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   default:
1452:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadError;
1453:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
1454:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1455:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
1456:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1457:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif /* INCLUDE_eTaskGetState */
1458:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1459:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_eTaskGetState == 1)
1460:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1461:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Check if a thread is already suspended or not.
1462:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param thread_id thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1463:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1464:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1465:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadIsSuspended(osThreadId thread_id)
1466:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
1467:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (eTaskGetState(thread_id) == eSuspended)
1468:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osOK;
1469:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1470:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
1471:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1472:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif /* INCLUDE_eTaskGetState */
1473:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1474:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Suspend execution of a thread.
1475:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1476:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1477:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1478:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSuspend (osThreadId thread_id)
1479:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3280              		.loc 1 1479 0
 3281              		.cfi_startproc
 3282              		@ args = 0, pretend = 0, frame = 8
 3283              		@ frame_needed = 1, uses_anonymous_args = 0
 3284 0000 80B5     		push	{r7, lr}
 3285              	.LCFI197:
 3286              		.cfi_def_cfa_offset 8
 3287              		.cfi_offset 7, -8
 3288              		.cfi_offset 14, -4
 3289 0002 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/cc5c7TuJ.s 			page 90


 3290              	.LCFI198:
 3291              		.cfi_def_cfa_offset 16
 3292 0004 00AF     		add	r7, sp, #0
 3293              	.LCFI199:
 3294              		.cfi_def_cfa_register 7
 3295 0006 7860     		str	r0, [r7, #4]
1480:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskSuspend == 1)
1481:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vTaskSuspend(thread_id);
 3296              		.loc 1 1481 0
 3297 0008 7868     		ldr	r0, [r7, #4]
 3298 000a FFF7FEFF 		bl	vTaskSuspend
1482:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1483:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 3299              		.loc 1 1483 0
 3300 000e 0023     		movs	r3, #0
1484:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1485:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1486:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1487:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3301              		.loc 1 1487 0
 3302 0010 1846     		mov	r0, r3
 3303 0012 0837     		adds	r7, r7, #8
 3304              	.LCFI200:
 3305              		.cfi_def_cfa_offset 8
 3306 0014 BD46     		mov	sp, r7
 3307              	.LCFI201:
 3308              		.cfi_def_cfa_register 13
 3309              		@ sp needed
 3310 0016 80BD     		pop	{r7, pc}
 3311              		.cfi_endproc
 3312              	.LFE71:
 3314              		.section	.text.osThreadResume,"ax",%progbits
 3315              		.align	1
 3316              		.global	osThreadResume
 3317              		.syntax unified
 3318              		.thumb
 3319              		.thumb_func
 3320              		.fpu fpv4-sp-d16
 3322              	osThreadResume:
 3323              	.LFB72:
1488:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1489:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1490:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Resume execution of a suspended thread.
1491:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1492:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1493:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1494:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadResume (osThreadId thread_id)
1495:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3324              		.loc 1 1495 0
 3325              		.cfi_startproc
 3326              		@ args = 0, pretend = 0, frame = 8
 3327              		@ frame_needed = 1, uses_anonymous_args = 0
 3328 0000 80B5     		push	{r7, lr}
 3329              	.LCFI202:
 3330              		.cfi_def_cfa_offset 8
 3331              		.cfi_offset 7, -8
 3332              		.cfi_offset 14, -4
ARM GAS  /tmp/cc5c7TuJ.s 			page 91


 3333 0002 82B0     		sub	sp, sp, #8
 3334              	.LCFI203:
 3335              		.cfi_def_cfa_offset 16
 3336 0004 00AF     		add	r7, sp, #0
 3337              	.LCFI204:
 3338              		.cfi_def_cfa_register 7
 3339 0006 7860     		str	r0, [r7, #4]
1496:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskSuspend == 1)  
1497:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(inHandlerMode())
 3340              		.loc 1 1497 0
 3341 0008 FFF7FEFF 		bl	inHandlerMode
 3342 000c 0346     		mov	r3, r0
 3343 000e 002B     		cmp	r3, #0
 3344 0010 0ED0     		beq	.L227
1498:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1499:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTaskResumeFromISR(thread_id) == pdTRUE)
 3345              		.loc 1 1499 0
 3346 0012 7868     		ldr	r0, [r7, #4]
 3347 0014 FFF7FEFF 		bl	xTaskResumeFromISR
 3348 0018 0346     		mov	r3, r0
 3349 001a 012B     		cmp	r3, #1
 3350 001c 0BD1     		bne	.L229
1500:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
1501:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       portYIELD_FROM_ISR(pdTRUE);
 3351              		.loc 1 1501 0 discriminator 1
 3352 001e 084B     		ldr	r3, .L231
 3353 0020 4FF08052 		mov	r2, #268435456
 3354 0024 1A60     		str	r2, [r3]
 3355              		.syntax unified
 3356              	@ 1501 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 3357 0026 BFF34F8F 		dsb
 3358              	@ 0 "" 2
 3359              	@ 1501 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 3360 002a BFF36F8F 		isb
 3361              	@ 0 "" 2
 3362              		.thumb
 3363              		.syntax unified
 3364 002e 02E0     		b	.L229
 3365              	.L227:
1502:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1503:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1504:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1505:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1506:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vTaskResume(thread_id);
 3366              		.loc 1 1506 0
 3367 0030 7868     		ldr	r0, [r7, #4]
 3368 0032 FFF7FEFF 		bl	vTaskResume
 3369              	.L229:
1507:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1508:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 3370              		.loc 1 1508 0
 3371 0036 0023     		movs	r3, #0
1509:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1510:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1511:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1512:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3372              		.loc 1 1512 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 92


 3373 0038 1846     		mov	r0, r3
 3374 003a 0837     		adds	r7, r7, #8
 3375              	.LCFI205:
 3376              		.cfi_def_cfa_offset 8
 3377 003c BD46     		mov	sp, r7
 3378              	.LCFI206:
 3379              		.cfi_def_cfa_register 13
 3380              		@ sp needed
 3381 003e 80BD     		pop	{r7, pc}
 3382              	.L232:
 3383              		.align	2
 3384              	.L231:
 3385 0040 04ED00E0 		.word	-536810236
 3386              		.cfi_endproc
 3387              	.LFE72:
 3389              		.section	.text.osThreadSuspendAll,"ax",%progbits
 3390              		.align	1
 3391              		.global	osThreadSuspendAll
 3392              		.syntax unified
 3393              		.thumb
 3394              		.thumb_func
 3395              		.fpu fpv4-sp-d16
 3397              	osThreadSuspendAll:
 3398              	.LFB73:
1513:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1514:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1515:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Suspend execution of a all active threads.
1516:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1517:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1518:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSuspendAll (void)
1519:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3399              		.loc 1 1519 0
 3400              		.cfi_startproc
 3401              		@ args = 0, pretend = 0, frame = 0
 3402              		@ frame_needed = 1, uses_anonymous_args = 0
 3403 0000 80B5     		push	{r7, lr}
 3404              	.LCFI207:
 3405              		.cfi_def_cfa_offset 8
 3406              		.cfi_offset 7, -8
 3407              		.cfi_offset 14, -4
 3408 0002 00AF     		add	r7, sp, #0
 3409              	.LCFI208:
 3410              		.cfi_def_cfa_register 7
1520:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskSuspendAll();
 3411              		.loc 1 1520 0
 3412 0004 FFF7FEFF 		bl	vTaskSuspendAll
1521:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1522:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 3413              		.loc 1 1522 0
 3414 0008 0023     		movs	r3, #0
1523:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3415              		.loc 1 1523 0
 3416 000a 1846     		mov	r0, r3
 3417 000c 80BD     		pop	{r7, pc}
 3418              		.cfi_endproc
 3419              	.LFE73:
 3421              		.section	.text.osThreadResumeAll,"ax",%progbits
ARM GAS  /tmp/cc5c7TuJ.s 			page 93


 3422              		.align	1
 3423              		.global	osThreadResumeAll
 3424              		.syntax unified
 3425              		.thumb
 3426              		.thumb_func
 3427              		.fpu fpv4-sp-d16
 3429              	osThreadResumeAll:
 3430              	.LFB74:
1524:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1525:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1526:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Resume execution of a all suspended threads.
1527:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1528:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1529:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadResumeAll (void)
1530:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3431              		.loc 1 1530 0
 3432              		.cfi_startproc
 3433              		@ args = 0, pretend = 0, frame = 0
 3434              		@ frame_needed = 1, uses_anonymous_args = 0
 3435 0000 80B5     		push	{r7, lr}
 3436              	.LCFI209:
 3437              		.cfi_def_cfa_offset 8
 3438              		.cfi_offset 7, -8
 3439              		.cfi_offset 14, -4
 3440 0002 00AF     		add	r7, sp, #0
 3441              	.LCFI210:
 3442              		.cfi_def_cfa_register 7
1531:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskResumeAll() == pdTRUE)
 3443              		.loc 1 1531 0
 3444 0004 FFF7FEFF 		bl	xTaskResumeAll
 3445 0008 0346     		mov	r3, r0
 3446 000a 012B     		cmp	r3, #1
 3447 000c 01D1     		bne	.L236
1532:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osOK;
 3448              		.loc 1 1532 0
 3449 000e 0023     		movs	r3, #0
 3450 0010 00E0     		b	.L237
 3451              	.L236:
1533:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1534:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 3452              		.loc 1 1534 0
 3453 0012 FF23     		movs	r3, #255
 3454              	.L237:
1535:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1536:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3455              		.loc 1 1536 0
 3456 0014 1846     		mov	r0, r3
 3457 0016 80BD     		pop	{r7, pc}
 3458              		.cfi_endproc
 3459              	.LFE74:
 3461              		.section	.text.osDelayUntil,"ax",%progbits
 3462              		.align	1
 3463              		.global	osDelayUntil
 3464              		.syntax unified
 3465              		.thumb
 3466              		.thumb_func
 3467              		.fpu fpv4-sp-d16
ARM GAS  /tmp/cc5c7TuJ.s 			page 94


 3469              	osDelayUntil:
 3470              	.LFB75:
1537:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1538:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1539:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Delay a task until a specified time
1540:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   PreviousWakeTime   Pointer to a variable that holds the time at which the 
1541:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          task was last unblocked. PreviousWakeTime must be initialised with the current time
1542:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          prior to its first use (PreviousWakeTime = osKernelSysTick() )
1543:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec    time delay value
1544:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1545:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1546:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osDelayUntil (uint32_t *PreviousWakeTime, uint32_t millisec)
1547:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3471              		.loc 1 1547 0
 3472              		.cfi_startproc
 3473              		@ args = 0, pretend = 0, frame = 8
 3474              		@ frame_needed = 1, uses_anonymous_args = 0
 3475              		@ link register save eliminated.
 3476 0000 80B4     		push	{r7}
 3477              	.LCFI211:
 3478              		.cfi_def_cfa_offset 4
 3479              		.cfi_offset 7, -4
 3480 0002 83B0     		sub	sp, sp, #12
 3481              	.LCFI212:
 3482              		.cfi_def_cfa_offset 16
 3483 0004 00AF     		add	r7, sp, #0
 3484              	.LCFI213:
 3485              		.cfi_def_cfa_register 7
 3486 0006 7860     		str	r0, [r7, #4]
 3487 0008 3960     		str	r1, [r7]
1548:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_vTaskDelayUntil
1549:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = (millisec / portTICK_PERIOD_MS);
1550:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelayUntil((TickType_t *) PreviousWakeTime, ticks ? ticks : 1);
1551:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1552:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1553:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1554:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
1555:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) PreviousWakeTime;
1556:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1557:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
 3488              		.loc 1 1557 0
 3489 000a 8123     		movs	r3, #129
1558:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1559:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3490              		.loc 1 1559 0
 3491 000c 1846     		mov	r0, r3
 3492 000e 0C37     		adds	r7, r7, #12
 3493              	.LCFI214:
 3494              		.cfi_def_cfa_offset 4
 3495 0010 BD46     		mov	sp, r7
 3496              	.LCFI215:
 3497              		.cfi_def_cfa_register 13
 3498              		@ sp needed
 3499 0012 5DF8047B 		ldr	r7, [sp], #4
 3500              	.LCFI216:
 3501              		.cfi_restore 7
 3502              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 95


 3503 0016 7047     		bx	lr
 3504              		.cfi_endproc
 3505              	.LFE75:
 3507              		.section	.text.osAbortDelay,"ax",%progbits
 3508              		.align	1
 3509              		.global	osAbortDelay
 3510              		.syntax unified
 3511              		.thumb
 3512              		.thumb_func
 3513              		.fpu fpv4-sp-d16
 3515              	osAbortDelay:
 3516              	.LFB76:
1560:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1561:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1562:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Abort the delay for a specific thread
1563:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId   
1564:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1565:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1566:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osAbortDelay(osThreadId thread_id)
1567:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3517              		.loc 1 1567 0
 3518              		.cfi_startproc
 3519              		@ args = 0, pretend = 0, frame = 8
 3520              		@ frame_needed = 1, uses_anonymous_args = 0
 3521              		@ link register save eliminated.
 3522 0000 80B4     		push	{r7}
 3523              	.LCFI217:
 3524              		.cfi_def_cfa_offset 4
 3525              		.cfi_offset 7, -4
 3526 0002 83B0     		sub	sp, sp, #12
 3527              	.LCFI218:
 3528              		.cfi_def_cfa_offset 16
 3529 0004 00AF     		add	r7, sp, #0
 3530              	.LCFI219:
 3531              		.cfi_def_cfa_register 7
 3532 0006 7860     		str	r0, [r7, #4]
1568:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_xTaskAbortDelay
1569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1570:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   xTaskAbortDelay(thread_id);
1571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1572:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1573:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1574:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1575:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1576:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
 3533              		.loc 1 1576 0
 3534 0008 8123     		movs	r3, #129
1577:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1578:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3535              		.loc 1 1578 0
 3536 000a 1846     		mov	r0, r3
 3537 000c 0C37     		adds	r7, r7, #12
 3538              	.LCFI220:
 3539              		.cfi_def_cfa_offset 4
 3540 000e BD46     		mov	sp, r7
 3541              	.LCFI221:
 3542              		.cfi_def_cfa_register 13
ARM GAS  /tmp/cc5c7TuJ.s 			page 96


 3543              		@ sp needed
 3544 0010 5DF8047B 		ldr	r7, [sp], #4
 3545              	.LCFI222:
 3546              		.cfi_restore 7
 3547              		.cfi_def_cfa_offset 0
 3548 0014 7047     		bx	lr
 3549              		.cfi_endproc
 3550              	.LFE76:
 3552              		.section	.text.osThreadList,"ax",%progbits
 3553              		.align	1
 3554              		.global	osThreadList
 3555              		.syntax unified
 3556              		.thumb
 3557              		.thumb_func
 3558              		.fpu fpv4-sp-d16
 3560              	osThreadList:
 3561              	.LFB77:
1579:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1580:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1581:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Lists all the current threads, along with their current state 
1582:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          and stack usage high water mark.
1583:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   buffer   A buffer into which the above mentioned details
1584:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          will be written
1585:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1586:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1587:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadList (uint8_t *buffer)
1588:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3562              		.loc 1 1588 0
 3563              		.cfi_startproc
 3564              		@ args = 0, pretend = 0, frame = 8
 3565              		@ frame_needed = 1, uses_anonymous_args = 0
 3566              		@ link register save eliminated.
 3567 0000 80B4     		push	{r7}
 3568              	.LCFI223:
 3569              		.cfi_def_cfa_offset 4
 3570              		.cfi_offset 7, -4
 3571 0002 83B0     		sub	sp, sp, #12
 3572              	.LCFI224:
 3573              		.cfi_def_cfa_offset 16
 3574 0004 00AF     		add	r7, sp, #0
 3575              	.LCFI225:
 3576              		.cfi_def_cfa_register 7
 3577 0006 7860     		str	r0, [r7, #4]
1589:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS == 1 ) )
1590:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskList((char *)buffer);
1591:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1592:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 3578              		.loc 1 1592 0
 3579 0008 0023     		movs	r3, #0
1593:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3580              		.loc 1 1593 0
 3581 000a 1846     		mov	r0, r3
 3582 000c 0C37     		adds	r7, r7, #12
 3583              	.LCFI226:
 3584              		.cfi_def_cfa_offset 4
 3585 000e BD46     		mov	sp, r7
 3586              	.LCFI227:
ARM GAS  /tmp/cc5c7TuJ.s 			page 97


 3587              		.cfi_def_cfa_register 13
 3588              		@ sp needed
 3589 0010 5DF8047B 		ldr	r7, [sp], #4
 3590              	.LCFI228:
 3591              		.cfi_restore 7
 3592              		.cfi_def_cfa_offset 0
 3593 0014 7047     		bx	lr
 3594              		.cfi_endproc
 3595              	.LFE77:
 3597              		.section	.text.osMessagePeek,"ax",%progbits
 3598              		.align	1
 3599              		.global	osMessagePeek
 3600              		.syntax unified
 3601              		.thumb
 3602              		.thumb_func
 3603              		.fpu fpv4-sp-d16
 3605              	osMessagePeek:
 3606              	.LFB78:
1594:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1595:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1596:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Receive an item from a queue without removing the item from the queue.
1597:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1598:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1599:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event information that includes status code.
1600:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1601:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMessagePeek (osMessageQId queue_id, uint32_t millisec)
1602:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3607              		.loc 1 1602 0
 3608              		.cfi_startproc
 3609              		@ args = 0, pretend = 0, frame = 32
 3610              		@ frame_needed = 1, uses_anonymous_args = 0
 3611 0000 90B5     		push	{r4, r7, lr}
 3612              	.LCFI229:
 3613              		.cfi_def_cfa_offset 12
 3614              		.cfi_offset 4, -12
 3615              		.cfi_offset 7, -8
 3616              		.cfi_offset 14, -4
 3617 0002 89B0     		sub	sp, sp, #36
 3618              	.LCFI230:
 3619              		.cfi_def_cfa_offset 48
 3620 0004 00AF     		add	r7, sp, #0
 3621              	.LCFI231:
 3622              		.cfi_def_cfa_register 7
 3623 0006 F860     		str	r0, [r7, #12]
 3624 0008 B960     		str	r1, [r7, #8]
 3625 000a 7A60     		str	r2, [r7, #4]
1603:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1604:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1605:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1606:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.message_id = queue_id;
 3626              		.loc 1 1606 0
 3627 000c BB68     		ldr	r3, [r7, #8]
 3628 000e BB61     		str	r3, [r7, #24]
1607:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1608:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 3629              		.loc 1 1608 0
 3630 0010 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/cc5c7TuJ.s 			page 98


 3631 0012 002B     		cmp	r3, #0
 3632 0014 0AD1     		bne	.L245
1609:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
 3633              		.loc 1 1609 0
 3634 0016 8023     		movs	r3, #128
 3635 0018 3B61     		str	r3, [r7, #16]
1610:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 3636              		.loc 1 1610 0
 3637 001a FB68     		ldr	r3, [r7, #12]
 3638 001c 1C46     		mov	r4, r3
 3639 001e 07F11003 		add	r3, r7, #16
 3640 0022 93E80700 		ldm	r3, {r0, r1, r2}
 3641 0026 84E80700 		stm	r4, {r0, r1, r2}
 3642 002a 30E0     		b	.L244
 3643              	.L245:
1611:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1612:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1613:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 3644              		.loc 1 1613 0
 3645 002c 0023     		movs	r3, #0
 3646 002e FB61     		str	r3, [r7, #28]
1614:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 3647              		.loc 1 1614 0
 3648 0030 7B68     		ldr	r3, [r7, #4]
 3649 0032 B3F1FF3F 		cmp	r3, #-1
 3650 0036 03D1     		bne	.L247
1615:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 3651              		.loc 1 1615 0
 3652 0038 4FF0FF33 		mov	r3, #-1
 3653 003c FB61     		str	r3, [r7, #28]
 3654 003e 09E0     		b	.L248
 3655              	.L247:
1616:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1617:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 3656              		.loc 1 1617 0
 3657 0040 7B68     		ldr	r3, [r7, #4]
 3658 0042 002B     		cmp	r3, #0
 3659 0044 06D0     		beq	.L248
1618:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 3660              		.loc 1 1618 0
 3661 0046 7B68     		ldr	r3, [r7, #4]
 3662 0048 FB61     		str	r3, [r7, #28]
1619:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 3663              		.loc 1 1619 0
 3664 004a FB69     		ldr	r3, [r7, #28]
 3665 004c 002B     		cmp	r3, #0
 3666 004e 01D1     		bne	.L248
1620:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 3667              		.loc 1 1620 0
 3668 0050 0123     		movs	r3, #1
 3669 0052 FB61     		str	r3, [r7, #28]
 3670              	.L248:
1621:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1622:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1623:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1624:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xQueuePeek(queue_id, &event.value.v, ticks) == pdTRUE) 
 3671              		.loc 1 1624 0
ARM GAS  /tmp/cc5c7TuJ.s 			page 99


 3672 0054 07F11003 		add	r3, r7, #16
 3673 0058 191D     		adds	r1, r3, #4
 3674 005a 0123     		movs	r3, #1
 3675 005c FA69     		ldr	r2, [r7, #28]
 3676 005e B868     		ldr	r0, [r7, #8]
 3677 0060 FFF7FEFF 		bl	xQueueGenericReceive
 3678 0064 0346     		mov	r3, r0
 3679 0066 012B     		cmp	r3, #1
 3680 0068 02D1     		bne	.L249
1625:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1626:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     /* We have mail */
1627:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osEventMessage;
 3681              		.loc 1 1627 0
 3682 006a 1023     		movs	r3, #16
 3683 006c 3B61     		str	r3, [r7, #16]
 3684 006e 06E0     		b	.L250
 3685              	.L249:
1628:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1629:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else 
1630:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1631:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = (ticks == 0) ? osOK : osEventTimeout;
 3686              		.loc 1 1631 0
 3687 0070 FB69     		ldr	r3, [r7, #28]
 3688 0072 002B     		cmp	r3, #0
 3689 0074 01D1     		bne	.L251
 3690              		.loc 1 1631 0 is_stmt 0 discriminator 1
 3691 0076 0023     		movs	r3, #0
 3692 0078 00E0     		b	.L252
 3693              	.L251:
 3694              		.loc 1 1631 0 discriminator 2
 3695 007a 4023     		movs	r3, #64
 3696              	.L252:
 3697              		.loc 1 1631 0 discriminator 4
 3698 007c 3B61     		str	r3, [r7, #16]
 3699              	.L250:
1632:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1633:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1634:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 3700              		.loc 1 1634 0 is_stmt 1
 3701 007e FB68     		ldr	r3, [r7, #12]
 3702 0080 1C46     		mov	r4, r3
 3703 0082 07F11003 		add	r3, r7, #16
 3704 0086 93E80700 		ldm	r3, {r0, r1, r2}
 3705 008a 84E80700 		stm	r4, {r0, r1, r2}
 3706              	.L244:
1635:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3707              		.loc 1 1635 0
 3708 008e F868     		ldr	r0, [r7, #12]
 3709 0090 2437     		adds	r7, r7, #36
 3710              	.LCFI232:
 3711              		.cfi_def_cfa_offset 12
 3712 0092 BD46     		mov	sp, r7
 3713              	.LCFI233:
 3714              		.cfi_def_cfa_register 13
 3715              		@ sp needed
 3716 0094 90BD     		pop	{r4, r7, pc}
 3717              		.cfi_endproc
ARM GAS  /tmp/cc5c7TuJ.s 			page 100


 3718              	.LFE78:
 3720              		.section	.text.osMessageWaiting,"ax",%progbits
 3721              		.align	1
 3722              		.global	osMessageWaiting
 3723              		.syntax unified
 3724              		.thumb
 3725              		.thumb_func
 3726              		.fpu fpv4-sp-d16
 3728              	osMessageWaiting:
 3729              	.LFB79:
1636:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1637:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1638:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the number of messaged stored in a queue.
1639:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1640:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval number of messages stored in a queue.
1641:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1642:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osMessageWaiting(osMessageQId queue_id)
1643:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3730              		.loc 1 1643 0
 3731              		.cfi_startproc
 3732              		@ args = 0, pretend = 0, frame = 8
 3733              		@ frame_needed = 1, uses_anonymous_args = 0
 3734 0000 80B5     		push	{r7, lr}
 3735              	.LCFI234:
 3736              		.cfi_def_cfa_offset 8
 3737              		.cfi_offset 7, -8
 3738              		.cfi_offset 14, -4
 3739 0002 82B0     		sub	sp, sp, #8
 3740              	.LCFI235:
 3741              		.cfi_def_cfa_offset 16
 3742 0004 00AF     		add	r7, sp, #0
 3743              	.LCFI236:
 3744              		.cfi_def_cfa_register 7
 3745 0006 7860     		str	r0, [r7, #4]
1644:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 3746              		.loc 1 1644 0
 3747 0008 FFF7FEFF 		bl	inHandlerMode
 3748 000c 0346     		mov	r3, r0
 3749 000e 002B     		cmp	r3, #0
 3750 0010 04D0     		beq	.L255
1645:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return uxQueueMessagesWaitingFromISR(queue_id);
 3751              		.loc 1 1645 0
 3752 0012 7868     		ldr	r0, [r7, #4]
 3753 0014 FFF7FEFF 		bl	uxQueueMessagesWaitingFromISR
 3754 0018 0346     		mov	r3, r0
 3755 001a 03E0     		b	.L256
 3756              	.L255:
1646:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1647:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1648:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1649:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return uxQueueMessagesWaiting(queue_id);
 3757              		.loc 1 1649 0
 3758 001c 7868     		ldr	r0, [r7, #4]
 3759 001e FFF7FEFF 		bl	uxQueueMessagesWaiting
 3760 0022 0346     		mov	r3, r0
 3761              	.L256:
1650:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
ARM GAS  /tmp/cc5c7TuJ.s 			page 101


1651:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3762              		.loc 1 1651 0
 3763 0024 1846     		mov	r0, r3
 3764 0026 0837     		adds	r7, r7, #8
 3765              	.LCFI237:
 3766              		.cfi_def_cfa_offset 8
 3767 0028 BD46     		mov	sp, r7
 3768              	.LCFI238:
 3769              		.cfi_def_cfa_register 13
 3770              		@ sp needed
 3771 002a 80BD     		pop	{r7, pc}
 3772              		.cfi_endproc
 3773              	.LFE79:
 3775              		.section	.text.osMessageAvailableSpace,"ax",%progbits
 3776              		.align	1
 3777              		.global	osMessageAvailableSpace
 3778              		.syntax unified
 3779              		.thumb
 3780              		.thumb_func
 3781              		.fpu fpv4-sp-d16
 3783              	osMessageAvailableSpace:
 3784              	.LFB80:
1652:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1653:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1654:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the available space in a message queue.
1655:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1656:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval available space in a message queue.
1657:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1658:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osMessageAvailableSpace(osMessageQId queue_id)  
1659:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3785              		.loc 1 1659 0
 3786              		.cfi_startproc
 3787              		@ args = 0, pretend = 0, frame = 8
 3788              		@ frame_needed = 1, uses_anonymous_args = 0
 3789 0000 80B5     		push	{r7, lr}
 3790              	.LCFI239:
 3791              		.cfi_def_cfa_offset 8
 3792              		.cfi_offset 7, -8
 3793              		.cfi_offset 14, -4
 3794 0002 82B0     		sub	sp, sp, #8
 3795              	.LCFI240:
 3796              		.cfi_def_cfa_offset 16
 3797 0004 00AF     		add	r7, sp, #0
 3798              	.LCFI241:
 3799              		.cfi_def_cfa_register 7
 3800 0006 7860     		str	r0, [r7, #4]
1660:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return uxQueueSpacesAvailable(queue_id);
 3801              		.loc 1 1660 0
 3802 0008 7868     		ldr	r0, [r7, #4]
 3803 000a FFF7FEFF 		bl	uxQueueSpacesAvailable
 3804 000e 0346     		mov	r3, r0
1661:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3805              		.loc 1 1661 0
 3806 0010 1846     		mov	r0, r3
 3807 0012 0837     		adds	r7, r7, #8
 3808              	.LCFI242:
 3809              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc5c7TuJ.s 			page 102


 3810 0014 BD46     		mov	sp, r7
 3811              	.LCFI243:
 3812              		.cfi_def_cfa_register 13
 3813              		@ sp needed
 3814 0016 80BD     		pop	{r7, pc}
 3815              		.cfi_endproc
 3816              	.LFE80:
 3818              		.section	.text.osMessageDelete,"ax",%progbits
 3819              		.align	1
 3820              		.global	osMessageDelete
 3821              		.syntax unified
 3822              		.thumb
 3823              		.thumb_func
 3824              		.fpu fpv4-sp-d16
 3826              	osMessageDelete:
 3827              	.LFB81:
1662:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1663:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1664:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Message Queue
1665:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1666:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1667:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMessageDelete (osMessageQId queue_id)
1669:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3828              		.loc 1 1669 0
 3829              		.cfi_startproc
 3830              		@ args = 0, pretend = 0, frame = 8
 3831              		@ frame_needed = 1, uses_anonymous_args = 0
 3832 0000 80B5     		push	{r7, lr}
 3833              	.LCFI244:
 3834              		.cfi_def_cfa_offset 8
 3835              		.cfi_offset 7, -8
 3836              		.cfi_offset 14, -4
 3837 0002 82B0     		sub	sp, sp, #8
 3838              	.LCFI245:
 3839              		.cfi_def_cfa_offset 16
 3840 0004 00AF     		add	r7, sp, #0
 3841              	.LCFI246:
 3842              		.cfi_def_cfa_register 7
 3843 0006 7860     		str	r0, [r7, #4]
1670:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 3844              		.loc 1 1670 0
 3845 0008 FFF7FEFF 		bl	inHandlerMode
 3846 000c 0346     		mov	r3, r0
 3847 000e 002B     		cmp	r3, #0
 3848 0010 01D0     		beq	.L260
1671:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 3849              		.loc 1 1671 0
 3850 0012 8223     		movs	r3, #130
 3851 0014 03E0     		b	.L261
 3852              	.L260:
1672:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1673:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1674:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vQueueDelete(queue_id);
 3853              		.loc 1 1674 0
 3854 0016 7868     		ldr	r0, [r7, #4]
 3855 0018 FFF7FEFF 		bl	vQueueDelete
ARM GAS  /tmp/cc5c7TuJ.s 			page 103


1675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1676:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK; 
 3856              		.loc 1 1676 0
 3857 001c 0023     		movs	r3, #0
 3858              	.L261:
1677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3859              		.loc 1 1677 0
 3860 001e 1846     		mov	r0, r3
 3861 0020 0837     		adds	r7, r7, #8
 3862              	.LCFI247:
 3863              		.cfi_def_cfa_offset 8
 3864 0022 BD46     		mov	sp, r7
 3865              	.LCFI248:
 3866              		.cfi_def_cfa_register 13
 3867              		@ sp needed
 3868 0024 80BD     		pop	{r7, pc}
 3869              		.cfi_endproc
 3870              	.LFE81:
 3872              		.section	.text.osRecursiveMutexCreate,"ax",%progbits
 3873              		.align	1
 3874              		.global	osRecursiveMutexCreate
 3875              		.syntax unified
 3876              		.thumb
 3877              		.thumb_func
 3878              		.fpu fpv4-sp-d16
 3880              	osRecursiveMutexCreate:
 3881              	.LFB82:
1678:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1679:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1680:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create and Initialize a Recursive Mutex
1681:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mutex_def     mutex definition referenced with \ref osMutex.
1682:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  mutex ID for reference by other functions or NULL in case of error..
1683:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1684:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMutexId osRecursiveMutexCreate (const osMutexDef_t *mutex_def)
1685:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3882              		.loc 1 1685 0
 3883              		.cfi_startproc
 3884              		@ args = 0, pretend = 0, frame = 8
 3885              		@ frame_needed = 1, uses_anonymous_args = 0
 3886              		@ link register save eliminated.
 3887 0000 80B4     		push	{r7}
 3888              	.LCFI249:
 3889              		.cfi_def_cfa_offset 4
 3890              		.cfi_offset 7, -4
 3891 0002 83B0     		sub	sp, sp, #12
 3892              	.LCFI250:
 3893              		.cfi_def_cfa_offset 16
 3894 0004 00AF     		add	r7, sp, #0
 3895              	.LCFI251:
 3896              		.cfi_def_cfa_register 7
 3897 0006 7860     		str	r0, [r7, #4]
1686:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1687:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
1688:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1689:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_def->controlblock != NULL){
1690:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateRecursiveMutexStatic( mutex_def->controlblock );
1691:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
ARM GAS  /tmp/cc5c7TuJ.s 			page 104


1692:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1693:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateRecursiveMutex();
1694:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1695:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
1696:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateRecursiveMutexStatic( mutex_def->controlblock );
1697:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
1698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateRecursiveMutex();
1699:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1700:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1701:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
 3898              		.loc 1 1701 0
 3899 0008 0023     		movs	r3, #0
1702:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif	
1703:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3900              		.loc 1 1703 0
 3901 000a 1846     		mov	r0, r3
 3902 000c 0C37     		adds	r7, r7, #12
 3903              	.LCFI252:
 3904              		.cfi_def_cfa_offset 4
 3905 000e BD46     		mov	sp, r7
 3906              	.LCFI253:
 3907              		.cfi_def_cfa_register 13
 3908              		@ sp needed
 3909 0010 5DF8047B 		ldr	r7, [sp], #4
 3910              	.LCFI254:
 3911              		.cfi_restore 7
 3912              		.cfi_def_cfa_offset 0
 3913 0014 7047     		bx	lr
 3914              		.cfi_endproc
 3915              	.LFE82:
 3917              		.section	.text.osRecursiveMutexRelease,"ax",%progbits
 3918              		.align	1
 3919              		.global	osRecursiveMutexRelease
 3920              		.syntax unified
 3921              		.thumb
 3922              		.thumb_func
 3923              		.fpu fpv4-sp-d16
 3925              	osRecursiveMutexRelease:
 3926              	.LFB83:
1704:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1705:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1706:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Release a Recursive Mutex
1707:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   mutex_id      mutex ID obtained by \ref osRecursiveMutexCreate.
1708:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1709:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1710:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osRecursiveMutexRelease (osMutexId mutex_id)
1711:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3927              		.loc 1 1711 0
 3928              		.cfi_startproc
 3929              		@ args = 0, pretend = 0, frame = 8
 3930              		@ frame_needed = 1, uses_anonymous_args = 0
 3931              		@ link register save eliminated.
 3932 0000 80B4     		push	{r7}
 3933              	.LCFI255:
 3934              		.cfi_def_cfa_offset 4
 3935              		.cfi_offset 7, -4
 3936 0002 83B0     		sub	sp, sp, #12
ARM GAS  /tmp/cc5c7TuJ.s 			page 105


 3937              	.LCFI256:
 3938              		.cfi_def_cfa_offset 16
 3939 0004 00AF     		add	r7, sp, #0
 3940              	.LCFI257:
 3941              		.cfi_def_cfa_register 7
 3942 0006 7860     		str	r0, [r7, #4]
1712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1713:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
1714:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
1715:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xSemaphoreGiveRecursive(mutex_id) != pdTRUE) 
1716:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1717:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osErrorOS;
1718:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1719:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
1720:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1721:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return osErrorResource;
 3943              		.loc 1 1721 0
 3944 0008 8123     		movs	r3, #129
1722:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1723:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3945              		.loc 1 1723 0
 3946 000a 1846     		mov	r0, r3
 3947 000c 0C37     		adds	r7, r7, #12
 3948              	.LCFI258:
 3949              		.cfi_def_cfa_offset 4
 3950 000e BD46     		mov	sp, r7
 3951              	.LCFI259:
 3952              		.cfi_def_cfa_register 13
 3953              		@ sp needed
 3954 0010 5DF8047B 		ldr	r7, [sp], #4
 3955              	.LCFI260:
 3956              		.cfi_restore 7
 3957              		.cfi_def_cfa_offset 0
 3958 0014 7047     		bx	lr
 3959              		.cfi_endproc
 3960              	.LFE83:
 3962              		.section	.text.osRecursiveMutexWait,"ax",%progbits
 3963              		.align	1
 3964              		.global	osRecursiveMutexWait
 3965              		.syntax unified
 3966              		.thumb
 3967              		.thumb_func
 3968              		.fpu fpv4-sp-d16
 3970              	osRecursiveMutexWait:
 3971              	.LFB84:
1724:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1725:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1726:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Release a Recursive Mutex
1727:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   mutex_id    mutex ID obtained by \ref osRecursiveMutexCreate.
1728:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec      timeout value or 0 in case of no time-out.
1729:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1730:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1731:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osRecursiveMutexWait (osMutexId mutex_id, uint32_t millisec)
1732:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3972              		.loc 1 1732 0
 3973              		.cfi_startproc
 3974              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/cc5c7TuJ.s 			page 106


 3975              		@ frame_needed = 1, uses_anonymous_args = 0
 3976              		@ link register save eliminated.
 3977 0000 80B4     		push	{r7}
 3978              	.LCFI261:
 3979              		.cfi_def_cfa_offset 4
 3980              		.cfi_offset 7, -4
 3981 0002 83B0     		sub	sp, sp, #12
 3982              	.LCFI262:
 3983              		.cfi_def_cfa_offset 16
 3984 0004 00AF     		add	r7, sp, #0
 3985              	.LCFI263:
 3986              		.cfi_def_cfa_register 7
 3987 0006 7860     		str	r0, [r7, #4]
 3988 0008 3960     		str	r1, [r7]
1733:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1734:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1735:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1736:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_id == NULL)
1737:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1738:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1739:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1740:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1741:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1742:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) 
1743:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1744:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1745:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1746:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) 
1747:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1748:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1749:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) 
1750:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
1751:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
1752:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1753:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1754:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1755:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xSemaphoreTakeRecursive(mutex_id, ticks) != pdTRUE) 
1756:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1757:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
1758:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1759:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1760:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1761:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return osErrorResource;
 3989              		.loc 1 1761 0
 3990 000a 8123     		movs	r3, #129
1762:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1763:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3991              		.loc 1 1763 0
 3992 000c 1846     		mov	r0, r3
 3993 000e 0C37     		adds	r7, r7, #12
 3994              	.LCFI264:
 3995              		.cfi_def_cfa_offset 4
 3996 0010 BD46     		mov	sp, r7
 3997              	.LCFI265:
 3998              		.cfi_def_cfa_register 13
 3999              		@ sp needed
 4000 0012 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  /tmp/cc5c7TuJ.s 			page 107


 4001              	.LCFI266:
 4002              		.cfi_restore 7
 4003              		.cfi_def_cfa_offset 0
 4004 0016 7047     		bx	lr
 4005              		.cfi_endproc
 4006              	.LFE84:
 4008              		.section	.text.osSemaphoreGetCount,"ax",%progbits
 4009              		.align	1
 4010              		.global	osSemaphoreGetCount
 4011              		.syntax unified
 4012              		.thumb
 4013              		.thumb_func
 4014              		.fpu fpv4-sp-d16
 4016              	osSemaphoreGetCount:
 4017              	.LFB85:
1764:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1765:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1766:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Returns the current count value of a counting semaphore
1767:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore_id ID obtained by \ref osSemaphoreCreate.
1768:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  count value
1769:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1770:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osSemaphoreGetCount(osSemaphoreId semaphore_id)
1771:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 4018              		.loc 1 1771 0
 4019              		.cfi_startproc
 4020              		@ args = 0, pretend = 0, frame = 8
 4021              		@ frame_needed = 1, uses_anonymous_args = 0
 4022 0000 80B5     		push	{r7, lr}
 4023              	.LCFI267:
 4024              		.cfi_def_cfa_offset 8
 4025              		.cfi_offset 7, -8
 4026              		.cfi_offset 14, -4
 4027 0002 82B0     		sub	sp, sp, #8
 4028              	.LCFI268:
 4029              		.cfi_def_cfa_offset 16
 4030 0004 00AF     		add	r7, sp, #0
 4031              	.LCFI269:
 4032              		.cfi_def_cfa_register 7
 4033 0006 7860     		str	r0, [r7, #4]
1772:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return uxSemaphoreGetCount(semaphore_id);
 4034              		.loc 1 1772 0
 4035 0008 7868     		ldr	r0, [r7, #4]
 4036 000a FFF7FEFF 		bl	uxQueueMessagesWaiting
 4037 000e 0346     		mov	r3, r0
1773:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 4038              		.loc 1 1773 0
 4039 0010 1846     		mov	r0, r3
 4040 0012 0837     		adds	r7, r7, #8
 4041              	.LCFI270:
 4042              		.cfi_def_cfa_offset 8
 4043 0014 BD46     		mov	sp, r7
 4044              	.LCFI271:
 4045              		.cfi_def_cfa_register 13
 4046              		@ sp needed
 4047 0016 80BD     		pop	{r7, pc}
 4048              		.cfi_endproc
 4049              	.LFE85:
ARM GAS  /tmp/cc5c7TuJ.s 			page 108


 4051              		.text
 4052              	.Letext0:
 4053              		.file 4 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/machine/_default_types.h"
 4054              		.file 5 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/sys/lock.h"
 4055              		.file 6 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/sys/_types.h"
 4056              		.file 7 "/opt/gcc4mbed/gcc-arm-none-eabi/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 4057              		.file 8 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/sys/reent.h"
 4058              		.file 9 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h"
 4059              		.file 10 "Inc/FreeRTOSConfig.h"
 4060              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/projdefs.h"
 4061              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 4062              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/include/timers.h"
 4063              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 4064              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 4065              		.file 16 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
ARM GAS  /tmp/cc5c7TuJ.s 			page 109


DEFINED SYMBOLS
                            *ABS*:0000000000000000 cmsis_os.c
     /tmp/cc5c7TuJ.s:18     .text.makeFreeRtosPriority:0000000000000000 $t
     /tmp/cc5c7TuJ.s:24     .text.makeFreeRtosPriority:0000000000000000 makeFreeRtosPriority
     /tmp/cc5c7TuJ.s:78     .text.makeCmsisPriority:0000000000000000 $t
     /tmp/cc5c7TuJ.s:84     .text.makeCmsisPriority:0000000000000000 makeCmsisPriority
     /tmp/cc5c7TuJ.s:136    .text.inHandlerMode:0000000000000000 $t
     /tmp/cc5c7TuJ.s:142    .text.inHandlerMode:0000000000000000 inHandlerMode
     /tmp/cc5c7TuJ.s:198    .text.osKernelStart:0000000000000000 $t
     /tmp/cc5c7TuJ.s:205    .text.osKernelStart:0000000000000000 osKernelStart
     /tmp/cc5c7TuJ.s:230    .text.osKernelRunning:0000000000000000 $t
     /tmp/cc5c7TuJ.s:237    .text.osKernelRunning:0000000000000000 osKernelRunning
     /tmp/cc5c7TuJ.s:270    .text.osKernelSysTick:0000000000000000 $t
     /tmp/cc5c7TuJ.s:277    .text.osKernelSysTick:0000000000000000 osKernelSysTick
     /tmp/cc5c7TuJ.s:312    .text.osThreadCreate:0000000000000000 $t
     /tmp/cc5c7TuJ.s:319    .text.osThreadCreate:0000000000000000 osThreadCreate
     /tmp/cc5c7TuJ.s:388    .text.osThreadGetId:0000000000000000 $t
     /tmp/cc5c7TuJ.s:395    .text.osThreadGetId:0000000000000000 osThreadGetId
     /tmp/cc5c7TuJ.s:419    .text.osThreadTerminate:0000000000000000 $t
     /tmp/cc5c7TuJ.s:426    .text.osThreadTerminate:0000000000000000 osThreadTerminate
     /tmp/cc5c7TuJ.s:463    .text.osThreadYield:0000000000000000 $t
     /tmp/cc5c7TuJ.s:470    .text.osThreadYield:0000000000000000 osThreadYield
     /tmp/cc5c7TuJ.s:513    .text.osThreadYield:0000000000000020 $d
     /tmp/cc5c7TuJ.s:518    .text.osThreadSetPriority:0000000000000000 $t
     /tmp/cc5c7TuJ.s:525    .text.osThreadSetPriority:0000000000000000 osThreadSetPriority
     /tmp/cc5c7TuJ.s:569    .text.osThreadGetPriority:0000000000000000 $t
     /tmp/cc5c7TuJ.s:576    .text.osThreadGetPriority:0000000000000000 osThreadGetPriority
     /tmp/cc5c7TuJ.s:630    .text.osDelay:0000000000000000 $t
     /tmp/cc5c7TuJ.s:637    .text.osDelay:0000000000000000 osDelay
     /tmp/cc5c7TuJ.s:688    .text.osTimerCreate:0000000000000000 $t
     /tmp/cc5c7TuJ.s:695    .text.osTimerCreate:0000000000000000 osTimerCreate
     /tmp/cc5c7TuJ.s:736    .text.osTimerStart:0000000000000000 $t
     /tmp/cc5c7TuJ.s:743    .text.osTimerStart:0000000000000000 osTimerStart
     /tmp/cc5c7TuJ.s:788    .text.osTimerStop:0000000000000000 $t
     /tmp/cc5c7TuJ.s:795    .text.osTimerStop:0000000000000000 osTimerStop
     /tmp/cc5c7TuJ.s:839    .text.osTimerDelete:0000000000000000 $t
     /tmp/cc5c7TuJ.s:846    .text.osTimerDelete:0000000000000000 osTimerDelete
     /tmp/cc5c7TuJ.s:890    .text.osSignalSet:0000000000000000 $t
     /tmp/cc5c7TuJ.s:897    .text.osSignalSet:0000000000000000 osSignalSet
     /tmp/cc5c7TuJ.s:991    .text.osSignalSet:000000000000007c $d
     /tmp/cc5c7TuJ.s:996    .text.osSignalWait:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1003   .text.osSignalWait:0000000000000000 osSignalWait
     /tmp/cc5c7TuJ.s:1121   .text.osMutexCreate:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1128   .text.osMutexCreate:0000000000000000 osMutexCreate
     /tmp/cc5c7TuJ.s:1164   .text.osMutexWait:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1171   .text.osMutexWait:0000000000000000 osMutexWait
     /tmp/cc5c7TuJ.s:1294   .text.osMutexWait:000000000000009c $d
     /tmp/cc5c7TuJ.s:1299   .text.osMutexRelease:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1306   .text.osMutexRelease:0000000000000000 osMutexRelease
     /tmp/cc5c7TuJ.s:1395   .text.osMutexRelease:0000000000000068 $d
     /tmp/cc5c7TuJ.s:1400   .text.osMutexDelete:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1407   .text.osMutexDelete:0000000000000000 osMutexDelete
     /tmp/cc5c7TuJ.s:1454   .text.osSemaphoreCreate:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1461   .text.osSemaphoreCreate:0000000000000000 osSemaphoreCreate
     /tmp/cc5c7TuJ.s:1521   .text.osSemaphoreWait:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1528   .text.osSemaphoreWait:0000000000000000 osSemaphoreWait
     /tmp/cc5c7TuJ.s:1651   .text.osSemaphoreWait:000000000000009c $d
ARM GAS  /tmp/cc5c7TuJ.s 			page 110


     /tmp/cc5c7TuJ.s:1656   .text.osSemaphoreRelease:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1663   .text.osSemaphoreRelease:0000000000000000 osSemaphoreRelease
     /tmp/cc5c7TuJ.s:1752   .text.osSemaphoreRelease:0000000000000068 $d
     /tmp/cc5c7TuJ.s:1757   .text.osSemaphoreDelete:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1764   .text.osSemaphoreDelete:0000000000000000 osSemaphoreDelete
     /tmp/cc5c7TuJ.s:1811   .text.osPoolCreate:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1818   .text.osPoolCreate:0000000000000000 osPoolCreate
     /tmp/cc5c7TuJ.s:1952   .text.osPoolAlloc:0000000000000000 $t
     /tmp/cc5c7TuJ.s:1959   .text.osPoolAlloc:0000000000000000 osPoolAlloc
     /tmp/cc5c7TuJ.s:2122   .text.osPoolCAlloc:0000000000000000 $t
     /tmp/cc5c7TuJ.s:2129   .text.osPoolCAlloc:0000000000000000 osPoolCAlloc
     /tmp/cc5c7TuJ.s:2177   .text.osPoolFree:0000000000000000 $t
     /tmp/cc5c7TuJ.s:2184   .text.osPoolFree:0000000000000000 osPoolFree
     /tmp/cc5c7TuJ.s:2292   .text.osMessageCreate:0000000000000000 $t
     /tmp/cc5c7TuJ.s:2299   .text.osMessageCreate:0000000000000000 osMessageCreate
     /tmp/cc5c7TuJ.s:2341   .text.osMessagePut:0000000000000000 $t
     /tmp/cc5c7TuJ.s:2348   .text.osMessagePut:0000000000000000 osMessagePut
     /tmp/cc5c7TuJ.s:2448   .text.osMessagePut:000000000000007c $d
     /tmp/cc5c7TuJ.s:2453   .text.osMessageGet:0000000000000000 $t
     /tmp/cc5c7TuJ.s:2460   .text.osMessageGet:0000000000000000 osMessageGet
     /tmp/cc5c7TuJ.s:2624   .text.osMessageGet:00000000000000e4 $d
     /tmp/cc5c7TuJ.s:2629   .text.osMailCreate:0000000000000000 $t
     /tmp/cc5c7TuJ.s:2636   .text.osMailCreate:0000000000000000 osMailCreate
     /tmp/cc5c7TuJ.s:2762   .text.osMailAlloc:0000000000000000 $t
     /tmp/cc5c7TuJ.s:2769   .text.osMailAlloc:0000000000000000 osMailAlloc
     /tmp/cc5c7TuJ.s:2819   .text.osMailCAlloc:0000000000000000 $t
     /tmp/cc5c7TuJ.s:2826   .text.osMailCAlloc:0000000000000000 osMailCAlloc
     /tmp/cc5c7TuJ.s:2894   .text.osMailPut:0000000000000000 $t
     /tmp/cc5c7TuJ.s:2901   .text.osMailPut:0000000000000000 osMailPut
     /tmp/cc5c7TuJ.s:2999   .text.osMailPut:0000000000000078 $d
     /tmp/cc5c7TuJ.s:3004   .text.osMailGet:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3011   .text.osMailGet:0000000000000000 osMailGet
     /tmp/cc5c7TuJ.s:3174   .text.osMailGet:00000000000000e4 $d
     /tmp/cc5c7TuJ.s:3179   .text.osMailFree:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3186   .text.osMailFree:0000000000000000 osMailFree
     /tmp/cc5c7TuJ.s:3235   .text.osSystickHandler:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3242   .text.osSystickHandler:0000000000000000 osSystickHandler
     /tmp/cc5c7TuJ.s:3271   .text.osThreadSuspend:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3278   .text.osThreadSuspend:0000000000000000 osThreadSuspend
     /tmp/cc5c7TuJ.s:3315   .text.osThreadResume:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3322   .text.osThreadResume:0000000000000000 osThreadResume
     /tmp/cc5c7TuJ.s:3385   .text.osThreadResume:0000000000000040 $d
     /tmp/cc5c7TuJ.s:3390   .text.osThreadSuspendAll:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3397   .text.osThreadSuspendAll:0000000000000000 osThreadSuspendAll
     /tmp/cc5c7TuJ.s:3422   .text.osThreadResumeAll:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3429   .text.osThreadResumeAll:0000000000000000 osThreadResumeAll
     /tmp/cc5c7TuJ.s:3462   .text.osDelayUntil:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3469   .text.osDelayUntil:0000000000000000 osDelayUntil
     /tmp/cc5c7TuJ.s:3508   .text.osAbortDelay:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3515   .text.osAbortDelay:0000000000000000 osAbortDelay
     /tmp/cc5c7TuJ.s:3553   .text.osThreadList:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3560   .text.osThreadList:0000000000000000 osThreadList
     /tmp/cc5c7TuJ.s:3598   .text.osMessagePeek:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3605   .text.osMessagePeek:0000000000000000 osMessagePeek
     /tmp/cc5c7TuJ.s:3721   .text.osMessageWaiting:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3728   .text.osMessageWaiting:0000000000000000 osMessageWaiting
     /tmp/cc5c7TuJ.s:3776   .text.osMessageAvailableSpace:0000000000000000 $t
ARM GAS  /tmp/cc5c7TuJ.s 			page 111


     /tmp/cc5c7TuJ.s:3783   .text.osMessageAvailableSpace:0000000000000000 osMessageAvailableSpace
     /tmp/cc5c7TuJ.s:3819   .text.osMessageDelete:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3826   .text.osMessageDelete:0000000000000000 osMessageDelete
     /tmp/cc5c7TuJ.s:3873   .text.osRecursiveMutexCreate:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3880   .text.osRecursiveMutexCreate:0000000000000000 osRecursiveMutexCreate
     /tmp/cc5c7TuJ.s:3918   .text.osRecursiveMutexRelease:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3925   .text.osRecursiveMutexRelease:0000000000000000 osRecursiveMutexRelease
     /tmp/cc5c7TuJ.s:3963   .text.osRecursiveMutexWait:0000000000000000 $t
     /tmp/cc5c7TuJ.s:3970   .text.osRecursiveMutexWait:0000000000000000 osRecursiveMutexWait
     /tmp/cc5c7TuJ.s:4009   .text.osSemaphoreGetCount:0000000000000000 $t
     /tmp/cc5c7TuJ.s:4016   .text.osSemaphoreGetCount:0000000000000000 osSemaphoreGetCount
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
vTaskStartScheduler
xTaskGetSchedulerState
xTaskGetTickCountFromISR
xTaskGetTickCount
xTaskCreate
xTaskGetCurrentTaskHandle
vTaskDelete
vTaskPrioritySet
uxTaskPriorityGetFromISR
uxTaskPriorityGet
vTaskDelay
xTaskGenericNotifyFromISR
xTaskGenericNotify
xTaskNotifyWait
xQueueCreateMutex
xQueueReceiveFromISR
xQueueGenericReceive
xQueueGiveFromISR
xQueueGenericSend
vQueueDelete
xQueueGenericCreate
pvPortMalloc
vPortFree
vPortEnterCritical
vPortExitCritical
memset
xQueueGenericSendFromISR
xPortSysTickHandler
vTaskSuspend
xTaskResumeFromISR
vTaskResume
vTaskSuspendAll
xTaskResumeAll
uxQueueMessagesWaitingFromISR
uxQueueMessagesWaiting
uxQueueSpacesAvailable
